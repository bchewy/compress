/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "(pages-dir-node)/./components/UniversalCompressor.js":
/*!*******************************************!*\
  !*** ./components/UniversalCompressor.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UniversalCompressor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/script */ \"(pages-dir-node)/./node_modules/next/script.js\");\n/* harmony import */ var next_script__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_script__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/fileTypes */ \"(pages-dir-node)/./utils/fileTypes.js\");\n/* harmony import */ var _utils_compressionEngine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/compressionEngine */ \"(pages-dir-node)/./utils/compressionEngine.js\");\n/* harmony import */ var _utils_pdfUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/pdfUtils */ \"(pages-dir-node)/./utils/pdfUtils.js\");\n\n\n\n\n\n\n\nfunction UniversalCompressor() {\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [processedFiles, setProcessedFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [processingProgress, setProcessingProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [currentProcessingFile, setCurrentProcessingFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Compression options for different file types\n    const [pdfOptions, setPdfOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        quality: 50,\n        dpi: 150\n    });\n    const [imageOptions, setImageOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        quality: 0.8,\n        format: 'jpeg',\n        maxWidth: null,\n        maxHeight: null\n    });\n    const [textOptions, setTextOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        method: 'optimize',\n        removeComments: true,\n        removeExtraWhitespace: true,\n        removeEmptyLines: true\n    });\n    const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');\n    const [showAdvancedOptions, setShowAdvancedOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const dropAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const handleDragOver = (e)=>{\n        e.preventDefault();\n        dropAreaRef.current?.classList.add('highlight');\n    };\n    const handleDragLeave = ()=>{\n        dropAreaRef.current?.classList.remove('highlight');\n    };\n    const handleDrop = (e)=>{\n        e.preventDefault();\n        dropAreaRef.current?.classList.remove('highlight');\n        const droppedFiles = e.dataTransfer.files;\n        handleFiles(droppedFiles);\n    };\n    const handleFileSelect = (e)=>{\n        handleFiles(e.target.files);\n    };\n    const handleFiles = (newFiles)=>{\n        const supportedFiles = Array.from(newFiles).filter((file)=>{\n            if (!(0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.isFileSupported)(file)) {\n                console.warn(`Unsupported file type: ${file.name}`);\n                return false;\n            }\n            return true;\n        });\n        if (supportedFiles.length === 0) {\n            alert('No supported files found. Please select PDF, image, text, or document files.');\n            return;\n        }\n        if (supportedFiles.length !== newFiles.length) {\n            alert(`${newFiles.length - supportedFiles.length} unsupported files were excluded.`);\n        }\n        setFiles((prev)=>[\n                ...prev,\n                ...supportedFiles\n            ]);\n    };\n    const removeFile = (index)=>{\n        setFiles((prev)=>prev.filter((_, i)=>i !== index));\n    };\n    const processFiles = async ()=>{\n        if (files.length === 0) {\n            alert('Please select at least one file to compress.');\n            return;\n        }\n        setIsProcessing(true);\n        setProcessedFiles([]);\n        setProcessingProgress(0);\n        try {\n            const compressionOptions = {\n                [_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES.PDF]: pdfOptions,\n                [_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES.IMAGE]: imageOptions,\n                [_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES.TEXT]: textOptions\n            };\n            const progressCallback = (progress, fileIndex, fileName, fileType)=>{\n                setProcessingProgress(progress);\n                setCurrentProcessingFile(fileName);\n            };\n            const results = await _utils_compressionEngine__WEBPACK_IMPORTED_MODULE_5__.compressionEngine.compressFiles(files, compressionOptions, progressCallback);\n            setProcessedFiles(results);\n        } catch (error) {\n            console.error('Error processing files:', error);\n            alert('Error processing files: ' + error.message);\n        }\n        setIsProcessing(false);\n        setProcessingProgress(0);\n        setCurrentProcessingFile('');\n    };\n    const getFilesByType = (fileType)=>{\n        return files.filter((file)=>(0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.detectFileType)(file) === fileType);\n    };\n    const getProcessedFilesByType = (fileType)=>{\n        return processedFiles.filter((result)=>result.fileType === fileType);\n    };\n    const renderFileList = (filesToRender, title)=>{\n        if (filesToRender.length === 0) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"file-type-section\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                    children: [\n                        title,\n                        \" (\",\n                        filesToRender.length,\n                        \")\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 141,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"file-list\",\n                    children: filesToRender.map((file, index)=>{\n                        const fileType = (0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.detectFileType)(file);\n                        const fileInfo = (0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.getFileTypeInfo)(fileType);\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"file-item\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"file-icon\",\n                                    children: fileInfo?.icon || '📄'\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 149,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"file-details\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"file-name\",\n                                            children: file.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 151,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"file-size\",\n                                            children: (0,_utils_pdfUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(file.size)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 152,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"file-type\",\n                                            children: fileInfo?.description || 'Unknown'\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 153,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 150,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"remove-btn\",\n                                    onClick: ()=>removeFile(files.indexOf(file)),\n                                    children: \"\\xd7\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 155,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 148,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 142,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n            lineNumber: 140,\n            columnNumber: 7\n        }, this);\n    };\n    const renderCompressionOptions = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"compression-options\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"options-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            children: \"Compression Options\"\n                        }, void 0, false, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 168,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"toggle-advanced\",\n                            onClick: ()=>setShowAdvancedOptions(!showAdvancedOptions),\n                            children: [\n                                showAdvancedOptions ? 'Simple' : 'Advanced',\n                                \" Options\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 169,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 167,\n                    columnNumber: 9\n                }, this),\n                getFilesByType(_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES.PDF).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"file-type-options\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            children: \"\\uD83D\\uDCC4 PDF Options\"\n                        }, void 0, false, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 180,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"option\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    children: [\n                                        \"Quality: \",\n                                        pdfOptions.quality,\n                                        \"%\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 182,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"range\",\n                                    min: \"1\",\n                                    max: \"100\",\n                                    value: pdfOptions.quality,\n                                    onChange: (e)=>setPdfOptions((prev)=>({\n                                                ...prev,\n                                                quality: parseInt(e.target.value)\n                                            }))\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 183,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 181,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"option\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    children: [\n                                        \"DPI: \",\n                                        pdfOptions.dpi\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 192,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"range\",\n                                    min: \"72\",\n                                    max: \"300\",\n                                    value: pdfOptions.dpi,\n                                    onChange: (e)=>setPdfOptions((prev)=>({\n                                                ...prev,\n                                                dpi: parseInt(e.target.value)\n                                            }))\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 193,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 191,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 179,\n                    columnNumber: 11\n                }, this),\n                getFilesByType(_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES.IMAGE).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"file-type-options\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            children: \"\\uD83D\\uDDBC️ Image Options\"\n                        }, void 0, false, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 207,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"option\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    children: [\n                                        \"Quality: \",\n                                        Math.round(imageOptions.quality * 100),\n                                        \"%\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 209,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"range\",\n                                    min: \"0.1\",\n                                    max: \"1\",\n                                    step: \"0.1\",\n                                    value: imageOptions.quality,\n                                    onChange: (e)=>setImageOptions((prev)=>({\n                                                ...prev,\n                                                quality: parseFloat(e.target.value)\n                                            }))\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 210,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 208,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"option\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    children: \"Format:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 220,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: imageOptions.format,\n                                    onChange: (e)=>setImageOptions((prev)=>({\n                                                ...prev,\n                                                format: e.target.value\n                                            })),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"jpeg\",\n                                            children: \"JPEG\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 225,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"png\",\n                                            children: \"PNG\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 226,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"webp\",\n                                            children: \"WebP\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 227,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 221,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 219,\n                            columnNumber: 13\n                        }, this),\n                        showAdvancedOptions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"option\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            children: \"Max Width (px):\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 233,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            placeholder: \"Auto\",\n                                            value: imageOptions.maxWidth || '',\n                                            onChange: (e)=>setImageOptions((prev)=>({\n                                                        ...prev,\n                                                        maxWidth: e.target.value ? parseInt(e.target.value) : null\n                                                    }))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 234,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 232,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"option\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            children: \"Max Height (px):\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 245,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            placeholder: \"Auto\",\n                                            value: imageOptions.maxHeight || '',\n                                            onChange: (e)=>setImageOptions((prev)=>({\n                                                        ...prev,\n                                                        maxHeight: e.target.value ? parseInt(e.target.value) : null\n                                                    }))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 246,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 244,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 206,\n                    columnNumber: 11\n                }, this),\n                getFilesByType(_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES.TEXT).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"file-type-options\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            children: \"\\uD83D\\uDCDD Text Options\"\n                        }, void 0, false, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 264,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"option\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    children: \"Method:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 266,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: textOptions.method,\n                                    onChange: (e)=>setTextOptions((prev)=>({\n                                                ...prev,\n                                                method: e.target.value\n                                            })),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"optimize\",\n                                            children: \"Optimize\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 271,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"minify\",\n                                            children: \"Minify\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 272,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"gzip\",\n                                            children: \"GZIP\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 273,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 267,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 265,\n                            columnNumber: 13\n                        }, this),\n                        showAdvancedOptions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"option-checkbox\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"checkbox\",\n                                            checked: textOptions.removeComments,\n                                            onChange: (e)=>setTextOptions((prev)=>({\n                                                        ...prev,\n                                                        removeComments: e.target.checked\n                                                    }))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 279,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            children: \"Remove Comments\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 284,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 278,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"option-checkbox\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"checkbox\",\n                                            checked: textOptions.removeExtraWhitespace,\n                                            onChange: (e)=>setTextOptions((prev)=>({\n                                                        ...prev,\n                                                        removeExtraWhitespace: e.target.checked\n                                                    }))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 287,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            children: \"Remove Extra Whitespace\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 292,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 286,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"option-checkbox\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"checkbox\",\n                                            checked: textOptions.removeEmptyLines,\n                                            onChange: (e)=>setTextOptions((prev)=>({\n                                                        ...prev,\n                                                        removeEmptyLines: e.target.checked\n                                                    }))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 295,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            children: \"Remove Empty Lines\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 300,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 294,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 263,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n            lineNumber: 166,\n            columnNumber: 7\n        }, this);\n    };\n    const renderResults = ()=>{\n        if (processedFiles.length === 0) return null;\n        const successfulResults = processedFiles.filter((result)=>result.success);\n        const failedResults = processedFiles.filter((result)=>!result.success);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"results\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    children: [\n                        \"Results (\",\n                        processedFiles.length,\n                        \" files processed)\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 318,\n                    columnNumber: 9\n                }, this),\n                successfulResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"successful-results\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            children: [\n                                \"✅ Successfully Compressed (\",\n                                successfulResults.length,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 322,\n                            columnNumber: 13\n                        }, this),\n                        successfulResults.map((result, index)=>{\n                            const fileInfo = (0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.getFileTypeInfo)(result.fileType);\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"result-item\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"result-header\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"file-icon\",\n                                                children: fileInfo?.icon || '📄'\n                                            }, void 0, false, {\n                                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                lineNumber: 329,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"file-name\",\n                                                children: result.original.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                lineNumber: 330,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                        lineNumber: 328,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"result-details\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"size-comparison\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Original: \",\n                                                            (0,_utils_pdfUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(result.original.size)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                        lineNumber: 334,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \" → \"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                        lineNumber: 335,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Compressed: \",\n                                                            (0,_utils_pdfUtils__WEBPACK_IMPORTED_MODULE_6__.formatFileSize)(result.compressed.size)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                        lineNumber: 336,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"reduction\",\n                                                        children: [\n                                                            \" (\",\n                                                            result.reduction,\n                                                            \"% smaller)\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                        lineNumber: 337,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                lineNumber: 333,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"actions\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>(0,_utils_pdfUtils__WEBPACK_IMPORTED_MODULE_6__.downloadFile)(result.compressed),\n                                                    children: \"Download\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                    lineNumber: 340,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                                lineNumber: 339,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                        lineNumber: 332,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 327,\n                                columnNumber: 17\n                            }, this);\n                        })\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 321,\n                    columnNumber: 11\n                }, this),\n                failedResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"failed-results\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            children: [\n                                \"❌ Failed to Compress (\",\n                                failedResults.length,\n                                \")\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 351,\n                            columnNumber: 13\n                        }, this),\n                        failedResults.map((result, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"result-item error\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"file-name\",\n                                        children: result.original.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                        lineNumber: 354,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"error-message\",\n                                        children: result.error\n                                    }, void 0, false, {\n                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                        lineNumber: 355,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, index, true, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 353,\n                                columnNumber: 15\n                            }, this))\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 350,\n                    columnNumber: 11\n                }, this),\n                successfulResults.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"download-all-container\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>(0,_utils_pdfUtils__WEBPACK_IMPORTED_MODULE_6__.downloadAllFiles)(successfulResults.map((r)=>r.compressed)),\n                        children: \"Download All Compressed Files\"\n                    }, void 0, false, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 363,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                    lineNumber: 362,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n            lineNumber: 317,\n            columnNumber: 7\n        }, this);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Universal File Compressor\"\n                    }, void 0, false, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 375,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1.0\"\n                    }, void 0, false, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 376,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                lineNumber: 374,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_script__WEBPACK_IMPORTED_MODULE_3___default()), {\n                src: \"https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js\",\n                strategy: \"beforeInteractive\"\n            }, void 0, false, {\n                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                lineNumber: 379,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_script__WEBPACK_IMPORTED_MODULE_3___default()), {\n                src: \"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js\",\n                strategy: \"beforeInteractive\"\n            }, void 0, false, {\n                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                lineNumber: 383,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: \"Universal File Compressor\"\n                    }, void 0, false, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 389,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"subtitle\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Compress PDFs, images, text files, and more while maintaining quality\"\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 391,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"https://github.com/bchewy/compress\",\n                                className: \"github-link\",\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        height: \"24\",\n                                        viewBox: \"0 0 16 16\",\n                                        width: \"24\",\n                                        className: \"github-icon\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            fillRule: \"evenodd\",\n                                            d: \"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 394,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                        lineNumber: 393,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"GitHub Repository\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 392,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 390,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"supported-formats\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    children: \"Supported formats:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 401,\n                                    columnNumber: 14\n                                }, this),\n                                \" PDF, JPEG, PNG, GIF, WebP, TXT, MD, JSON, XML, CSV, and more\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 401,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 400,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: dropAreaRef,\n                        className: \"drop-area\",\n                        onDragOver: handleDragOver,\n                        onDragLeave: handleDragLeave,\n                        onDrop: handleDrop,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Drop files here or\"\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 411,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                ref: fileInputRef,\n                                type: \"file\",\n                                accept: (0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.getAllSupportedExtensions)(),\n                                multiple: true,\n                                hidden: true,\n                                onChange: handleFileSelect\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 412,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>fileInputRef.current?.click(),\n                                children: \"Select Files\"\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 420,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 404,\n                        columnNumber: 9\n                    }, this),\n                    files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"file-list-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: [\n                                    \"Files to Process (\",\n                                    files.length,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 425,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"file-type-tabs\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: selectedTab === 'all' ? 'active' : '',\n                                        onClick: ()=>setSelectedTab('all'),\n                                        children: [\n                                            \"All (\",\n                                            files.length,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                        lineNumber: 428,\n                                        columnNumber: 15\n                                    }, this),\n                                    Object.values(_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.FILE_TYPES).map((type)=>{\n                                        const typeFiles = getFilesByType(type);\n                                        if (typeFiles.length === 0) return null;\n                                        const info = (0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.getFileTypeInfo)(type);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: selectedTab === type ? 'active' : '',\n                                            onClick: ()=>setSelectedTab(type),\n                                            children: [\n                                                info.icon,\n                                                \" \",\n                                                info.description,\n                                                \" (\",\n                                                typeFiles.length,\n                                                \")\"\n                                            ]\n                                        }, type, true, {\n                                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                            lineNumber: 440,\n                                            columnNumber: 19\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 427,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"file-list-content\",\n                                children: selectedTab === 'all' ? renderFileList(files, 'All Files') : renderFileList(getFilesByType(selectedTab), (0,_utils_fileTypes__WEBPACK_IMPORTED_MODULE_4__.getFileTypeInfo)(selectedTab)?.description || 'Files')\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 451,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 424,\n                        columnNumber: 11\n                    }, this),\n                    files.length > 0 && renderCompressionOptions(),\n                    isProcessing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"processing-status\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"Processing Files...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 464,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"progress-bar\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"progress\",\n                                    style: {\n                                        width: `${processingProgress}%`\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                    lineNumber: 466,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 465,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    Math.round(processingProgress),\n                                    \"% - \",\n                                    currentProcessingFile\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                                lineNumber: 468,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 463,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"action-buttons\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"compress-btn\",\n                            disabled: files.length === 0 || isProcessing,\n                            onClick: processFiles,\n                            children: isProcessing ? 'Processing...' : `Compress ${files.length} File${files.length === 1 ? '' : 's'}`\n                        }, void 0, false, {\n                            fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                            lineNumber: 473,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                        lineNumber: 472,\n                        columnNumber: 9\n                    }, this),\n                    renderResults()\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/brianchew/dev/compress/components/UniversalCompressor.js\",\n                lineNumber: 388,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvVW5pdmVyc2FsQ29tcHJlc3Nvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ3ZCO0FBQ0k7QUFPTDtBQUNtQztBQUNvQjtBQUVwRSxTQUFTYztJQUN0QixNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR2hCLCtDQUFRQSxDQUFDLEVBQUU7SUFDckMsTUFBTSxDQUFDaUIsZ0JBQWdCQyxrQkFBa0IsR0FBR2xCLCtDQUFRQSxDQUFDLEVBQUU7SUFDdkQsTUFBTSxDQUFDbUIsY0FBY0MsZ0JBQWdCLEdBQUdwQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNxQixvQkFBb0JDLHNCQUFzQixHQUFHdEIsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxDQUFDdUIsdUJBQXVCQyx5QkFBeUIsR0FBR3hCLCtDQUFRQSxDQUFDO0lBRW5FLCtDQUErQztJQUMvQyxNQUFNLENBQUN5QixZQUFZQyxjQUFjLEdBQUcxQiwrQ0FBUUEsQ0FBQztRQUFFMkIsU0FBUztRQUFJQyxLQUFLO0lBQUk7SUFDckUsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBRzlCLCtDQUFRQSxDQUFDO1FBQy9DMkIsU0FBUztRQUNUSSxRQUFRO1FBQ1JDLFVBQVU7UUFDVkMsV0FBVztJQUNiO0lBQ0EsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBQztRQUM3Q29DLFFBQVE7UUFDUkMsZ0JBQWdCO1FBQ2hCQyx1QkFBdUI7UUFDdkJDLGtCQUFrQjtJQUNwQjtJQUVBLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHekMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDMEMscUJBQXFCQyx1QkFBdUIsR0FBRzNDLCtDQUFRQSxDQUFDO0lBRS9ELE1BQU00QyxlQUFlMUMsNkNBQU1BLENBQUM7SUFDNUIsTUFBTTJDLGNBQWMzQyw2Q0FBTUEsQ0FBQztJQUUzQixNQUFNNEMsaUJBQWlCLENBQUNDO1FBQ3RC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b0NBQUd0QixLQUFLQyxLQUFLLENBQUNqRztvQ0FBb0I7b0NBQUtFOzs7Ozs7Ozs7Ozs7O2tDQUk1Qyw4REFBQ3lFO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDTzs0QkFDQ1AsV0FBVTs0QkFDVm1FLFVBQVVySixNQUFNc0QsTUFBTSxLQUFLLEtBQUtsRDs0QkFDaENzRixTQUFTN0I7c0NBRVJ6RCxlQUFlLGtCQUFrQixDQUFDLFNBQVMsRUFBRUosTUFBTXNELE1BQU0sQ0FBQyxLQUFLLEVBQUV0RCxNQUFNc0QsTUFBTSxLQUFLLElBQUksS0FBSyxLQUFLOzs7Ozs7Ozs7OztvQkFJcEd3RDs7Ozs7Ozs7O0FBSVQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmNoZXcvZGV2L2NvbXByZXNzL2NvbXBvbmVudHMvVW5pdmVyc2FsQ29tcHJlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IFNjcmlwdCBmcm9tICduZXh0L3NjcmlwdCc7XG5pbXBvcnQgeyBcbiAgRklMRV9UWVBFUywgXG4gIGRldGVjdEZpbGVUeXBlLCBcbiAgZ2V0RmlsZVR5cGVJbmZvLCBcbiAgZ2V0QWxsU3VwcG9ydGVkRXh0ZW5zaW9ucyxcbiAgaXNGaWxlU3VwcG9ydGVkIFxufSBmcm9tICcuLi91dGlscy9maWxlVHlwZXMnO1xuaW1wb3J0IHsgY29tcHJlc3Npb25FbmdpbmUgfSBmcm9tICcuLi91dGlscy9jb21wcmVzc2lvbkVuZ2luZSc7XG5pbXBvcnQgeyBmb3JtYXRGaWxlU2l6ZSwgZG93bmxvYWRGaWxlLCBkb3dubG9hZEFsbEZpbGVzIH0gZnJvbSAnLi4vdXRpbHMvcGRmVXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVbml2ZXJzYWxDb21wcmVzc29yKCkge1xuICBjb25zdCBbZmlsZXMsIHNldEZpbGVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Byb2Nlc3NlZEZpbGVzLCBzZXRQcm9jZXNzZWRGaWxlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9jZXNzaW5nUHJvZ3Jlc3MsIHNldFByb2Nlc3NpbmdQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2N1cnJlbnRQcm9jZXNzaW5nRmlsZSwgc2V0Q3VycmVudFByb2Nlc3NpbmdGaWxlXSA9IHVzZVN0YXRlKCcnKTtcbiAgXG4gIC8vIENvbXByZXNzaW9uIG9wdGlvbnMgZm9yIGRpZmZlcmVudCBmaWxlIHR5cGVzXG4gIGNvbnN0IFtwZGZPcHRpb25zLCBzZXRQZGZPcHRpb25zXSA9IHVzZVN0YXRlKHsgcXVhbGl0eTogNTAsIGRwaTogMTUwIH0pO1xuICBjb25zdCBbaW1hZ2VPcHRpb25zLCBzZXRJbWFnZU9wdGlvbnNdID0gdXNlU3RhdGUoeyBcbiAgICBxdWFsaXR5OiAwLjgsIFxuICAgIGZvcm1hdDogJ2pwZWcnLFxuICAgIG1heFdpZHRoOiBudWxsLFxuICAgIG1heEhlaWdodDogbnVsbCBcbiAgfSk7XG4gIGNvbnN0IFt0ZXh0T3B0aW9ucywgc2V0VGV4dE9wdGlvbnNdID0gdXNlU3RhdGUoe1xuICAgIG1ldGhvZDogJ29wdGltaXplJyxcbiAgICByZW1vdmVDb21tZW50czogdHJ1ZSxcbiAgICByZW1vdmVFeHRyYVdoaXRlc3BhY2U6IHRydWUsXG4gICAgcmVtb3ZlRW1wdHlMaW5lczogdHJ1ZVxuICB9KTtcblxuICBjb25zdCBbc2VsZWN0ZWRUYWIsIHNldFNlbGVjdGVkVGFiXSA9IHVzZVN0YXRlKCdhbGwnKTtcbiAgY29uc3QgW3Nob3dBZHZhbmNlZE9wdGlvbnMsIHNldFNob3dBZHZhbmNlZE9wdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBkcm9wQXJlYVJlZiA9IHVzZVJlZihudWxsKTtcblxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRyb3BBcmVhUmVmLmN1cnJlbnQ/LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyYWdMZWF2ZSA9ICgpID0+IHtcbiAgICBkcm9wQXJlYVJlZi5jdXJyZW50Py5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZHJvcEFyZWFSZWYuY3VycmVudD8uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XG4gICAgXG4gICAgY29uc3QgZHJvcHBlZEZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgaGFuZGxlRmlsZXMoZHJvcHBlZEZpbGVzKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gKGUpID0+IHtcbiAgICBoYW5kbGVGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmlsZXMgPSAobmV3RmlsZXMpID0+IHtcbiAgICBjb25zdCBzdXBwb3J0ZWRGaWxlcyA9IEFycmF5LmZyb20obmV3RmlsZXMpLmZpbHRlcihmaWxlID0+IHtcbiAgICAgIGlmICghaXNGaWxlU3VwcG9ydGVkKGZpbGUpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgZmlsZSB0eXBlOiAke2ZpbGUubmFtZX1gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHN1cHBvcnRlZEZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYWxlcnQoJ05vIHN1cHBvcnRlZCBmaWxlcyBmb3VuZC4gUGxlYXNlIHNlbGVjdCBQREYsIGltYWdlLCB0ZXh0LCBvciBkb2N1bWVudCBmaWxlcy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKHN1cHBvcnRlZEZpbGVzLmxlbmd0aCAhPT0gbmV3RmlsZXMubGVuZ3RoKSB7XG4gICAgICBhbGVydChgJHtuZXdGaWxlcy5sZW5ndGggLSBzdXBwb3J0ZWRGaWxlcy5sZW5ndGh9IHVuc3VwcG9ydGVkIGZpbGVzIHdlcmUgZXhjbHVkZWQuYCk7XG4gICAgfVxuICAgIFxuICAgIHNldEZpbGVzKHByZXYgPT4gWy4uLnByZXYsIC4uLnN1cHBvcnRlZEZpbGVzXSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlRmlsZSA9IChpbmRleCkgPT4ge1xuICAgIHNldEZpbGVzKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSk7XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc0ZpbGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBmaWxlIHRvIGNvbXByZXNzLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XG4gICAgc2V0UHJvY2Vzc2VkRmlsZXMoW10pO1xuICAgIHNldFByb2Nlc3NpbmdQcm9ncmVzcygwKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29tcHJlc3Npb25PcHRpb25zID0ge1xuICAgICAgICBbRklMRV9UWVBFUy5QREZdOiBwZGZPcHRpb25zLFxuICAgICAgICBbRklMRV9UWVBFUy5JTUFHRV06IGltYWdlT3B0aW9ucyxcbiAgICAgICAgW0ZJTEVfVFlQRVMuVEVYVF06IHRleHRPcHRpb25zXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwcm9ncmVzc0NhbGxiYWNrID0gKHByb2dyZXNzLCBmaWxlSW5kZXgsIGZpbGVOYW1lLCBmaWxlVHlwZSkgPT4ge1xuICAgICAgICBzZXRQcm9jZXNzaW5nUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICBzZXRDdXJyZW50UHJvY2Vzc2luZ0ZpbGUoZmlsZU5hbWUpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGNvbXByZXNzaW9uRW5naW5lLmNvbXByZXNzRmlsZXMoXG4gICAgICAgIGZpbGVzLCBcbiAgICAgICAgY29tcHJlc3Npb25PcHRpb25zLCBcbiAgICAgICAgcHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgc2V0UHJvY2Vzc2VkRmlsZXMocmVzdWx0cyk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBmaWxlczonLCBlcnJvcik7XG4gICAgICBhbGVydCgnRXJyb3IgcHJvY2Vzc2luZyBmaWxlczogJyArIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpO1xuICAgIHNldFByb2Nlc3NpbmdQcm9ncmVzcygwKTtcbiAgICBzZXRDdXJyZW50UHJvY2Vzc2luZ0ZpbGUoJycpO1xuICB9O1xuXG4gIGNvbnN0IGdldEZpbGVzQnlUeXBlID0gKGZpbGVUeXBlKSA9PiB7XG4gICAgcmV0dXJuIGZpbGVzLmZpbHRlcihmaWxlID0+IGRldGVjdEZpbGVUeXBlKGZpbGUpID09PSBmaWxlVHlwZSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0UHJvY2Vzc2VkRmlsZXNCeVR5cGUgPSAoZmlsZVR5cGUpID0+IHtcbiAgICByZXR1cm4gcHJvY2Vzc2VkRmlsZXMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZmlsZVR5cGUgPT09IGZpbGVUeXBlKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJGaWxlTGlzdCA9IChmaWxlc1RvUmVuZGVyLCB0aXRsZSkgPT4ge1xuICAgIGlmIChmaWxlc1RvUmVuZGVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXR5cGUtc2VjdGlvblwiPlxuICAgICAgICA8aDQ+e3RpdGxlfSAoe2ZpbGVzVG9SZW5kZXIubGVuZ3RofSk8L2g0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtbGlzdFwiPlxuICAgICAgICAgIHtmaWxlc1RvUmVuZGVyLm1hcCgoZmlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVUeXBlID0gZGV0ZWN0RmlsZVR5cGUoZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGdldEZpbGVUeXBlSW5mbyhmaWxlVHlwZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZmlsZS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLWljb25cIj57ZmlsZUluZm8/Lmljb24gfHwgJ/Cfk4QnfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtbmFtZVwiPntmaWxlLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtc2l6ZVwiPntmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXR5cGVcIj57ZmlsZUluZm8/LmRlc2NyaXB0aW9uIHx8ICdVbmtub3duJ308L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInJlbW92ZS1idG5cIiBvbkNsaWNrPXsoKSA9PiByZW1vdmVGaWxlKGZpbGVzLmluZGV4T2YoZmlsZSkpfT7DlzwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJDb21wcmVzc2lvbk9wdGlvbnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tcHJlc3Npb24tb3B0aW9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvbnMtaGVhZGVyXCI+XG4gICAgICAgICAgPGgzPkNvbXByZXNzaW9uIE9wdGlvbnM8L2gzPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0b2dnbGUtYWR2YW5jZWRcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0FkdmFuY2VkT3B0aW9ucyghc2hvd0FkdmFuY2VkT3B0aW9ucyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Nob3dBZHZhbmNlZE9wdGlvbnMgPyAnU2ltcGxlJyA6ICdBZHZhbmNlZCd9IE9wdGlvbnNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFBERiBPcHRpb25zICovfVxuICAgICAgICB7Z2V0RmlsZXNCeVR5cGUoRklMRV9UWVBFUy5QREYpLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS10eXBlLW9wdGlvbnNcIj5cbiAgICAgICAgICAgIDxoND7wn5OEIFBERiBPcHRpb25zPC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgIDxsYWJlbD5RdWFsaXR5OiB7cGRmT3B0aW9ucy5xdWFsaXR5fSU8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCIgXG4gICAgICAgICAgICAgICAgbWluPVwiMVwiIFxuICAgICAgICAgICAgICAgIG1heD1cIjEwMFwiIFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwZGZPcHRpb25zLnF1YWxpdHl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQZGZPcHRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgcXVhbGl0eTogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIH0pKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgPGxhYmVsPkRQSToge3BkZk9wdGlvbnMuZHBpfTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIiBcbiAgICAgICAgICAgICAgICBtaW49XCI3MlwiIFxuICAgICAgICAgICAgICAgIG1heD1cIjMwMFwiIFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwZGZPcHRpb25zLmRwaX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBkZk9wdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBkcGk6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSB9KSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogSW1hZ2UgT3B0aW9ucyAqL31cbiAgICAgICAge2dldEZpbGVzQnlUeXBlKEZJTEVfVFlQRVMuSU1BR0UpLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS10eXBlLW9wdGlvbnNcIj5cbiAgICAgICAgICAgIDxoND7wn5a877iPIEltYWdlIE9wdGlvbnM8L2g0PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgPGxhYmVsPlF1YWxpdHk6IHtNYXRoLnJvdW5kKGltYWdlT3B0aW9ucy5xdWFsaXR5ICogMTAwKX0lPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiIFxuICAgICAgICAgICAgICAgIG1pbj1cIjAuMVwiIFxuICAgICAgICAgICAgICAgIG1heD1cIjFcIiBcbiAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17aW1hZ2VPcHRpb25zLnF1YWxpdHl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbWFnZU9wdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCBxdWFsaXR5OiBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSB9KSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgIDxsYWJlbD5Gb3JtYXQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgPHNlbGVjdCBcbiAgICAgICAgICAgICAgICB2YWx1ZT17aW1hZ2VPcHRpb25zLmZvcm1hdH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEltYWdlT3B0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIGZvcm1hdDogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImpwZWdcIj5KUEVHPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInBuZ1wiPlBORzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ3ZWJwXCI+V2ViUDwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3Nob3dBZHZhbmNlZE9wdGlvbnMgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+TWF4IFdpZHRoIChweCk6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiIFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkF1dG9cIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW1hZ2VPcHRpb25zLm1heFdpZHRoIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEltYWdlT3B0aW9ucyhwcmV2ID0+ICh7IFxuICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsIFxuICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBlLnRhcmdldC52YWx1ZSA/IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSA6IG51bGwgXG4gICAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5NYXggSGVpZ2h0IChweCk6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiIFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkF1dG9cIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW1hZ2VPcHRpb25zLm1heEhlaWdodCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbWFnZU9wdGlvbnMocHJldiA9PiAoeyBcbiAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IGUudGFyZ2V0LnZhbHVlID8gcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpIDogbnVsbCBcbiAgICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBUZXh0IE9wdGlvbnMgKi99XG4gICAgICAgIHtnZXRGaWxlc0J5VHlwZShGSUxFX1RZUEVTLlRFWFQpLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS10eXBlLW9wdGlvbnNcIj5cbiAgICAgICAgICAgIDxoND7wn5OdIFRleHQgT3B0aW9uczwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvblwiPlxuICAgICAgICAgICAgICA8bGFiZWw+TWV0aG9kOjwvbGFiZWw+XG4gICAgICAgICAgICAgIDxzZWxlY3QgXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RleHRPcHRpb25zLm1ldGhvZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRleHRPcHRpb25zKHByZXYgPT4gKHsgLi4ucHJldiwgbWV0aG9kOiBlLnRhcmdldC52YWx1ZSB9KSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW1pemVcIj5PcHRpbWl6ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtaW5pZnlcIj5NaW5pZnk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3ppcFwiPkdaSVA8L29wdGlvbj5cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtzaG93QWR2YW5jZWRPcHRpb25zICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvbi1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGV4dE9wdGlvbnMucmVtb3ZlQ29tbWVudHN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGV4dE9wdGlvbnMocHJldiA9PiAoeyAuLi5wcmV2LCByZW1vdmVDb21tZW50czogZS50YXJnZXQuY2hlY2tlZCB9KSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPlJlbW92ZSBDb21tZW50czwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcHRpb24tY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCIgXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RleHRPcHRpb25zLnJlbW92ZUV4dHJhV2hpdGVzcGFjZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZXh0T3B0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIHJlbW92ZUV4dHJhV2hpdGVzcGFjZTogZS50YXJnZXQuY2hlY2tlZCB9KSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPlJlbW92ZSBFeHRyYSBXaGl0ZXNwYWNlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wdGlvbi1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGV4dE9wdGlvbnMucmVtb3ZlRW1wdHlMaW5lc31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZXh0T3B0aW9ucyhwcmV2ID0+ICh7IC4uLnByZXYsIHJlbW92ZUVtcHR5TGluZXM6IGUudGFyZ2V0LmNoZWNrZWQgfSkpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5SZW1vdmUgRW1wdHkgTGluZXM8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclJlc3VsdHMgPSAoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3NlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBzdWNjZXNzZnVsUmVzdWx0cyA9IHByb2Nlc3NlZEZpbGVzLmZpbHRlcihyZXN1bHQgPT4gcmVzdWx0LnN1Y2Nlc3MpO1xuICAgIGNvbnN0IGZhaWxlZFJlc3VsdHMgPSBwcm9jZXNzZWRGaWxlcy5maWx0ZXIocmVzdWx0ID0+ICFyZXN1bHQuc3VjY2Vzcyk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHRzXCI+XG4gICAgICAgIDxoMz5SZXN1bHRzICh7cHJvY2Vzc2VkRmlsZXMubGVuZ3RofSBmaWxlcyBwcm9jZXNzZWQpPC9oMz5cbiAgICAgICAgXG4gICAgICAgIHtzdWNjZXNzZnVsUmVzdWx0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1Y2Nlc3NmdWwtcmVzdWx0c1wiPlxuICAgICAgICAgICAgPGg0PuKchSBTdWNjZXNzZnVsbHkgQ29tcHJlc3NlZCAoe3N1Y2Nlc3NmdWxSZXN1bHRzLmxlbmd0aH0pPC9oND5cbiAgICAgICAgICAgIHtzdWNjZXNzZnVsUmVzdWx0cy5tYXAoKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZmlsZUluZm8gPSBnZXRGaWxlVHlwZUluZm8ocmVzdWx0LmZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJyZXN1bHQtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHQtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1pY29uXCI+e2ZpbGVJbmZvPy5pY29uIHx8ICfwn5OEJ308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLW5hbWVcIj57cmVzdWx0Lm9yaWdpbmFsLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdWx0LWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaXplLWNvbXBhcmlzb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5PcmlnaW5hbDoge2Zvcm1hdEZpbGVTaXplKHJlc3VsdC5vcmlnaW5hbC5zaXplKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+IOKGkiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q29tcHJlc3NlZDoge2Zvcm1hdEZpbGVTaXplKHJlc3VsdC5jb21wcmVzc2VkLnNpemUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyZWR1Y3Rpb25cIj4gKHtyZXN1bHQucmVkdWN0aW9ufSUgc21hbGxlcik8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGRvd25sb2FkRmlsZShyZXN1bHQuY29tcHJlc3NlZCl9PkRvd25sb2FkPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7ZmFpbGVkUmVzdWx0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZhaWxlZC1yZXN1bHRzXCI+XG4gICAgICAgICAgICA8aDQ+4p2MIEZhaWxlZCB0byBDb21wcmVzcyAoe2ZhaWxlZFJlc3VsdHMubGVuZ3RofSk8L2g0PlxuICAgICAgICAgICAge2ZhaWxlZFJlc3VsdHMubWFwKChyZXN1bHQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwicmVzdWx0LWl0ZW0gZXJyb3JcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtbmFtZVwiPntyZXN1bHQub3JpZ2luYWwubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj57cmVzdWx0LmVycm9yfTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHtzdWNjZXNzZnVsUmVzdWx0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvd25sb2FkLWFsbC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZG93bmxvYWRBbGxGaWxlcyhzdWNjZXNzZnVsUmVzdWx0cy5tYXAociA9PiByLmNvbXByZXNzZWQpKX0+XG4gICAgICAgICAgICAgIERvd25sb2FkIEFsbCBDb21wcmVzc2VkIEZpbGVzXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5Vbml2ZXJzYWwgRmlsZSBDb21wcmVzc29yPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIiAvPlxuICAgICAgPC9IZWFkPlxuICAgICAgXG4gICAgICA8U2NyaXB0IFxuICAgICAgICBzcmM9XCJodHRwczovL3VucGtnLmNvbS9wZGYtbGliQDEuMTcuMS9kaXN0L3BkZi1saWIubWluLmpzXCIgXG4gICAgICAgIHN0cmF0ZWd5PVwiYmVmb3JlSW50ZXJhY3RpdmVcIlxuICAgICAgLz5cbiAgICAgIDxTY3JpcHQgXG4gICAgICAgIHNyYz1cImh0dHBzOi8vdW5wa2cuY29tL3BkZmpzLWRpc3RAMy4xMS4xNzQvYnVpbGQvcGRmLm1pbi5qc1wiIFxuICAgICAgICBzdHJhdGVneT1cImJlZm9yZUludGVyYWN0aXZlXCJcbiAgICAgIC8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxoMT5Vbml2ZXJzYWwgRmlsZSBDb21wcmVzc29yPC9oMT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiPlxuICAgICAgICAgIDxwPkNvbXByZXNzIFBERnMsIGltYWdlcywgdGV4dCBmaWxlcywgYW5kIG1vcmUgd2hpbGUgbWFpbnRhaW5pbmcgcXVhbGl0eTwvcD5cbiAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2JjaGV3eS9jb21wcmVzc1wiIGNsYXNzTmFtZT1cImdpdGh1Yi1saW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPlxuICAgICAgICAgICAgPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIiB3aWR0aD1cIjI0XCIgY2xhc3NOYW1lPVwiZ2l0aHViLWljb25cIj5cbiAgICAgICAgICAgICAgPHBhdGggZmlsbFJ1bGU9XCJldmVub2RkXCIgZD1cIk04IDBDMy41OCAwIDAgMy41OCAwIDhjMCAzLjU0IDIuMjkgNi41MyA1LjQ3IDcuNTkuNC4wNy41NS0uMTcuNTUtLjM4IDAtLjE5LS4wMS0uODItLjAxLTEuNDktMi4wMS4zNy0yLjUzLS40OS0yLjY5LS45NC0uMDktLjIzLS40OC0uOTQtLjgyLTEuMTMtLjI4LS4xNS0uNjgtLjUyLS4wMS0uNTMuNjMtLjAxIDEuMDguNTggMS4yMy44Mi43MiAxLjIxIDEuODcuODcgMi4zMy42Ni4wNy0uNTIuMjgtLjg3LjUxLTEuMDctMS43OC0uMi0zLjY0LS44OS0zLjY0LTMuOTUgMC0uODcuMzEtMS41OS44Mi0yLjE1LS4wOC0uMi0uMzYtMS4wMi4wOC0yLjEyIDAgMCAuNjctLjIxIDIuMi44Mi42NC0uMTggMS4zMi0uMjcgMi0uMjcuNjggMCAxLjM2LjA5IDIgLjI3IDEuNTMtMS4wNCAyLjItLjgyIDIuMi0uODIuNDQgMS4xLjE2IDEuOTIuMDggMi4xMi41MS41Ni44MiAxLjI3LjgyIDIuMTUgMCAzLjA3LTEuODcgMy43NS0zLjY1IDMuOTUuMjkuMjUuNTQuNzMuNTQgMS40OCAwIDEuMDctLjAxIDEuOTMtLjAxIDIuMiAwIC4yMS4xNS40Ni41NS4zOEE4LjAxMyA4LjAxMyAwIDAwMTYgOGMwLTQuNDItMy41OC04LTgtOHpcIj48L3BhdGg+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIEdpdEh1YiBSZXBvc2l0b3J5XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VwcG9ydGVkLWZvcm1hdHNcIj5cbiAgICAgICAgICA8cD48c3Ryb25nPlN1cHBvcnRlZCBmb3JtYXRzOjwvc3Ryb25nPiBQREYsIEpQRUcsIFBORywgR0lGLCBXZWJQLCBUWFQsIE1ELCBKU09OLCBYTUwsIENTViwgYW5kIG1vcmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICByZWY9e2Ryb3BBcmVhUmVmfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3AtYXJlYVwiXG4gICAgICAgICAgb25EcmFnT3Zlcj17aGFuZGxlRHJhZ092ZXJ9XG4gICAgICAgICAgb25EcmFnTGVhdmU9e2hhbmRsZURyYWdMZWF2ZX1cbiAgICAgICAgICBvbkRyb3A9e2hhbmRsZURyb3B9XG4gICAgICAgID5cbiAgICAgICAgICA8cD5Ecm9wIGZpbGVzIGhlcmUgb3I8L3A+XG4gICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgcmVmPXtmaWxlSW5wdXRSZWZ9XG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiIFxuICAgICAgICAgICAgYWNjZXB0PXtnZXRBbGxTdXBwb3J0ZWRFeHRlbnNpb25zKCl9XG4gICAgICAgICAgICBtdWx0aXBsZSBcbiAgICAgICAgICAgIGhpZGRlbiBcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX0+U2VsZWN0IEZpbGVzPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAge2ZpbGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1saXN0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGgzPkZpbGVzIHRvIFByb2Nlc3MgKHtmaWxlcy5sZW5ndGh9KTwvaDM+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS10eXBlLXRhYnNcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkVGFiID09PSAnYWxsJyA/ICdhY3RpdmUnIDogJyd9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRUYWIoJ2FsbCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQWxsICh7ZmlsZXMubGVuZ3RofSlcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHtPYmplY3QudmFsdWVzKEZJTEVfVFlQRVMpLm1hcCh0eXBlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlRmlsZXMgPSBnZXRGaWxlc0J5VHlwZSh0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZUZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IGdldEZpbGVUeXBlSW5mbyh0eXBlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAga2V5PXt0eXBlfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3NlbGVjdGVkVGFiID09PSB0eXBlID8gJ2FjdGl2ZScgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRUYWIodHlwZSl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpbmZvLmljb259IHtpbmZvLmRlc2NyaXB0aW9ufSAoe3R5cGVGaWxlcy5sZW5ndGh9KVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLWxpc3QtY29udGVudFwiPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRUYWIgPT09ICdhbGwnIFxuICAgICAgICAgICAgICAgID8gcmVuZGVyRmlsZUxpc3QoZmlsZXMsICdBbGwgRmlsZXMnKVxuICAgICAgICAgICAgICAgIDogcmVuZGVyRmlsZUxpc3QoZ2V0RmlsZXNCeVR5cGUoc2VsZWN0ZWRUYWIpLCBnZXRGaWxlVHlwZUluZm8oc2VsZWN0ZWRUYWIpPy5kZXNjcmlwdGlvbiB8fCAnRmlsZXMnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtmaWxlcy5sZW5ndGggPiAwICYmIHJlbmRlckNvbXByZXNzaW9uT3B0aW9ucygpfVxuICAgICAgICBcbiAgICAgICAge2lzUHJvY2Vzc2luZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9jZXNzaW5nLXN0YXR1c1wiPlxuICAgICAgICAgICAgPGgzPlByb2Nlc3NpbmcgRmlsZXMuLi48L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiIHN0eWxlPXt7IHdpZHRoOiBgJHtwcm9jZXNzaW5nUHJvZ3Jlc3N9JWAgfX0+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwPntNYXRoLnJvdW5kKHByb2Nlc3NpbmdQcm9ncmVzcyl9JSAtIHtjdXJyZW50UHJvY2Vzc2luZ0ZpbGV9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb24tYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjb21wcmVzcy1idG5cIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e2ZpbGVzLmxlbmd0aCA9PT0gMCB8fCBpc1Byb2Nlc3Npbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXtwcm9jZXNzRmlsZXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2lzUHJvY2Vzc2luZyA/ICdQcm9jZXNzaW5nLi4uJyA6IGBDb21wcmVzcyAke2ZpbGVzLmxlbmd0aH0gRmlsZSR7ZmlsZXMubGVuZ3RoID09PSAxID8gJycgOiAncyd9YH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7cmVuZGVyUmVzdWx0cygpfVxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSGVhZCIsIlNjcmlwdCIsIkZJTEVfVFlQRVMiLCJkZXRlY3RGaWxlVHlwZSIsImdldEZpbGVUeXBlSW5mbyIsImdldEFsbFN1cHBvcnRlZEV4dGVuc2lvbnMiLCJpc0ZpbGVTdXBwb3J0ZWQiLCJjb21wcmVzc2lvbkVuZ2luZSIsImZvcm1hdEZpbGVTaXplIiwiZG93bmxvYWRGaWxlIiwiZG93bmxvYWRBbGxGaWxlcyIsIlVuaXZlcnNhbENvbXByZXNzb3IiLCJmaWxlcyIsInNldEZpbGVzIiwicHJvY2Vzc2VkRmlsZXMiLCJzZXRQcm9jZXNzZWRGaWxlcyIsImlzUHJvY2Vzc2luZyIsInNldElzUHJvY2Vzc2luZyIsInByb2Nlc3NpbmdQcm9ncmVzcyIsInNldFByb2Nlc3NpbmdQcm9ncmVzcyIsImN1cnJlbnRQcm9jZXNzaW5nRmlsZSIsInNldEN1cnJlbnRQcm9jZXNzaW5nRmlsZSIsInBkZk9wdGlvbnMiLCJzZXRQZGZPcHRpb25zIiwicXVhbGl0eSIsImRwaSIsImltYWdlT3B0aW9ucyIsInNldEltYWdlT3B0aW9ucyIsImZvcm1hdCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwidGV4dE9wdGlvbnMiLCJzZXRUZXh0T3B0aW9ucyIsIm1ldGhvZCIsInJlbW92ZUNvbW1lbnRzIiwicmVtb3ZlRXh0cmFXaGl0ZXNwYWNlIiwicmVtb3ZlRW1wdHlMaW5lcyIsInNlbGVjdGVkVGFiIiwic2V0U2VsZWN0ZWRUYWIiLCJzaG93QWR2YW5jZWRPcHRpb25zIiwic2V0U2hvd0FkdmFuY2VkT3B0aW9ucyIsImZpbGVJbnB1dFJlZiIsImRyb3BBcmVhUmVmIiwiaGFuZGxlRHJhZ092ZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaGFuZGxlRHJhZ0xlYXZlIiwicmVtb3ZlIiwiaGFuZGxlRHJvcCIsImRyb3BwZWRGaWxlcyIsImRhdGFUcmFuc2ZlciIsImhhbmRsZUZpbGVzIiwiaGFuZGxlRmlsZVNlbGVjdCIsInRhcmdldCIsIm5ld0ZpbGVzIiwic3VwcG9ydGVkRmlsZXMiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJmaWxlIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwibGVuZ3RoIiwiYWxlcnQiLCJwcmV2IiwicmVtb3ZlRmlsZSIsImluZGV4IiwiXyIsImkiLCJwcm9jZXNzRmlsZXMiLCJjb21wcmVzc2lvbk9wdGlvbnMiLCJQREYiLCJJTUFHRSIsIlRFWFQiLCJwcm9ncmVzc0NhbGxiYWNrIiwicHJvZ3Jlc3MiLCJmaWxlSW5kZXgiLCJmaWxlTmFtZSIsImZpbGVUeXBlIiwicmVzdWx0cyIsImNvbXByZXNzRmlsZXMiLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRGaWxlc0J5VHlwZSIsImdldFByb2Nlc3NlZEZpbGVzQnlUeXBlIiwicmVzdWx0IiwicmVuZGVyRmlsZUxpc3QiLCJmaWxlc1RvUmVuZGVyIiwidGl0bGUiLCJkaXYiLCJjbGFzc05hbWUiLCJoNCIsIm1hcCIsImZpbGVJbmZvIiwiaWNvbiIsInNpemUiLCJkZXNjcmlwdGlvbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJpbmRleE9mIiwicmVuZGVyQ29tcHJlc3Npb25PcHRpb25zIiwiaDMiLCJsYWJlbCIsImlucHV0IiwidHlwZSIsIm1pbiIsIm1heCIsInZhbHVlIiwib25DaGFuZ2UiLCJwYXJzZUludCIsIk1hdGgiLCJyb3VuZCIsInN0ZXAiLCJwYXJzZUZsb2F0Iiwic2VsZWN0Iiwib3B0aW9uIiwicGxhY2Vob2xkZXIiLCJjaGVja2VkIiwicmVuZGVyUmVzdWx0cyIsInN1Y2Nlc3NmdWxSZXN1bHRzIiwic3VjY2VzcyIsImZhaWxlZFJlc3VsdHMiLCJvcmlnaW5hbCIsInNwYW4iLCJjb21wcmVzc2VkIiwicmVkdWN0aW9uIiwiciIsIm1ldGEiLCJjb250ZW50Iiwic3JjIiwic3RyYXRlZ3kiLCJoMSIsInAiLCJhIiwiaHJlZiIsInJlbCIsInN2ZyIsImhlaWdodCIsInZpZXdCb3giLCJ3aWR0aCIsInBhdGgiLCJmaWxsUnVsZSIsImQiLCJzdHJvbmciLCJyZWYiLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3AiLCJhY2NlcHQiLCJtdWx0aXBsZSIsImhpZGRlbiIsImNsaWNrIiwiT2JqZWN0IiwidmFsdWVzIiwidHlwZUZpbGVzIiwiaW5mbyIsInN0eWxlIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/UniversalCompressor.js\n");

/***/ }),

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./pages/_app.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.js */ \"(pages-dir-node)/./pages/index.js\");\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkYmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmluZGV4LmpzJmFic29sdXRlQXBwUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJmFic29sdXRlRG9jdW1lbnRQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9kb2N1bWVudCZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0Y7QUFDaEM7QUFDRTtBQUMxRDtBQUN5RDtBQUNWO0FBQy9DO0FBQzZDO0FBQzdDO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0Q0FBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyw0Q0FBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyw0Q0FBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyw0Q0FBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMsNENBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMsNENBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyw0Q0FBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUN6RDtBQUNPLHdCQUF3QixrR0FBZ0I7QUFDL0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGFBQWEsOERBQVc7QUFDeEIsa0JBQWtCLG9FQUFnQjtBQUNsQyxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgKiBhcyBkb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0ICogYXMgYXBwIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2FwcFwiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ2dldFN0YXRpY1Byb3BzJyk7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgJ2dldFN0YXRpY1BhdGhzJyk7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCAncmVwb3J0V2ViVml0YWxzJyk7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFN0YXRpY1Byb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFN0YXRpY1BhdGhzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U2VydmVyUHJvcHMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIC8vIGRlZmF1bHQgZXhwb3J0IG1pZ2h0IG5vdCBleGlzdCB3aGVuIG9wdGltaXplZCBmb3IgZGF0YSBvbmx5XG4gICAgICAgIEFwcDogYXBwLmRlZmF1bHQsXG4gICAgICAgIERvY3VtZW50OiBkb2N1bWVudC5kZWZhdWx0XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"(pages-dir-node)/./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction App({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        ...pageProps\n    }, void 0, false, {\n        fileName: \"/Users/brianchew/dev/compress/pages/_app.js\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL19hcHAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBRWYsU0FBU0EsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUNsRCxxQkFBTyw4REFBQ0Q7UUFBVyxHQUFHQyxTQUFTOzs7Ozs7QUFDakMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmNoZXcvZGV2L2NvbXByZXNzL3BhZ2VzL19hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgcmV0dXJuIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbn0iXSwibmFtZXMiOlsiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/_app.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_UniversalCompressor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/UniversalCompressor */ \"(pages-dir-node)/./components/UniversalCompressor.js\");\n\n\nfunction Home() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_UniversalCompressor__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n        fileName: \"/Users/brianchew/dev/compress/pages/index.js\",\n        lineNumber: 4,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW9FO0FBRXJELFNBQVNDO0lBQ3RCLHFCQUFPLDhEQUFDRCx1RUFBbUJBOzs7OztBQUM3QiIsInNvdXJjZXMiOlsiL1VzZXJzL2JyaWFuY2hldy9kZXYvY29tcHJlc3MvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXZlcnNhbENvbXByZXNzb3IgZnJvbSAnLi4vY29tcG9uZW50cy9Vbml2ZXJzYWxDb21wcmVzc29yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSgpIHtcbiAgcmV0dXJuIDxVbml2ZXJzYWxDb21wcmVzc29yIC8+O1xufSJdLCJuYW1lcyI6WyJVbml2ZXJzYWxDb21wcmVzc29yIiwiSG9tZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/index.js\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./utils/compressionEngine.js":
/*!************************************!*\
  !*** ./utils/compressionEngine.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompressionEngine: () => (/* binding */ CompressionEngine),\n/* harmony export */   compressionEngine: () => (/* binding */ compressionEngine)\n/* harmony export */ });\n/* harmony import */ var _fileTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fileTypes */ \"(pages-dir-node)/./utils/fileTypes.js\");\n/* harmony import */ var _pdfUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pdfUtils */ \"(pages-dir-node)/./utils/pdfUtils.js\");\n/* harmony import */ var _imageUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imageUtils */ \"(pages-dir-node)/./utils/imageUtils.js\");\n/* harmony import */ var _textUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./textUtils */ \"(pages-dir-node)/./utils/textUtils.js\");\n// Universal compression engine for all file types\n\n\n\n\n\nclass CompressionEngine {\n    constructor(){\n        this.supportedTypes = Object.values(_fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES);\n        this.activeJobs = new Map();\n    }\n    // Main compression method that routes to appropriate handler\n    async compressFile(file, options = {}, progressCallback = ()=>{}) {\n        const fileType = (0,_fileTypes__WEBPACK_IMPORTED_MODULE_0__.detectFileType)(file);\n        if (!fileType) {\n            throw new Error(`Unsupported file type: ${file.name}`);\n        }\n        const jobId = this.generateJobId();\n        this.activeJobs.set(jobId, {\n            file,\n            status: 'processing',\n            startTime: Date.now()\n        });\n        try {\n            let result;\n            switch(fileType){\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.PDF:\n                    result = await this.compressPdfFile(file, options, progressCallback);\n                    break;\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.IMAGE:\n                    result = await this.compressImageFile(file, options, progressCallback);\n                    break;\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.TEXT:\n                    result = await this.compressTextFile(file, options, progressCallback);\n                    break;\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.DOCUMENT:\n                    result = await this.compressDocumentFile(file, options, progressCallback);\n                    break;\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.VIDEO:\n                    result = await this.compressVideoFile(file, options, progressCallback);\n                    break;\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.AUDIO:\n                    result = await this.compressAudioFile(file, options, progressCallback);\n                    break;\n                case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.ARCHIVE:\n                    result = await this.optimizeArchiveFile(file, options, progressCallback);\n                    break;\n                default:\n                    throw new Error(`No compression handler for file type: ${fileType}`);\n            }\n            // Add metadata to result\n            result.fileType = fileType;\n            result.originalSize = file.size;\n            result.jobId = jobId;\n            result.processingTime = Date.now() - this.activeJobs.get(jobId).startTime;\n            this.activeJobs.set(jobId, {\n                ...this.activeJobs.get(jobId),\n                status: 'completed',\n                result\n            });\n            return result;\n        } catch (error) {\n            this.activeJobs.set(jobId, {\n                ...this.activeJobs.get(jobId),\n                status: 'failed',\n                error: error.message\n            });\n            throw error;\n        }\n    }\n    // Batch compression for multiple files\n    async compressFiles(files, options = {}, progressCallback = ()=>{}) {\n        const results = [];\n        const totalFiles = files.length;\n        // Group files by type for optimized processing\n        const fileGroups = this.groupFilesByType(files);\n        let processedCount = 0;\n        for (const [fileType, groupFiles] of Object.entries(fileGroups)){\n            for (const file of groupFiles){\n                try {\n                    const fileProgressCallback = (progress)=>{\n                        const overallProgress = (processedCount + progress / 100) / totalFiles * 100;\n                        progressCallback(overallProgress, processedCount, file.name, fileType);\n                    };\n                    const result = await this.compressFile(file, options[fileType] || options, fileProgressCallback);\n                    results.push({\n                        original: file,\n                        compressed: result.compressedFile,\n                        metadata: result.metadata || {},\n                        reduction: this.calculateReduction(file.size, result.compressedFile.size),\n                        fileType,\n                        success: true,\n                        processingTime: result.processingTime\n                    });\n                } catch (error) {\n                    _pdfUtils__WEBPACK_IMPORTED_MODULE_1__.debugConfig.error(`Failed to compress ${file.name}:`, error);\n                    results.push({\n                        original: file,\n                        compressed: null,\n                        error: error.message,\n                        fileType,\n                        success: false\n                    });\n                }\n                processedCount++;\n            }\n        }\n        return results;\n    }\n    // PDF compression handler\n    async compressPdfFile(file, options, progressCallback) {\n        const { quality = 50, dpi = 150 } = options;\n        const compressedFile = await (0,_pdfUtils__WEBPACK_IMPORTED_MODULE_1__.compressPdf)(file, quality, dpi, progressCallback);\n        return {\n            compressedFile,\n            metadata: {\n                originalQuality: 'Unknown',\n                newQuality: quality,\n                dpi: dpi,\n                compression: 'JPEG'\n            }\n        };\n    }\n    // Image compression handler\n    async compressImageFile(file, options, progressCallback) {\n        const { quality = 0.8, format = 'jpeg', maxWidth = null, maxHeight = null } = options;\n        const metadata = await (0,_imageUtils__WEBPACK_IMPORTED_MODULE_2__.getImageMetadata)(file);\n        const compressedFile = await (0,_imageUtils__WEBPACK_IMPORTED_MODULE_2__.compressImage)(file, {\n            quality,\n            format,\n            maxWidth,\n            maxHeight,\n            progressCallback\n        });\n        return {\n            compressedFile,\n            metadata: {\n                ...metadata,\n                newFormat: format,\n                newQuality: quality\n            }\n        };\n    }\n    // Text compression handler\n    async compressTextFile(file, options, progressCallback) {\n        const { method = 'optimize', removeComments = true, removeExtraWhitespace = true } = options;\n        const metadata = await (0,_textUtils__WEBPACK_IMPORTED_MODULE_3__.getTextMetadata)(file);\n        const compressedFile = await (0,_textUtils__WEBPACK_IMPORTED_MODULE_3__.compressText)(file, {\n            method,\n            removeComments,\n            removeExtraWhitespace,\n            progressCallback\n        });\n        return {\n            compressedFile,\n            metadata: {\n                ...metadata,\n                compressionMethod: method\n            }\n        };\n    }\n    // Document compression handler (placeholder for future implementation)\n    async compressDocumentFile(file, options, progressCallback) {\n        // For now, return original file with a note\n        progressCallback(100);\n        return {\n            compressedFile: file,\n            metadata: {\n                note: 'Document compression coming soon',\n                format: file.type\n            }\n        };\n    }\n    // Video compression handler (placeholder)\n    async compressVideoFile(file, options, progressCallback) {\n        progressCallback(100);\n        return {\n            compressedFile: file,\n            metadata: {\n                note: 'Video compression coming soon',\n                format: file.type\n            }\n        };\n    }\n    // Audio compression handler (placeholder)\n    async compressAudioFile(file, options, progressCallback) {\n        progressCallback(100);\n        return {\n            compressedFile: file,\n            metadata: {\n                note: 'Audio compression coming soon',\n                format: file.type\n            }\n        };\n    }\n    // Archive optimization handler (placeholder)\n    async optimizeArchiveFile(file, options, progressCallback) {\n        progressCallback(100);\n        return {\n            compressedFile: file,\n            metadata: {\n                note: 'Archive optimization coming soon',\n                format: file.type\n            }\n        };\n    }\n    // Helper methods\n    groupFilesByType(files) {\n        const groups = {};\n        files.forEach((file)=>{\n            const fileType = (0,_fileTypes__WEBPACK_IMPORTED_MODULE_0__.detectFileType)(file);\n            if (fileType) {\n                if (!groups[fileType]) {\n                    groups[fileType] = [];\n                }\n                groups[fileType].push(file);\n            }\n        });\n        return groups;\n    }\n    calculateReduction(originalSize, compressedSize) {\n        return ((originalSize - compressedSize) / originalSize * 100).toFixed(2);\n    }\n    generateJobId() {\n        return `job_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    getJobStatus(jobId) {\n        return this.activeJobs.get(jobId) || null;\n    }\n    cancelJob(jobId) {\n        if (this.activeJobs.has(jobId)) {\n            this.activeJobs.set(jobId, {\n                ...this.activeJobs.get(jobId),\n                status: 'cancelled'\n            });\n        }\n    }\n    // Get compression recommendations based on file analysis\n    async getCompressionRecommendations(file) {\n        const fileType = (0,_fileTypes__WEBPACK_IMPORTED_MODULE_0__.detectFileType)(file);\n        const fileInfo = (0,_fileTypes__WEBPACK_IMPORTED_MODULE_0__.getFileTypeInfo)(fileType);\n        const recommendations = {\n            fileType,\n            icon: fileInfo?.icon || '📄',\n            suggestions: []\n        };\n        switch(fileType){\n            case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.IMAGE:\n                const imageMetadata = await (0,_imageUtils__WEBPACK_IMPORTED_MODULE_2__.getImageMetadata)(file);\n                if (imageMetadata.megapixels > 5) {\n                    recommendations.suggestions.push({\n                        type: 'resize',\n                        description: 'Consider resizing - image is very large',\n                        impact: 'high'\n                    });\n                }\n                if (file.type === 'image/png' && !this.hasTransparency(file)) {\n                    recommendations.suggestions.push({\n                        type: 'format',\n                        description: 'Convert PNG to JPEG for better compression',\n                        impact: 'medium'\n                    });\n                }\n                break;\n            case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.PDF:\n                if (file.size > 10 * 1024 * 1024) {\n                    recommendations.suggestions.push({\n                        type: 'quality',\n                        description: 'Large PDF - consider aggressive compression',\n                        impact: 'high'\n                    });\n                }\n                break;\n            case _fileTypes__WEBPACK_IMPORTED_MODULE_0__.FILE_TYPES.TEXT:\n                const textMetadata = await (0,_textUtils__WEBPACK_IMPORTED_MODULE_3__.getTextMetadata)(file);\n                if (textMetadata.type === 'json') {\n                    recommendations.suggestions.push({\n                        type: 'minify',\n                        description: 'JSON can be minified for better compression',\n                        impact: 'medium'\n                    });\n                }\n                break;\n        }\n        return recommendations;\n    }\n    // Helper to check if PNG has transparency (simplified)\n    hasTransparency(file) {\n        // This would require more complex image analysis\n        // For now, assume PNGs might have transparency\n        return true;\n    }\n}\n// Export singleton instance\nconst compressionEngine = new CompressionEngine();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL2NvbXByZXNzaW9uRW5naW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGtEQUFrRDtBQUV3QjtBQUNqQztBQUNzQjtBQUNIO0FBQ0g7QUFFbEQsTUFBTVU7SUFDWEMsYUFBYztRQUNaLElBQUksQ0FBQ0MsY0FBYyxHQUFHQyxPQUFPQyxNQUFNLENBQUNkLGtEQUFVQTtRQUM5QyxJQUFJLENBQUNlLFVBQVUsR0FBRyxJQUFJQztJQUN4QjtJQUVBLDZEQUE2RDtJQUM3RCxNQUFNQyxhQUFhQyxJQUFJLEVBQUVDLFVBQVUsQ0FBQyxDQUFDLEVBQUVDLG1CQUFtQixLQUFPLENBQUMsRUFBRTtRQUNsRSxNQUFNQyxXQUFXcEIsMERBQWNBLENBQUNpQjtRQUVoQyxJQUFJLENBQUNHLFVBQVU7WUFDYixNQUFNLElBQUlDLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRUosS0FBS0ssSUFBSSxFQUFFO1FBQ3ZEO1FBRUEsTUFBTUMsUUFBUSxJQUFJLENBQUNDLGFBQWE7UUFDaEMsSUFBSSxDQUFDVixVQUFVLENBQUNXLEdBQUcsQ0FBQ0YsT0FBTztZQUFFTjtZQUFNUyxRQUFRO1lBQWNDLFdBQVdDLEtBQUtDLEdBQUc7UUFBRztRQUUvRSxJQUFJO1lBQ0YsSUFBSUM7WUFFSixPQUFRVjtnQkFDTixLQUFLckIsa0RBQVVBLENBQUNnQyxHQUFHO29CQUNqQkQsU0FBUyxNQUFNLElBQUksQ0FBQ0UsZUFBZSxDQUFDZixNQUFNQyxTQUFTQztvQkFDbkQ7Z0JBRUYsS0FBS3BCLGtEQUFVQSxDQUFDa0MsS0FBSztvQkFDbkJILFNBQVMsTUFBTSxJQUFJLENBQUNJLGlCQUFpQixDQUFDakIsTUFBTUMsU0FBU0M7b0JBQ3JEO2dCQUVGLEtBQUtwQixrREFBVUEsQ0FBQ29DLElBQUk7b0JBQ2xCTCxTQUFTLE1BQU0sSUFBSSxDQUFDTSxnQkFBZ0IsQ0FBQ25CLE1BQU1DLFNBQVNDO29CQUNwRDtnQkFFRixLQUFLcEIsa0RBQVVBLENBQUNz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O0lBQ1Q7SUFFQSx1REFBdUQ7SUFDdkRPLGdCQUFnQjFGLElBQUksRUFBRTtRQUNwQixpREFBaUQ7UUFDakQsK0NBQStDO1FBQy9DLE9BQU87SUFDVDtBQUNGO0FBRUEsNEJBQTRCO0FBQ3JCLE1BQU00RixvQkFBb0IsSUFBSXBHLG9CQUFvQiIsInNvdXJjZXMiOlsiL1VzZXJzL2JyaWFuY2hldy9kZXYvY29tcHJlc3MvdXRpbHMvY29tcHJlc3Npb25FbmdpbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVW5pdmVyc2FsIGNvbXByZXNzaW9uIGVuZ2luZSBmb3IgYWxsIGZpbGUgdHlwZXNcblxuaW1wb3J0IHsgRklMRV9UWVBFUywgZGV0ZWN0RmlsZVR5cGUsIGdldEZpbGVUeXBlSW5mbyB9IGZyb20gJy4vZmlsZVR5cGVzJztcbmltcG9ydCB7IGNvbXByZXNzUGRmIH0gZnJvbSAnLi9wZGZVdGlscyc7XG5pbXBvcnQgeyBjb21wcmVzc0ltYWdlLCBnZXRJbWFnZU1ldGFkYXRhIH0gZnJvbSAnLi9pbWFnZVV0aWxzJztcbmltcG9ydCB7IGNvbXByZXNzVGV4dCwgZ2V0VGV4dE1ldGFkYXRhIH0gZnJvbSAnLi90ZXh0VXRpbHMnO1xuaW1wb3J0IHsgZGVidWdDb25maWcsIGZvcm1hdEZpbGVTaXplIH0gZnJvbSAnLi9wZGZVdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBDb21wcmVzc2lvbkVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMgPSBPYmplY3QudmFsdWVzKEZJTEVfVFlQRVMpO1xuICAgIHRoaXMuYWN0aXZlSm9icyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8vIE1haW4gY29tcHJlc3Npb24gbWV0aG9kIHRoYXQgcm91dGVzIHRvIGFwcHJvcHJpYXRlIGhhbmRsZXJcbiAgYXN5bmMgY29tcHJlc3NGaWxlKGZpbGUsIG9wdGlvbnMgPSB7fSwgcHJvZ3Jlc3NDYWxsYmFjayA9ICgpID0+IHt9KSB7XG4gICAgY29uc3QgZmlsZVR5cGUgPSBkZXRlY3RGaWxlVHlwZShmaWxlKTtcbiAgICBcbiAgICBpZiAoIWZpbGVUeXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGZpbGUgdHlwZTogJHtmaWxlLm5hbWV9YCk7XG4gICAgfVxuXG4gICAgY29uc3Qgam9iSWQgPSB0aGlzLmdlbmVyYXRlSm9iSWQoKTtcbiAgICB0aGlzLmFjdGl2ZUpvYnMuc2V0KGpvYklkLCB7IGZpbGUsIHN0YXR1czogJ3Byb2Nlc3NpbmcnLCBzdGFydFRpbWU6IERhdGUubm93KCkgfSk7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3VsdDtcbiAgICAgIFxuICAgICAgc3dpdGNoIChmaWxlVHlwZSkge1xuICAgICAgICBjYXNlIEZJTEVfVFlQRVMuUERGOlxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuY29tcHJlc3NQZGZGaWxlKGZpbGUsIG9wdGlvbnMsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIEZJTEVfVFlQRVMuSU1BR0U6XG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21wcmVzc0ltYWdlRmlsZShmaWxlLCBvcHRpb25zLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSBGSUxFX1RZUEVTLlRFWFQ6XG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21wcmVzc1RleHRGaWxlKGZpbGUsIG9wdGlvbnMsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIEZJTEVfVFlQRVMuRE9DVU1FTlQ6XG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21wcmVzc0RvY3VtZW50RmlsZShmaWxlLCBvcHRpb25zLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSBGSUxFX1RZUEVTLlZJREVPOlxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuY29tcHJlc3NWaWRlb0ZpbGUoZmlsZSwgb3B0aW9ucywgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgRklMRV9UWVBFUy5BVURJTzpcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbXByZXNzQXVkaW9GaWxlKGZpbGUsIG9wdGlvbnMsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIEZJTEVfVFlQRVMuQVJDSElWRTpcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLm9wdGltaXplQXJjaGl2ZUZpbGUoZmlsZSwgb3B0aW9ucywgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb21wcmVzc2lvbiBoYW5kbGVyIGZvciBmaWxlIHR5cGU6ICR7ZmlsZVR5cGV9YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBtZXRhZGF0YSB0byByZXN1bHRcbiAgICAgIHJlc3VsdC5maWxlVHlwZSA9IGZpbGVUeXBlO1xuICAgICAgcmVzdWx0Lm9yaWdpbmFsU2l6ZSA9IGZpbGUuc2l6ZTtcbiAgICAgIHJlc3VsdC5qb2JJZCA9IGpvYklkO1xuICAgICAgcmVzdWx0LnByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMuYWN0aXZlSm9icy5nZXQoam9iSWQpLnN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgdGhpcy5hY3RpdmVKb2JzLnNldChqb2JJZCwgeyBcbiAgICAgICAgLi4udGhpcy5hY3RpdmVKb2JzLmdldChqb2JJZCksIFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLCBcbiAgICAgICAgcmVzdWx0IFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5hY3RpdmVKb2JzLnNldChqb2JJZCwgeyBcbiAgICAgICAgLi4udGhpcy5hY3RpdmVKb2JzLmdldChqb2JJZCksIFxuICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLCBcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEJhdGNoIGNvbXByZXNzaW9uIGZvciBtdWx0aXBsZSBmaWxlc1xuICBhc3luYyBjb21wcmVzc0ZpbGVzKGZpbGVzLCBvcHRpb25zID0ge30sIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7fSkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBjb25zdCB0b3RhbEZpbGVzID0gZmlsZXMubGVuZ3RoO1xuICAgIFxuICAgIC8vIEdyb3VwIGZpbGVzIGJ5IHR5cGUgZm9yIG9wdGltaXplZCBwcm9jZXNzaW5nXG4gICAgY29uc3QgZmlsZUdyb3VwcyA9IHRoaXMuZ3JvdXBGaWxlc0J5VHlwZShmaWxlcyk7XG4gICAgXG4gICAgbGV0IHByb2Nlc3NlZENvdW50ID0gMDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtmaWxlVHlwZSwgZ3JvdXBGaWxlc10gb2YgT2JqZWN0LmVudHJpZXMoZmlsZUdyb3VwcykpIHtcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBncm91cEZpbGVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZmlsZVByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJhbGxQcm9ncmVzcyA9ICgocHJvY2Vzc2VkQ291bnQgKyBwcm9ncmVzcyAvIDEwMCkgLyB0b3RhbEZpbGVzKSAqIDEwMDtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2sob3ZlcmFsbFByb2dyZXNzLCBwcm9jZXNzZWRDb3VudCwgZmlsZS5uYW1lLCBmaWxlVHlwZSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY29tcHJlc3NGaWxlKGZpbGUsIG9wdGlvbnNbZmlsZVR5cGVdIHx8IG9wdGlvbnMsIGZpbGVQcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luYWw6IGZpbGUsXG4gICAgICAgICAgICBjb21wcmVzc2VkOiByZXN1bHQuY29tcHJlc3NlZEZpbGUsXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzdWx0Lm1ldGFkYXRhIHx8IHt9LFxuICAgICAgICAgICAgcmVkdWN0aW9uOiB0aGlzLmNhbGN1bGF0ZVJlZHVjdGlvbihmaWxlLnNpemUsIHJlc3VsdC5jb21wcmVzc2VkRmlsZS5zaXplKSxcbiAgICAgICAgICAgIGZpbGVUeXBlLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIHByb2Nlc3NpbmdUaW1lOiByZXN1bHQucHJvY2Vzc2luZ1RpbWVcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGRlYnVnQ29uZmlnLmVycm9yKGBGYWlsZWQgdG8gY29tcHJlc3MgJHtmaWxlLm5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luYWw6IGZpbGUsXG4gICAgICAgICAgICBjb21wcmVzc2VkOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBmaWxlVHlwZSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHByb2Nlc3NlZENvdW50Kys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgLy8gUERGIGNvbXByZXNzaW9uIGhhbmRsZXJcbiAgYXN5bmMgY29tcHJlc3NQZGZGaWxlKGZpbGUsIG9wdGlvbnMsIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICBjb25zdCB7IHF1YWxpdHkgPSA1MCwgZHBpID0gMTUwIH0gPSBvcHRpb25zO1xuICAgIFxuICAgIGNvbnN0IGNvbXByZXNzZWRGaWxlID0gYXdhaXQgY29tcHJlc3NQZGYoZmlsZSwgcXVhbGl0eSwgZHBpLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY29tcHJlc3NlZEZpbGUsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBvcmlnaW5hbFF1YWxpdHk6ICdVbmtub3duJyxcbiAgICAgICAgbmV3UXVhbGl0eTogcXVhbGl0eSxcbiAgICAgICAgZHBpOiBkcGksXG4gICAgICAgIGNvbXByZXNzaW9uOiAnSlBFRydcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gSW1hZ2UgY29tcHJlc3Npb24gaGFuZGxlclxuICBhc3luYyBjb21wcmVzc0ltYWdlRmlsZShmaWxlLCBvcHRpb25zLCBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgY29uc3QgeyBcbiAgICAgIHF1YWxpdHkgPSAwLjgsIFxuICAgICAgZm9ybWF0ID0gJ2pwZWcnLFxuICAgICAgbWF4V2lkdGggPSBudWxsLFxuICAgICAgbWF4SGVpZ2h0ID0gbnVsbCBcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgZ2V0SW1hZ2VNZXRhZGF0YShmaWxlKTtcbiAgICBcbiAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IGF3YWl0IGNvbXByZXNzSW1hZ2UoZmlsZSwge1xuICAgICAgcXVhbGl0eSxcbiAgICAgIGZvcm1hdCxcbiAgICAgIG1heFdpZHRoLFxuICAgICAgbWF4SGVpZ2h0LFxuICAgICAgcHJvZ3Jlc3NDYWxsYmFja1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbXByZXNzZWRGaWxlLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAgIG5ld0Zvcm1hdDogZm9ybWF0LFxuICAgICAgICBuZXdRdWFsaXR5OiBxdWFsaXR5XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIFRleHQgY29tcHJlc3Npb24gaGFuZGxlclxuICBhc3luYyBjb21wcmVzc1RleHRGaWxlKGZpbGUsIG9wdGlvbnMsIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICBjb25zdCB7IFxuICAgICAgbWV0aG9kID0gJ29wdGltaXplJyxcbiAgICAgIHJlbW92ZUNvbW1lbnRzID0gdHJ1ZSxcbiAgICAgIHJlbW92ZUV4dHJhV2hpdGVzcGFjZSA9IHRydWUgXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IGdldFRleHRNZXRhZGF0YShmaWxlKTtcbiAgICBcbiAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IGF3YWl0IGNvbXByZXNzVGV4dChmaWxlLCB7XG4gICAgICBtZXRob2QsXG4gICAgICByZW1vdmVDb21tZW50cyxcbiAgICAgIHJlbW92ZUV4dHJhV2hpdGVzcGFjZSxcbiAgICAgIHByb2dyZXNzQ2FsbGJhY2tcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb21wcmVzc2VkRmlsZSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgICBjb21wcmVzc2lvbk1ldGhvZDogbWV0aG9kXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIERvY3VtZW50IGNvbXByZXNzaW9uIGhhbmRsZXIgKHBsYWNlaG9sZGVyIGZvciBmdXR1cmUgaW1wbGVtZW50YXRpb24pXG4gIGFzeW5jIGNvbXByZXNzRG9jdW1lbnRGaWxlKGZpbGUsIG9wdGlvbnMsIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICAvLyBGb3Igbm93LCByZXR1cm4gb3JpZ2luYWwgZmlsZSB3aXRoIGEgbm90ZVxuICAgIHByb2dyZXNzQ2FsbGJhY2soMTAwKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY29tcHJlc3NlZEZpbGU6IGZpbGUsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBub3RlOiAnRG9jdW1lbnQgY29tcHJlc3Npb24gY29taW5nIHNvb24nLFxuICAgICAgICBmb3JtYXQ6IGZpbGUudHlwZVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBWaWRlbyBjb21wcmVzc2lvbiBoYW5kbGVyIChwbGFjZWhvbGRlcilcbiAgYXN5bmMgY29tcHJlc3NWaWRlb0ZpbGUoZmlsZSwgb3B0aW9ucywgcHJvZ3Jlc3NDYWxsYmFjaykge1xuICAgIHByb2dyZXNzQ2FsbGJhY2soMTAwKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY29tcHJlc3NlZEZpbGU6IGZpbGUsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBub3RlOiAnVmlkZW8gY29tcHJlc3Npb24gY29taW5nIHNvb24nLFxuICAgICAgICBmb3JtYXQ6IGZpbGUudHlwZVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBBdWRpbyBjb21wcmVzc2lvbiBoYW5kbGVyIChwbGFjZWhvbGRlcilcbiAgYXN5bmMgY29tcHJlc3NBdWRpb0ZpbGUoZmlsZSwgb3B0aW9ucywgcHJvZ3Jlc3NDYWxsYmFjaykge1xuICAgIHByb2dyZXNzQ2FsbGJhY2soMTAwKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY29tcHJlc3NlZEZpbGU6IGZpbGUsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBub3RlOiAnQXVkaW8gY29tcHJlc3Npb24gY29taW5nIHNvb24nLFxuICAgICAgICBmb3JtYXQ6IGZpbGUudHlwZVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBBcmNoaXZlIG9wdGltaXphdGlvbiBoYW5kbGVyIChwbGFjZWhvbGRlcilcbiAgYXN5bmMgb3B0aW1pemVBcmNoaXZlRmlsZShmaWxlLCBvcHRpb25zLCBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgcHJvZ3Jlc3NDYWxsYmFjaygxMDApO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBjb21wcmVzc2VkRmlsZTogZmlsZSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5vdGU6ICdBcmNoaXZlIG9wdGltaXphdGlvbiBjb21pbmcgc29vbicsXG4gICAgICAgIGZvcm1hdDogZmlsZS50eXBlXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIEhlbHBlciBtZXRob2RzXG4gIGdyb3VwRmlsZXNCeVR5cGUoZmlsZXMpIHtcbiAgICBjb25zdCBncm91cHMgPSB7fTtcbiAgICBcbiAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgY29uc3QgZmlsZVR5cGUgPSBkZXRlY3RGaWxlVHlwZShmaWxlKTtcbiAgICAgIGlmIChmaWxlVHlwZSkge1xuICAgICAgICBpZiAoIWdyb3Vwc1tmaWxlVHlwZV0pIHtcbiAgICAgICAgICBncm91cHNbZmlsZVR5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBzW2ZpbGVUeXBlXS5wdXNoKGZpbGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBncm91cHM7XG4gIH1cblxuICBjYWxjdWxhdGVSZWR1Y3Rpb24ob3JpZ2luYWxTaXplLCBjb21wcmVzc2VkU2l6ZSkge1xuICAgIHJldHVybiAoKG9yaWdpbmFsU2l6ZSAtIGNvbXByZXNzZWRTaXplKSAvIG9yaWdpbmFsU2l6ZSAqIDEwMCkudG9GaXhlZCgyKTtcbiAgfVxuXG4gIGdlbmVyYXRlSm9iSWQoKSB7XG4gICAgcmV0dXJuIGBqb2JfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG5cbiAgZ2V0Sm9iU3RhdHVzKGpvYklkKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlSm9icy5nZXQoam9iSWQpIHx8IG51bGw7XG4gIH1cblxuICBjYW5jZWxKb2Ioam9iSWQpIHtcbiAgICBpZiAodGhpcy5hY3RpdmVKb2JzLmhhcyhqb2JJZCkpIHtcbiAgICAgIHRoaXMuYWN0aXZlSm9icy5zZXQoam9iSWQsIHtcbiAgICAgICAgLi4udGhpcy5hY3RpdmVKb2JzLmdldChqb2JJZCksXG4gICAgICAgIHN0YXR1czogJ2NhbmNlbGxlZCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBjb21wcmVzc2lvbiByZWNvbW1lbmRhdGlvbnMgYmFzZWQgb24gZmlsZSBhbmFseXNpc1xuICBhc3luYyBnZXRDb21wcmVzc2lvblJlY29tbWVuZGF0aW9ucyhmaWxlKSB7XG4gICAgY29uc3QgZmlsZVR5cGUgPSBkZXRlY3RGaWxlVHlwZShmaWxlKTtcbiAgICBjb25zdCBmaWxlSW5mbyA9IGdldEZpbGVUeXBlSW5mbyhmaWxlVHlwZSk7XG4gICAgXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0ge1xuICAgICAgZmlsZVR5cGUsXG4gICAgICBpY29uOiBmaWxlSW5mbz8uaWNvbiB8fCAn8J+ThCcsXG4gICAgICBzdWdnZXN0aW9uczogW11cbiAgICB9O1xuXG4gICAgc3dpdGNoIChmaWxlVHlwZSkge1xuICAgICAgY2FzZSBGSUxFX1RZUEVTLklNQUdFOlxuICAgICAgICBjb25zdCBpbWFnZU1ldGFkYXRhID0gYXdhaXQgZ2V0SW1hZ2VNZXRhZGF0YShmaWxlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbWFnZU1ldGFkYXRhLm1lZ2FwaXhlbHMgPiA1KSB7XG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zLnN1Z2dlc3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ3Jlc2l6ZScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbnNpZGVyIHJlc2l6aW5nIC0gaW1hZ2UgaXMgdmVyeSBsYXJnZScsXG4gICAgICAgICAgICBpbXBhY3Q6ICdoaWdoJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJyAmJiAhdGhpcy5oYXNUcmFuc3BhcmVuY3koZmlsZSkpIHtcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnMuc3VnZ2VzdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnZm9ybWF0JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29udmVydCBQTkcgdG8gSlBFRyBmb3IgYmV0dGVyIGNvbXByZXNzaW9uJyxcbiAgICAgICAgICAgIGltcGFjdDogJ21lZGl1bSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBGSUxFX1RZUEVTLlBERjpcbiAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IDEwICogMTAyNCAqIDEwMjQpIHsgLy8gMTBNQlxuICAgICAgICAgIHJlY29tbWVuZGF0aW9ucy5zdWdnZXN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdxdWFsaXR5JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTGFyZ2UgUERGIC0gY29uc2lkZXIgYWdncmVzc2l2ZSBjb21wcmVzc2lvbicsXG4gICAgICAgICAgICBpbXBhY3Q6ICdoaWdoJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEZJTEVfVFlQRVMuVEVYVDpcbiAgICAgICAgY29uc3QgdGV4dE1ldGFkYXRhID0gYXdhaXQgZ2V0VGV4dE1ldGFkYXRhKGZpbGUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRleHRNZXRhZGF0YS50eXBlID09PSAnanNvbicpIHtcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnMuc3VnZ2VzdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnbWluaWZ5JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSlNPTiBjYW4gYmUgbWluaWZpZWQgZm9yIGJldHRlciBjb21wcmVzc2lvbicsXG4gICAgICAgICAgICBpbXBhY3Q6ICdtZWRpdW0nXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbiAgfVxuXG4gIC8vIEhlbHBlciB0byBjaGVjayBpZiBQTkcgaGFzIHRyYW5zcGFyZW5jeSAoc2ltcGxpZmllZClcbiAgaGFzVHJhbnNwYXJlbmN5KGZpbGUpIHtcbiAgICAvLyBUaGlzIHdvdWxkIHJlcXVpcmUgbW9yZSBjb21wbGV4IGltYWdlIGFuYWx5c2lzXG4gICAgLy8gRm9yIG5vdywgYXNzdW1lIFBOR3MgbWlnaHQgaGF2ZSB0cmFuc3BhcmVuY3lcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgY29tcHJlc3Npb25FbmdpbmUgPSBuZXcgQ29tcHJlc3Npb25FbmdpbmUoKTsiXSwibmFtZXMiOlsiRklMRV9UWVBFUyIsImRldGVjdEZpbGVUeXBlIiwiZ2V0RmlsZVR5cGVJbmZvIiwiY29tcHJlc3NQZGYiLCJjb21wcmVzc0ltYWdlIiwiZ2V0SW1hZ2VNZXRhZGF0YSIsImNvbXByZXNzVGV4dCIsImdldFRleHRNZXRhZGF0YSIsImRlYnVnQ29uZmlnIiwiZm9ybWF0RmlsZVNpemUiLCJDb21wcmVzc2lvbkVuZ2luZSIsImNvbnN0cnVjdG9yIiwic3VwcG9ydGVkVHlwZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJhY3RpdmVKb2JzIiwiTWFwIiwiY29tcHJlc3NGaWxlIiwiZmlsZSIsIm9wdGlvbnMiLCJwcm9ncmVzc0NhbGxiYWNrIiwiZmlsZVR5cGUiLCJFcnJvciIsIm5hbWUiLCJqb2JJZCIsImdlbmVyYXRlSm9iSWQiLCJzZXQiLCJzdGF0dXMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwicmVzdWx0IiwiUERGIiwiY29tcHJlc3NQZGZGaWxlIiwiSU1BR0UiLCJjb21wcmVzc0ltYWdlRmlsZSIsIlRFWFQiLCJjb21wcmVzc1RleHRGaWxlIiwiRE9DVU1FTlQiLCJjb21wcmVzc0RvY3VtZW50RmlsZSIsIlZJREVPIiwiY29tcHJlc3NWaWRlb0ZpbGUiLCJBVURJTyIsImNvbXByZXNzQXVkaW9GaWxlIiwiQVJDSElWRSIsIm9wdGltaXplQXJjaGl2ZUZpbGUiLCJvcmlnaW5hbFNpemUiLCJzaXplIiwicHJvY2Vzc2luZ1RpbWUiLCJnZXQiLCJlcnJvciIsIm1lc3NhZ2UiLCJjb21wcmVzc0ZpbGVzIiwiZmlsZXMiLCJyZXN1bHRzIiwidG90YWxGaWxlcyIsImxlbmd0aCIsImZpbGVHcm91cHMiLCJncm91cEZpbGVzQnlUeXBlIiwicHJvY2Vzc2VkQ291bnQiLCJncm91cEZpbGVzIiwiZW50cmllcyIsImZpbGVQcm9ncmVzc0NhbGxiYWNrIiwicHJvZ3Jlc3MiLCJvdmVyYWxsUHJvZ3Jlc3MiLCJwdXNoIiwib3JpZ2luYWwiLCJjb21wcmVzc2VkIiwiY29tcHJlc3NlZEZpbGUiLCJtZXRhZGF0YSIsInJlZHVjdGlvbiIsImNhbGN1bGF0ZVJlZHVjdGlvbiIsInN1Y2Nlc3MiLCJxdWFsaXR5IiwiZHBpIiwib3JpZ2luYWxRdWFsaXR5IiwibmV3UXVhbGl0eSIsImNvbXByZXNzaW9uIiwiZm9ybWF0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJuZXdGb3JtYXQiLCJtZXRob2QiLCJyZW1vdmVDb21tZW50cyIsInJlbW92ZUV4dHJhV2hpdGVzcGFjZSIsImNvbXByZXNzaW9uTWV0aG9kIiwibm90ZSIsInR5cGUiLCJncm91cHMiLCJmb3JFYWNoIiwiY29tcHJlc3NlZFNpemUiLCJ0b0ZpeGVkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZ2V0Sm9iU3RhdHVzIiwiY2FuY2VsSm9iIiwiaGFzIiwiZ2V0Q29tcHJlc3Npb25SZWNvbW1lbmRhdGlvbnMiLCJmaWxlSW5mbyIsInJlY29tbWVuZGF0aW9ucyIsImljb24iLCJzdWdnZXN0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJtZWdhcGl4ZWxzIiwiZGVzY3JpcHRpb24iLCJpbXBhY3QiLCJoYXNUcmFuc3BhcmVuY3kiLCJ0ZXh0TWV0YWRhdGEiLCJjb21wcmVzc2lvbkVuZ2luZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/compressionEngine.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/fileTypes.js":
/*!****************************!*\
  !*** ./utils/fileTypes.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FILE_TYPES: () => (/* binding */ FILE_TYPES),\n/* harmony export */   SUPPORTED_FORMATS: () => (/* binding */ SUPPORTED_FORMATS),\n/* harmony export */   detectFileType: () => (/* binding */ detectFileType),\n/* harmony export */   getAllSupportedExtensions: () => (/* binding */ getAllSupportedExtensions),\n/* harmony export */   getAllSupportedMimeTypes: () => (/* binding */ getAllSupportedMimeTypes),\n/* harmony export */   getFileTypeInfo: () => (/* binding */ getFileTypeInfo),\n/* harmony export */   isFileSupported: () => (/* binding */ isFileSupported)\n/* harmony export */ });\n// File type definitions and supported formats\nconst FILE_TYPES = {\n    PDF: 'pdf',\n    IMAGE: 'image',\n    TEXT: 'text',\n    DOCUMENT: 'document',\n    VIDEO: 'video',\n    AUDIO: 'audio',\n    ARCHIVE: 'archive'\n};\nconst SUPPORTED_FORMATS = {\n    [FILE_TYPES.PDF]: {\n        extensions: [\n            '.pdf'\n        ],\n        mimeTypes: [\n            'application/pdf'\n        ],\n        icon: '📄',\n        description: 'PDF Documents'\n    },\n    [FILE_TYPES.IMAGE]: {\n        extensions: [\n            '.jpg',\n            '.jpeg',\n            '.png',\n            '.gif',\n            '.bmp',\n            '.webp',\n            '.tiff',\n            '.svg'\n        ],\n        mimeTypes: [\n            'image/jpeg',\n            'image/jpg',\n            'image/png',\n            'image/gif',\n            'image/bmp',\n            'image/webp',\n            'image/tiff',\n            'image/svg+xml'\n        ],\n        icon: '🖼️',\n        description: 'Images'\n    },\n    [FILE_TYPES.TEXT]: {\n        extensions: [\n            '.txt',\n            '.md',\n            '.json',\n            '.xml',\n            '.csv',\n            '.log',\n            '.rtf'\n        ],\n        mimeTypes: [\n            'text/plain',\n            'text/markdown',\n            'application/json',\n            'text/xml',\n            'text/csv',\n            'text/rtf'\n        ],\n        icon: '📝',\n        description: 'Text Files'\n    },\n    [FILE_TYPES.DOCUMENT]: {\n        extensions: [\n            '.doc',\n            '.docx',\n            '.xls',\n            '.xlsx',\n            '.ppt',\n            '.pptx',\n            '.odt',\n            '.ods',\n            '.odp'\n        ],\n        mimeTypes: [\n            'application/msword',\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n            'application/vnd.ms-excel',\n            'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n            'application/vnd.ms-powerpoint',\n            'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n            'application/vnd.oasis.opendocument.text',\n            'application/vnd.oasis.opendocument.spreadsheet',\n            'application/vnd.oasis.opendocument.presentation'\n        ],\n        icon: '📊',\n        description: 'Office Documents'\n    },\n    [FILE_TYPES.VIDEO]: {\n        extensions: [\n            '.mp4',\n            '.avi',\n            '.mov',\n            '.wmv',\n            '.flv',\n            '.webm',\n            '.mkv'\n        ],\n        mimeTypes: [\n            'video/mp4',\n            'video/avi',\n            'video/quicktime',\n            'video/x-ms-wmv',\n            'video/x-flv',\n            'video/webm',\n            'video/x-matroska'\n        ],\n        icon: '🎥',\n        description: 'Videos'\n    },\n    [FILE_TYPES.AUDIO]: {\n        extensions: [\n            '.mp3',\n            '.wav',\n            '.aac',\n            '.ogg',\n            '.flac',\n            '.m4a'\n        ],\n        mimeTypes: [\n            'audio/mpeg',\n            'audio/wav',\n            'audio/aac',\n            'audio/ogg',\n            'audio/flac',\n            'audio/mp4'\n        ],\n        icon: '🎵',\n        description: 'Audio Files'\n    },\n    [FILE_TYPES.ARCHIVE]: {\n        extensions: [\n            '.zip',\n            '.rar',\n            '.7z',\n            '.tar',\n            '.gz'\n        ],\n        mimeTypes: [\n            'application/zip',\n            'application/x-rar-compressed',\n            'application/x-7z-compressed',\n            'application/x-tar',\n            'application/gzip'\n        ],\n        icon: '🗜️',\n        description: 'Archives'\n    }\n};\nfunction detectFileType(file) {\n    const extension = '.' + file.name.split('.').pop().toLowerCase();\n    const mimeType = file.type.toLowerCase();\n    for (const [type, config] of Object.entries(SUPPORTED_FORMATS)){\n        if (config.extensions.includes(extension) || config.mimeTypes.includes(mimeType)) {\n            return type;\n        }\n    }\n    return null;\n}\nfunction isFileSupported(file) {\n    return detectFileType(file) !== null;\n}\nfunction getFileTypeInfo(fileType) {\n    return SUPPORTED_FORMATS[fileType] || null;\n}\nfunction getAllSupportedExtensions() {\n    return Object.values(SUPPORTED_FORMATS).flatMap((format)=>format.extensions).join(',');\n}\nfunction getAllSupportedMimeTypes() {\n    return Object.values(SUPPORTED_FORMATS).flatMap((format)=>format.mimeTypes);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEJ1QixPQUFPLENBQUNDLENBQUFBLFNBQVVBLE9BQU92QixVQUFVLEVBQ25Dd0IsSUFBSSxDQUFDO0FBQ1Y7QUFFTyxTQUFTQztJQUNkLE9BQU9YLE9BQU9PLE1BQU0sQ0FBQ3RCLG1CQUNsQnVCLE9BQU8sQ0FBQ0MsQ0FBQUEsU0FBVUEsT0FBT3RCLFNBQVM7QUFDdkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmNoZXcvZGV2L2NvbXByZXNzL3V0aWxzL2ZpbGVUeXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIHR5cGUgZGVmaW5pdGlvbnMgYW5kIHN1cHBvcnRlZCBmb3JtYXRzXG5cbmV4cG9ydCBjb25zdCBGSUxFX1RZUEVTID0ge1xuICBQREY6ICdwZGYnLFxuICBJTUFHRTogJ2ltYWdlJyxcbiAgVEVYVDogJ3RleHQnLFxuICBET0NVTUVOVDogJ2RvY3VtZW50JyxcbiAgVklERU86ICd2aWRlbycsXG4gIEFVRElPOiAnYXVkaW8nLFxuICBBUkNISVZFOiAnYXJjaGl2ZSdcbn07XG5cbmV4cG9ydCBjb25zdCBTVVBQT1JURURfRk9STUFUUyA9IHtcbiAgW0ZJTEVfVFlQRVMuUERGXToge1xuICAgIGV4dGVuc2lvbnM6IFsnLnBkZiddLFxuICAgIG1pbWVUeXBlczogWydhcHBsaWNhdGlvbi9wZGYnXSxcbiAgICBpY29uOiAn8J+ThCcsXG4gICAgZGVzY3JpcHRpb246ICdQREYgRG9jdW1lbnRzJ1xuICB9LFxuICBbRklMRV9UWVBFUy5JTUFHRV06IHtcbiAgICBleHRlbnNpb25zOiBbJy5qcGcnLCAnLmpwZWcnLCAnLnBuZycsICcuZ2lmJywgJy5ibXAnLCAnLndlYnAnLCAnLnRpZmYnLCAnLnN2ZyddLFxuICAgIG1pbWVUeXBlczogW1xuICAgICAgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvanBnJywgJ2ltYWdlL3BuZycsICdpbWFnZS9naWYnLCBcbiAgICAgICdpbWFnZS9ibXAnLCAnaW1hZ2Uvd2VicCcsICdpbWFnZS90aWZmJywgJ2ltYWdlL3N2Zyt4bWwnXG4gICAgXSxcbiAgICBpY29uOiAn8J+WvO+4jycsXG4gICAgZGVzY3JpcHRpb246ICdJbWFnZXMnXG4gIH0sXG4gIFtGSUxFX1RZUEVTLlRFWFRdOiB7XG4gICAgZXh0ZW5zaW9uczogWycudHh0JywgJy5tZCcsICcuanNvbicsICcueG1sJywgJy5jc3YnLCAnLmxvZycsICcucnRmJ10sXG4gICAgbWltZVR5cGVzOiBbXG4gICAgICAndGV4dC9wbGFpbicsICd0ZXh0L21hcmtkb3duJywgJ2FwcGxpY2F0aW9uL2pzb24nLCBcbiAgICAgICd0ZXh0L3htbCcsICd0ZXh0L2NzdicsICd0ZXh0L3J0ZidcbiAgICBdLFxuICAgIGljb246ICfwn5OdJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RleHQgRmlsZXMnXG4gIH0sXG4gIFtGSUxFX1RZUEVTLkRPQ1VNRU5UXToge1xuICAgIGV4dGVuc2lvbnM6IFsnLmRvYycsICcuZG9jeCcsICcueGxzJywgJy54bHN4JywgJy5wcHQnLCAnLnBwdHgnLCAnLm9kdCcsICcub2RzJywgJy5vZHAnXSxcbiAgICBtaW1lVHlwZXM6IFtcbiAgICAgICdhcHBsaWNhdGlvbi9tc3dvcmQnLFxuICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JyxcbiAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnLFxuICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCcsXG4gICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbicsXG4gICAgICAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0JyxcbiAgICAgICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0JyxcbiAgICAgICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvbidcbiAgICBdLFxuICAgIGljb246ICfwn5OKJyxcbiAgICBkZXNjcmlwdGlvbjogJ09mZmljZSBEb2N1bWVudHMnXG4gIH0sXG4gIFtGSUxFX1RZUEVTLlZJREVPXToge1xuICAgIGV4dGVuc2lvbnM6IFsnLm1wNCcsICcuYXZpJywgJy5tb3YnLCAnLndtdicsICcuZmx2JywgJy53ZWJtJywgJy5ta3YnXSxcbiAgICBtaW1lVHlwZXM6IFtcbiAgICAgICd2aWRlby9tcDQnLCAndmlkZW8vYXZpJywgJ3ZpZGVvL3F1aWNrdGltZScsIFxuICAgICAgJ3ZpZGVvL3gtbXMtd212JywgJ3ZpZGVvL3gtZmx2JywgJ3ZpZGVvL3dlYm0nLCAndmlkZW8veC1tYXRyb3NrYSdcbiAgICBdLFxuICAgIGljb246ICfwn46lJyxcbiAgICBkZXNjcmlwdGlvbjogJ1ZpZGVvcydcbiAgfSxcbiAgW0ZJTEVfVFlQRVMuQVVESU9dOiB7XG4gICAgZXh0ZW5zaW9uczogWycubXAzJywgJy53YXYnLCAnLmFhYycsICcub2dnJywgJy5mbGFjJywgJy5tNGEnXSxcbiAgICBtaW1lVHlwZXM6IFtcbiAgICAgICdhdWRpby9tcGVnJywgJ2F1ZGlvL3dhdicsICdhdWRpby9hYWMnLCBcbiAgICAgICdhdWRpby9vZ2cnLCAnYXVkaW8vZmxhYycsICdhdWRpby9tcDQnXG4gICAgXSxcbiAgICBpY29uOiAn8J+OtScsXG4gICAgZGVzY3JpcHRpb246ICdBdWRpbyBGaWxlcydcbiAgfSxcbiAgW0ZJTEVfVFlQRVMuQVJDSElWRV06IHtcbiAgICBleHRlbnNpb25zOiBbJy56aXAnLCAnLnJhcicsICcuN3onLCAnLnRhcicsICcuZ3onXSxcbiAgICBtaW1lVHlwZXM6IFtcbiAgICAgICdhcHBsaWNhdGlvbi96aXAnLCAnYXBwbGljYXRpb24veC1yYXItY29tcHJlc3NlZCcsXG4gICAgICAnYXBwbGljYXRpb24veC03ei1jb21wcmVzc2VkJywgJ2FwcGxpY2F0aW9uL3gtdGFyJywgJ2FwcGxpY2F0aW9uL2d6aXAnXG4gICAgXSxcbiAgICBpY29uOiAn8J+XnO+4jycsXG4gICAgZGVzY3JpcHRpb246ICdBcmNoaXZlcydcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdEZpbGVUeXBlKGZpbGUpIHtcbiAgY29uc3QgZXh0ZW5zaW9uID0gJy4nICsgZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgbWltZVR5cGUgPSBmaWxlLnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgXG4gIGZvciAoY29uc3QgW3R5cGUsIGNvbmZpZ10gb2YgT2JqZWN0LmVudHJpZXMoU1VQUE9SVEVEX0ZPUk1BVFMpKSB7XG4gICAgaWYgKGNvbmZpZy5leHRlbnNpb25zLmluY2x1ZGVzKGV4dGVuc2lvbikgfHwgY29uZmlnLm1pbWVUeXBlcy5pbmNsdWRlcyhtaW1lVHlwZSkpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpbGVTdXBwb3J0ZWQoZmlsZSkge1xuICByZXR1cm4gZGV0ZWN0RmlsZVR5cGUoZmlsZSkgIT09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlVHlwZUluZm8oZmlsZVR5cGUpIHtcbiAgcmV0dXJuIFNVUFBPUlRFRF9GT1JNQVRTW2ZpbGVUeXBlXSB8fCBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsU3VwcG9ydGVkRXh0ZW5zaW9ucygpIHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoU1VQUE9SVEVEX0ZPUk1BVFMpXG4gICAgLmZsYXRNYXAoZm9ybWF0ID0+IGZvcm1hdC5leHRlbnNpb25zKVxuICAgIC5qb2luKCcsJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxTdXBwb3J0ZWRNaW1lVHlwZXMoKSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKFNVUFBPUlRFRF9GT1JNQVRTKVxuICAgIC5mbGF0TWFwKGZvcm1hdCA9PiBmb3JtYXQubWltZVR5cGVzKTtcbn0iXSwibmFtZXMiOlsiRklMRV9UWVBFUyIsIlBERiIsIklNQUdFIiwiVEVYVCIsIkRPQ1VNRU5UIiwiVklERU8iLCJBVURJTyIsIkFSQ0hJVkUiLCJTVVBQT1JURURfRk9STUFUUyIsImV4dGVuc2lvbnMiLCJtaW1lVHlwZXMiLCJpY29uIiwiZGVzY3JpcHRpb24iLCJkZXRlY3RGaWxlVHlwZSIsImZpbGUiLCJleHRlbnNpb24iLCJuYW1lIiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsIm1pbWVUeXBlIiwidHlwZSIsImNvbmZpZyIsIk9iamVjdCIsImVudHJpZXMiLCJpbmNsdWRlcyIsImlzRmlsZVN1cHBvcnRlZCIsImdldEZpbGVUeXBlSW5mbyIsImZpbGVUeXBlIiwiZ2V0QWxsU3VwcG9ydGVkRXh0ZW5zaW9ucyIsInZhbHVlcyIsImZsYXRNYXAiLCJmb3JtYXQiLCJqb2luIiwiZ2V0QWxsU3VwcG9ydGVkTWltZVR5cGVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/fileTypes.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/imageUtils.js":
/*!*****************************!*\
  !*** ./utils/imageUtils.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMPRESSION_PRESETS: () => (/* binding */ COMPRESSION_PRESETS),\n/* harmony export */   IMAGE_FORMATS: () => (/* binding */ IMAGE_FORMATS),\n/* harmony export */   compressImage: () => (/* binding */ compressImage),\n/* harmony export */   compressImages: () => (/* binding */ compressImages),\n/* harmony export */   convertImageFormat: () => (/* binding */ convertImageFormat),\n/* harmony export */   createThumbnail: () => (/* binding */ createThumbnail),\n/* harmony export */   getImageMetadata: () => (/* binding */ getImageMetadata),\n/* harmony export */   optimizeForWeb: () => (/* binding */ optimizeForWeb),\n/* harmony export */   resizeImage: () => (/* binding */ resizeImage)\n/* harmony export */ });\n/* harmony import */ var _pdfUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pdfUtils */ \"(pages-dir-node)/./utils/pdfUtils.js\");\n// Image compression and optimization utilities\n\n// Dynamic import for browser-image-compression (client-side only)\nlet imageCompression = null;\nif (false) {}\nconst IMAGE_FORMATS = {\n    JPEG: 'jpeg',\n    PNG: 'png',\n    WEBP: 'webp',\n    AVIF: 'avif'\n};\nconst COMPRESSION_PRESETS = {\n    HIGH_QUALITY: {\n        quality: 0.95,\n        description: 'High Quality (Minimal compression)'\n    },\n    BALANCED: {\n        quality: 0.80,\n        description: 'Balanced (Good quality, moderate size)'\n    },\n    OPTIMIZED: {\n        quality: 0.65,\n        description: 'Optimized (Smaller size, good quality)'\n    },\n    AGGRESSIVE: {\n        quality: 0.45,\n        description: 'Aggressive (Small size, lower quality)'\n    },\n    MAXIMUM: {\n        quality: 0.25,\n        description: 'Maximum (Smallest size, basic quality)'\n    }\n};\n// Compress image with specified settings\nasync function compressImage(file, options = {}) {\n    const { quality = 0.8, format = IMAGE_FORMATS.JPEG, maxWidth = null, maxHeight = null, maintainAspectRatio = true, progressCallback = ()=>{} } = options;\n    // Use browser-image-compression if available for better compression\n    if (imageCompression && (format === IMAGE_FORMATS.JPEG || format === IMAGE_FORMATS.PNG)) {\n        try {\n            progressCallback(10);\n            const compressionOptions = {\n                maxSizeMB: 1,\n                maxWidthOrHeight: Math.max(maxWidth || 1920, maxHeight || 1920),\n                useWebWorker: true,\n                quality: quality,\n                fileType: `image/${format}`\n            };\n            progressCallback(50);\n            const compressedFile = await imageCompression(file, compressionOptions);\n            progressCallback(100);\n            return new File([\n                compressedFile\n            ], changeFileExtension(file.name, format), {\n                type: `image/${format}`\n            });\n        } catch (error) {\n            _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.warn('browser-image-compression failed, falling back to canvas method:', error);\n        // Fall through to canvas method\n        }\n    }\n    // Fallback to canvas-based compression\n    return new Promise((resolve, reject)=>{\n        const img = new Image();\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        img.onload = ()=>{\n            try {\n                progressCallback(25);\n                // Calculate new dimensions\n                let { width, height } = calculateDimensions(img.width, img.height, maxWidth, maxHeight, maintainAspectRatio);\n                canvas.width = width;\n                canvas.height = height;\n                progressCallback(50);\n                // Draw and compress\n                ctx.drawImage(img, 0, 0, width, height);\n                progressCallback(75);\n                // Convert to blob\n                canvas.toBlob((blob)=>{\n                    if (!blob) {\n                        reject(new Error('Failed to compress image'));\n                        return;\n                    }\n                    progressCallback(100);\n                    // Create new file\n                    const compressedFile = new File([\n                        blob\n                    ], changeFileExtension(file.name, format), {\n                        type: `image/${format}`\n                    });\n                    resolve(compressedFile);\n                }, `image/${format}`, quality);\n            } catch (error) {\n                reject(error);\n            }\n        };\n        img.onerror = ()=>{\n            reject(new Error('Failed to load image'));\n        };\n        // Load the image\n        img.src = URL.createObjectURL(file);\n    });\n}\n// Batch compress multiple images\nasync function compressImages(files, options = {}, progressCallback = ()=>{}) {\n    const results = [];\n    const totalFiles = files.length;\n    for(let i = 0; i < totalFiles; i++){\n        const file = files[i];\n        try {\n            const fileProgressCallback = (progress)=>{\n                const overallProgress = (i / totalFiles + progress / 100 / totalFiles) * 100;\n                progressCallback(overallProgress, i, file.name);\n            };\n            const compressedFile = await compressImage(file, {\n                ...options,\n                progressCallback: fileProgressCallback\n            });\n            results.push({\n                original: file,\n                compressed: compressedFile,\n                reduction: calculateReduction(file.size, compressedFile.size),\n                success: true\n            });\n        } catch (error) {\n            _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.error(`Failed to compress ${file.name}:`, error);\n            results.push({\n                original: file,\n                compressed: null,\n                error: error.message,\n                success: false\n            });\n        }\n    }\n    return results;\n}\n// Convert image format\nasync function convertImageFormat(file, targetFormat, quality = 0.9) {\n    if (!Object.values(IMAGE_FORMATS).includes(targetFormat)) {\n        throw new Error(`Unsupported target format: ${targetFormat}`);\n    }\n    return compressImage(file, {\n        format: targetFormat,\n        quality\n    });\n}\n// Resize image\nasync function resizeImage(file, width, height, maintainAspectRatio = true) {\n    return compressImage(file, {\n        maxWidth: width,\n        maxHeight: height,\n        maintainAspectRatio,\n        quality: 0.95 // High quality for resize operations\n    });\n}\n// Create image thumbnails\nasync function createThumbnail(file, size = 150) {\n    return compressImage(file, {\n        maxWidth: size,\n        maxHeight: size,\n        maintainAspectRatio: true,\n        quality: 0.8,\n        format: IMAGE_FORMATS.JPEG\n    });\n}\n// Helper functions\nfunction calculateDimensions(originalWidth, originalHeight, maxWidth, maxHeight, maintainAspectRatio) {\n    let width = originalWidth;\n    let height = originalHeight;\n    if (!maxWidth && !maxHeight) {\n        return {\n            width,\n            height\n        };\n    }\n    if (maintainAspectRatio) {\n        const aspectRatio = originalWidth / originalHeight;\n        if (maxWidth && maxHeight) {\n            // Fit within both constraints\n            if (width > maxWidth) {\n                width = maxWidth;\n                height = width / aspectRatio;\n            }\n            if (height > maxHeight) {\n                height = maxHeight;\n                width = height * aspectRatio;\n            }\n        } else if (maxWidth) {\n            if (width > maxWidth) {\n                width = maxWidth;\n                height = width / aspectRatio;\n            }\n        } else if (maxHeight) {\n            if (height > maxHeight) {\n                height = maxHeight;\n                width = height * aspectRatio;\n            }\n        }\n    } else {\n        // Don't maintain aspect ratio\n        if (maxWidth) width = Math.min(width, maxWidth);\n        if (maxHeight) height = Math.min(height, maxHeight);\n    }\n    return {\n        width: Math.round(width),\n        height: Math.round(height)\n    };\n}\nfunction changeFileExtension(filename, newFormat) {\n    const nameWithoutExt = filename.substring(0, filename.lastIndexOf('.'));\n    return `${nameWithoutExt}.${newFormat}`;\n}\nfunction calculateReduction(originalSize, compressedSize) {\n    return ((originalSize - compressedSize) / originalSize * 100).toFixed(2);\n}\n// Get image metadata\nasync function getImageMetadata(file) {\n    return new Promise((resolve, reject)=>{\n        const img = new Image();\n        img.onload = ()=>{\n            resolve({\n                width: img.width,\n                height: img.height,\n                aspectRatio: (img.width / img.height).toFixed(2),\n                megapixels: (img.width * img.height / 1000000).toFixed(2),\n                size: (0,_pdfUtils__WEBPACK_IMPORTED_MODULE_0__.formatFileSize)(file.size),\n                format: file.type,\n                filename: file.name\n            });\n            URL.revokeObjectURL(img.src);\n        };\n        img.onerror = ()=>{\n            reject(new Error('Failed to load image for metadata extraction'));\n        };\n        img.src = URL.createObjectURL(file);\n    });\n}\n// Optimize image for web\nasync function optimizeForWeb(file, targetSize = 'medium') {\n    const presets = {\n        small: {\n            maxWidth: 800,\n            quality: 0.7,\n            format: IMAGE_FORMATS.WEBP\n        },\n        medium: {\n            maxWidth: 1200,\n            quality: 0.8,\n            format: IMAGE_FORMATS.WEBP\n        },\n        large: {\n            maxWidth: 1920,\n            quality: 0.85,\n            format: IMAGE_FORMATS.WEBP\n        },\n        retina: {\n            maxWidth: 2560,\n            quality: 0.9,\n            format: IMAGE_FORMATS.WEBP\n        }\n    };\n    const preset = presets[targetSize] || presets.medium;\n    return compressImage(file, {\n        ...preset,\n        maintainAspectRatio: true\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixjQUFjRyxJQUFJO1FBQUM7SUFDckU7SUFFQSxNQUFNcUcsU0FBU0wsT0FBTyxDQUFDRCxXQUFXLElBQUlDLFFBQVFFLE1BQU07SUFFcEQsT0FBT3hGLGNBQWNDLE1BQU07UUFDekIsR0FBRzBGLE1BQU07UUFDVHJGLHFCQUFxQjtJQUN2QjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYnJpYW5jaGV3L2Rldi9jb21wcmVzcy91dGlscy9pbWFnZVV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltYWdlIGNvbXByZXNzaW9uIGFuZCBvcHRpbWl6YXRpb24gdXRpbGl0aWVzXG5cbmltcG9ydCB7IGRlYnVnQ29uZmlnLCBmb3JtYXRGaWxlU2l6ZSB9IGZyb20gJy4vcGRmVXRpbHMnO1xuXG4vLyBEeW5hbWljIGltcG9ydCBmb3IgYnJvd3Nlci1pbWFnZS1jb21wcmVzc2lvbiAoY2xpZW50LXNpZGUgb25seSlcbmxldCBpbWFnZUNvbXByZXNzaW9uID0gbnVsbDtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBpbXBvcnQoJ2Jyb3dzZXItaW1hZ2UtY29tcHJlc3Npb24nKS50aGVuKG1vZHVsZSA9PiB7XG4gICAgaW1hZ2VDb21wcmVzc2lvbiA9IG1vZHVsZS5kZWZhdWx0O1xuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IElNQUdFX0ZPUk1BVFMgPSB7XG4gIEpQRUc6ICdqcGVnJyxcbiAgUE5HOiAncG5nJyxcbiAgV0VCUDogJ3dlYnAnLFxuICBBVklGOiAnYXZpZidcbn07XG5cbmV4cG9ydCBjb25zdCBDT01QUkVTU0lPTl9QUkVTRVRTID0ge1xuICBISUdIX1FVQUxJVFk6IHsgcXVhbGl0eTogMC45NSwgZGVzY3JpcHRpb246ICdIaWdoIFF1YWxpdHkgKE1pbmltYWwgY29tcHJlc3Npb24pJyB9LFxuICBCQUxBTkNFRDogeyBxdWFsaXR5OiAwLjgwLCBkZXNjcmlwdGlvbjogJ0JhbGFuY2VkIChHb29kIHF1YWxpdHksIG1vZGVyYXRlIHNpemUpJyB9LFxuICBPUFRJTUlaRUQ6IHsgcXVhbGl0eTogMC42NSwgZGVzY3JpcHRpb246ICdPcHRpbWl6ZWQgKFNtYWxsZXIgc2l6ZSwgZ29vZCBxdWFsaXR5KScgfSxcbiAgQUdHUkVTU0lWRTogeyBxdWFsaXR5OiAwLjQ1LCBkZXNjcmlwdGlvbjogJ0FnZ3Jlc3NpdmUgKFNtYWxsIHNpemUsIGxvd2VyIHF1YWxpdHkpJyB9LFxuICBNQVhJTVVNOiB7IHF1YWxpdHk6IDAuMjUsIGRlc2NyaXB0aW9uOiAnTWF4aW11bSAoU21hbGxlc3Qgc2l6ZSwgYmFzaWMgcXVhbGl0eSknIH1cbn07XG5cbi8vIENvbXByZXNzIGltYWdlIHdpdGggc3BlY2lmaWVkIHNldHRpbmdzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29tcHJlc3NJbWFnZShmaWxlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHF1YWxpdHkgPSAwLjgsXG4gICAgZm9ybWF0ID0gSU1BR0VfRk9STUFUUy5KUEVHLFxuICAgIG1heFdpZHRoID0gbnVsbCxcbiAgICBtYXhIZWlnaHQgPSBudWxsLFxuICAgIG1haW50YWluQXNwZWN0UmF0aW8gPSB0cnVlLFxuICAgIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7fVxuICB9ID0gb3B0aW9ucztcblxuICAvLyBVc2UgYnJvd3Nlci1pbWFnZS1jb21wcmVzc2lvbiBpZiBhdmFpbGFibGUgZm9yIGJldHRlciBjb21wcmVzc2lvblxuICBpZiAoaW1hZ2VDb21wcmVzc2lvbiAmJiAoZm9ybWF0ID09PSBJTUFHRV9GT1JNQVRTLkpQRUcgfHwgZm9ybWF0ID09PSBJTUFHRV9GT1JNQVRTLlBORykpIHtcbiAgICB0cnkge1xuICAgICAgcHJvZ3Jlc3NDYWxsYmFjaygxMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbXByZXNzaW9uT3B0aW9ucyA9IHtcbiAgICAgICAgbWF4U2l6ZU1COiAxLCAvLyBNYXggZmlsZSBzaXplIGluIE1CXG4gICAgICAgIG1heFdpZHRoT3JIZWlnaHQ6IE1hdGgubWF4KG1heFdpZHRoIHx8IDE5MjAsIG1heEhlaWdodCB8fCAxOTIwKSxcbiAgICAgICAgdXNlV2ViV29ya2VyOiB0cnVlLFxuICAgICAgICBxdWFsaXR5OiBxdWFsaXR5LFxuICAgICAgICBmaWxlVHlwZTogYGltYWdlLyR7Zm9ybWF0fWBcbiAgICAgIH07XG5cbiAgICAgIHByb2dyZXNzQ2FsbGJhY2soNTApO1xuICAgICAgXG4gICAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IGF3YWl0IGltYWdlQ29tcHJlc3Npb24oZmlsZSwgY29tcHJlc3Npb25PcHRpb25zKTtcbiAgICAgIFxuICAgICAgcHJvZ3Jlc3NDYWxsYmFjaygxMDApO1xuICAgICAgXG4gICAgICByZXR1cm4gbmV3IEZpbGUoW2NvbXByZXNzZWRGaWxlXSwgY2hhbmdlRmlsZUV4dGVuc2lvbihmaWxlLm5hbWUsIGZvcm1hdCksIHtcbiAgICAgICAgdHlwZTogYGltYWdlLyR7Zm9ybWF0fWBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGRlYnVnQ29uZmlnLndhcm4oJ2Jyb3dzZXItaW1hZ2UtY29tcHJlc3Npb24gZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gY2FudmFzIG1ldGhvZDonLCBlcnJvcik7XG4gICAgICAvLyBGYWxsIHRocm91Z2ggdG8gY2FudmFzIG1ldGhvZFxuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIGNhbnZhcy1iYXNlZCBjb21wcmVzc2lvblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2soMjUpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgZGltZW5zaW9uc1xuICAgICAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYWxjdWxhdGVEaW1lbnNpb25zKFxuICAgICAgICAgIGltZy53aWR0aCwgXG4gICAgICAgICAgaW1nLmhlaWdodCwgXG4gICAgICAgICAgbWF4V2lkdGgsIFxuICAgICAgICAgIG1heEhlaWdodCwgXG4gICAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpb1xuICAgICAgICApO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2soNTApO1xuXG4gICAgICAgIC8vIERyYXcgYW5kIGNvbXByZXNzXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2soNzUpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgdG8gYmxvYlxuICAgICAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgaWYgKCFibG9iKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gY29tcHJlc3MgaW1hZ2UnKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjaygxMDApO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyBmaWxlXG4gICAgICAgICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBuZXcgRmlsZShcbiAgICAgICAgICAgIFtibG9iXSwgXG4gICAgICAgICAgICBjaGFuZ2VGaWxlRXh0ZW5zaW9uKGZpbGUubmFtZSwgZm9ybWF0KSwgXG4gICAgICAgICAgICB7IHR5cGU6IGBpbWFnZS8ke2Zvcm1hdH1gIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmVzb2x2ZShjb21wcmVzc2VkRmlsZSk7XG4gICAgICAgIH0sIGBpbWFnZS8ke2Zvcm1hdH1gLCBxdWFsaXR5KTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbWFnZScpKTtcbiAgICB9O1xuXG4gICAgLy8gTG9hZCB0aGUgaW1hZ2VcbiAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgfSk7XG59XG5cbi8vIEJhdGNoIGNvbXByZXNzIG11bHRpcGxlIGltYWdlc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXByZXNzSW1hZ2VzKGZpbGVzLCBvcHRpb25zID0ge30sIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7fSkge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGNvbnN0IHRvdGFsRmlsZXMgPSBmaWxlcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEZpbGVzOyBpKyspIHtcbiAgICBjb25zdCBmaWxlID0gZmlsZXNbaV07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpbGVQcm9ncmVzc0NhbGxiYWNrID0gKHByb2dyZXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IG92ZXJhbGxQcm9ncmVzcyA9ICgoaSAvIHRvdGFsRmlsZXMpICsgKHByb2dyZXNzIC8gMTAwKSAvIHRvdGFsRmlsZXMpICogMTAwO1xuICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKG92ZXJhbGxQcm9ncmVzcywgaSwgZmlsZS5uYW1lKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGNvbXByZXNzZWRGaWxlID0gYXdhaXQgY29tcHJlc3NJbWFnZShmaWxlLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2s6IGZpbGVQcm9ncmVzc0NhbGxiYWNrXG4gICAgICB9KTtcblxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgb3JpZ2luYWw6IGZpbGUsXG4gICAgICAgIGNvbXByZXNzZWQ6IGNvbXByZXNzZWRGaWxlLFxuICAgICAgICByZWR1Y3Rpb246IGNhbGN1bGF0ZVJlZHVjdGlvbihmaWxlLnNpemUsIGNvbXByZXNzZWRGaWxlLnNpemUpLFxuICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBkZWJ1Z0NvbmZpZy5lcnJvcihgRmFpbGVkIHRvIGNvbXByZXNzICR7ZmlsZS5uYW1lfTpgLCBlcnJvcik7XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICBvcmlnaW5hbDogZmlsZSxcbiAgICAgICAgY29tcHJlc3NlZDogbnVsbCxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLy8gQ29udmVydCBpbWFnZSBmb3JtYXRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb252ZXJ0SW1hZ2VGb3JtYXQoZmlsZSwgdGFyZ2V0Rm9ybWF0LCBxdWFsaXR5ID0gMC45KSB7XG4gIGlmICghT2JqZWN0LnZhbHVlcyhJTUFHRV9GT1JNQVRTKS5pbmNsdWRlcyh0YXJnZXRGb3JtYXQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0YXJnZXQgZm9ybWF0OiAke3RhcmdldEZvcm1hdH1gKTtcbiAgfVxuXG4gIHJldHVybiBjb21wcmVzc0ltYWdlKGZpbGUsIHtcbiAgICBmb3JtYXQ6IHRhcmdldEZvcm1hdCxcbiAgICBxdWFsaXR5XG4gIH0pO1xufVxuXG4vLyBSZXNpemUgaW1hZ2VcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNpemVJbWFnZShmaWxlLCB3aWR0aCwgaGVpZ2h0LCBtYWludGFpbkFzcGVjdFJhdGlvID0gdHJ1ZSkge1xuICByZXR1cm4gY29tcHJlc3NJbWFnZShmaWxlLCB7XG4gICAgbWF4V2lkdGg6IHdpZHRoLFxuICAgIG1heEhlaWdodDogaGVpZ2h0LFxuICAgIG1haW50YWluQXNwZWN0UmF0aW8sXG4gICAgcXVhbGl0eTogMC45NSAvLyBIaWdoIHF1YWxpdHkgZm9yIHJlc2l6ZSBvcGVyYXRpb25zXG4gIH0pO1xufVxuXG4vLyBDcmVhdGUgaW1hZ2UgdGh1bWJuYWlsc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRodW1ibmFpbChmaWxlLCBzaXplID0gMTUwKSB7XG4gIHJldHVybiBjb21wcmVzc0ltYWdlKGZpbGUsIHtcbiAgICBtYXhXaWR0aDogc2l6ZSxcbiAgICBtYXhIZWlnaHQ6IHNpemUsXG4gICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogdHJ1ZSxcbiAgICBxdWFsaXR5OiAwLjgsXG4gICAgZm9ybWF0OiBJTUFHRV9GT1JNQVRTLkpQRUdcbiAgfSk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnNcbmZ1bmN0aW9uIGNhbGN1bGF0ZURpbWVuc2lvbnMob3JpZ2luYWxXaWR0aCwgb3JpZ2luYWxIZWlnaHQsIG1heFdpZHRoLCBtYXhIZWlnaHQsIG1haW50YWluQXNwZWN0UmF0aW8pIHtcbiAgbGV0IHdpZHRoID0gb3JpZ2luYWxXaWR0aDtcbiAgbGV0IGhlaWdodCA9IG9yaWdpbmFsSGVpZ2h0O1xuXG4gIGlmICghbWF4V2lkdGggJiYgIW1heEhlaWdodCkge1xuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuXG4gIGlmIChtYWludGFpbkFzcGVjdFJhdGlvKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBvcmlnaW5hbFdpZHRoIC8gb3JpZ2luYWxIZWlnaHQ7XG5cbiAgICBpZiAobWF4V2lkdGggJiYgbWF4SGVpZ2h0KSB7XG4gICAgICAvLyBGaXQgd2l0aGluIGJvdGggY29uc3RyYWludHNcbiAgICAgIGlmICh3aWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgIHdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1heFdpZHRoKSB7XG4gICAgICBpZiAod2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICB3aWR0aCA9IG1heFdpZHRoO1xuICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWF4SGVpZ2h0KSB7XG4gICAgICBpZiAoaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRG9uJ3QgbWFpbnRhaW4gYXNwZWN0IHJhdGlvXG4gICAgaWYgKG1heFdpZHRoKSB3aWR0aCA9IE1hdGgubWluKHdpZHRoLCBtYXhXaWR0aCk7XG4gICAgaWYgKG1heEhlaWdodCkgaGVpZ2h0ID0gTWF0aC5taW4oaGVpZ2h0LCBtYXhIZWlnaHQpO1xuICB9XG5cbiAgcmV0dXJuIHsgXG4gICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGgpLCBcbiAgICBoZWlnaHQ6IE1hdGgucm91bmQoaGVpZ2h0KSBcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlRmlsZUV4dGVuc2lvbihmaWxlbmFtZSwgbmV3Rm9ybWF0KSB7XG4gIGNvbnN0IG5hbWVXaXRob3V0RXh0ID0gZmlsZW5hbWUuc3Vic3RyaW5nKDAsIGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJykpO1xuICByZXR1cm4gYCR7bmFtZVdpdGhvdXRFeHR9LiR7bmV3Rm9ybWF0fWA7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlZHVjdGlvbihvcmlnaW5hbFNpemUsIGNvbXByZXNzZWRTaXplKSB7XG4gIHJldHVybiAoKG9yaWdpbmFsU2l6ZSAtIGNvbXByZXNzZWRTaXplKSAvIG9yaWdpbmFsU2l6ZSAqIDEwMCkudG9GaXhlZCgyKTtcbn1cblxuLy8gR2V0IGltYWdlIG1ldGFkYXRhXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VNZXRhZGF0YShmaWxlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUoe1xuICAgICAgICB3aWR0aDogaW1nLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGltZy5oZWlnaHQsXG4gICAgICAgIGFzcGVjdFJhdGlvOiAoaW1nLndpZHRoIC8gaW1nLmhlaWdodCkudG9GaXhlZCgyKSxcbiAgICAgICAgbWVnYXBpeGVsczogKChpbWcud2lkdGggKiBpbWcuaGVpZ2h0KSAvIDEwMDAwMDApLnRvRml4ZWQoMiksXG4gICAgICAgIHNpemU6IGZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSksXG4gICAgICAgIGZvcm1hdDogZmlsZS50eXBlLFxuICAgICAgICBmaWxlbmFtZTogZmlsZS5uYW1lXG4gICAgICB9KTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1nLnNyYyk7XG4gICAgfTtcblxuICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgaW1hZ2UgZm9yIG1ldGFkYXRhIGV4dHJhY3Rpb24nKSk7XG4gICAgfTtcblxuICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICB9KTtcbn1cblxuLy8gT3B0aW1pemUgaW1hZ2UgZm9yIHdlYlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9wdGltaXplRm9yV2ViKGZpbGUsIHRhcmdldFNpemUgPSAnbWVkaXVtJykge1xuICBjb25zdCBwcmVzZXRzID0ge1xuICAgIHNtYWxsOiB7IG1heFdpZHRoOiA4MDAsIHF1YWxpdHk6IDAuNywgZm9ybWF0OiBJTUFHRV9GT1JNQVRTLldFQlAgfSxcbiAgICBtZWRpdW06IHsgbWF4V2lkdGg6IDEyMDAsIHF1YWxpdHk6IDAuOCwgZm9ybWF0OiBJTUFHRV9GT1JNQVRTLldFQlAgfSxcbiAgICBsYXJnZTogeyBtYXhXaWR0aDogMTkyMCwgcXVhbGl0eTogMC44NSwgZm9ybWF0OiBJTUFHRV9GT1JNQVRTLldFQlAgfSxcbiAgICByZXRpbmE6IHsgbWF4V2lkdGg6IDI1NjAsIHF1YWxpdHk6IDAuOSwgZm9ybWF0OiBJTUFHRV9GT1JNQVRTLldFQlAgfVxuICB9O1xuXG4gIGNvbnN0IHByZXNldCA9IHByZXNldHNbdGFyZ2V0U2l6ZV0gfHwgcHJlc2V0cy5tZWRpdW07XG4gIFxuICByZXR1cm4gY29tcHJlc3NJbWFnZShmaWxlLCB7XG4gICAgLi4ucHJlc2V0LFxuICAgIG1haW50YWluQXNwZWN0UmF0aW86IHRydWVcbiAgfSk7XG59Il0sIm5hbWVzIjpbImRlYnVnQ29uZmlnIiwiZm9ybWF0RmlsZVNpemUiLCJpbWFnZUNvbXByZXNzaW9uIiwidGhlbiIsIm1vZHVsZSIsImRlZmF1bHQiLCJJTUFHRV9GT1JNQVRTIiwiSlBFRyIsIlBORyIsIldFQlAiLCJBVklGIiwiQ09NUFJFU1NJT05fUFJFU0VUUyIsIkhJR0hfUVVBTElUWSIsInF1YWxpdHkiLCJkZXNjcmlwdGlvbiIsIkJBTEFOQ0VEIiwiT1BUSU1JWkVEIiwiQUdHUkVTU0lWRSIsIk1BWElNVU0iLCJjb21wcmVzc0ltYWdlIiwiZmlsZSIsIm9wdGlvbnMiLCJmb3JtYXQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm1haW50YWluQXNwZWN0UmF0aW8iLCJwcm9ncmVzc0NhbGxiYWNrIiwiY29tcHJlc3Npb25PcHRpb25zIiwibWF4U2l6ZU1CIiwibWF4V2lkdGhPckhlaWdodCIsIk1hdGgiLCJtYXgiLCJ1c2VXZWJXb3JrZXIiLCJmaWxlVHlwZSIsImNvbXByZXNzZWRGaWxlIiwiRmlsZSIsImNoYW5nZUZpbGVFeHRlbnNpb24iLCJuYW1lIiwidHlwZSIsImVycm9yIiwid2FybiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0Iiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJjYWxjdWxhdGVEaW1lbnNpb25zIiwiZHJhd0ltYWdlIiwidG9CbG9iIiwiYmxvYiIsIkVycm9yIiwib25lcnJvciIsInNyYyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImNvbXByZXNzSW1hZ2VzIiwiZmlsZXMiLCJyZXN1bHRzIiwidG90YWxGaWxlcyIsImxlbmd0aCIsImkiLCJmaWxlUHJvZ3Jlc3NDYWxsYmFjayIsInByb2dyZXNzIiwib3ZlcmFsbFByb2dyZXNzIiwicHVzaCIsIm9yaWdpbmFsIiwiY29tcHJlc3NlZCIsInJlZHVjdGlvbiIsImNhbGN1bGF0ZVJlZHVjdGlvbiIsInNpemUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImNvbnZlcnRJbWFnZUZvcm1hdCIsInRhcmdldEZvcm1hdCIsIk9iamVjdCIsInZhbHVlcyIsImluY2x1ZGVzIiwicmVzaXplSW1hZ2UiLCJjcmVhdGVUaHVtYm5haWwiLCJvcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxIZWlnaHQiLCJhc3BlY3RSYXRpbyIsIm1pbiIsInJvdW5kIiwiZmlsZW5hbWUiLCJuZXdGb3JtYXQiLCJuYW1lV2l0aG91dEV4dCIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwib3JpZ2luYWxTaXplIiwiY29tcHJlc3NlZFNpemUiLCJ0b0ZpeGVkIiwiZ2V0SW1hZ2VNZXRhZGF0YSIsIm1lZ2FwaXhlbHMiLCJyZXZva2VPYmplY3RVUkwiLCJvcHRpbWl6ZUZvcldlYiIsInRhcmdldFNpemUiLCJwcmVzZXRzIiwic21hbGwiLCJtZWRpdW0iLCJsYXJnZSIsInJldGluYSIsInByZXNldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/imageUtils.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/pdfUtils.js":
/*!***************************!*\
  !*** ./utils/pdfUtils.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addToCombinedPdf: () => (/* binding */ addToCombinedPdf),\n/* harmony export */   analyzeCombinedPdfWithMistral: () => (/* binding */ analyzeCombinedPdfWithMistral),\n/* harmony export */   compressPdf: () => (/* binding */ compressPdf),\n/* harmony export */   debugConfig: () => (/* binding */ debugConfig),\n/* harmony export */   downloadAllFiles: () => (/* binding */ downloadAllFiles),\n/* harmony export */   downloadFile: () => (/* binding */ downloadFile),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   getMistralApiKey: () => (/* binding */ getMistralApiKey),\n/* harmony export */   loadAwsConfig: () => (/* binding */ loadAwsConfig),\n/* harmony export */   processLargePdfInChunks: () => (/* binding */ processLargePdfInChunks)\n/* harmony export */ });\n// utils/pdfUtils.js - PDF compression and processing utilities\n// Initialize PDF.js worker\nif (false) {}\n// AWS Configuration - Will be populated from server\nlet awsConfig = {\n    region: '',\n    credentials: {\n        accessKeyId: '',\n        secretAccessKey: ''\n    },\n    bucketName: ''\n};\n// Debug configuration\nconst debugConfig = {\n    isDebugMode: false,\n    log: function(message, ...args) {\n        if (this.isDebugMode) {\n            console.log(message, ...args);\n        }\n    },\n    warn: function(message, ...args) {\n        if (this.isDebugMode) {\n            console.warn(message, ...args);\n        } else {\n            console.warn('[WARNING]', message, ...args);\n        }\n    },\n    error: function(message, ...args) {\n        console.error(message, ...args);\n    }\n};\n// Load AWS configuration from server\nasync function loadAwsConfig() {\n    try {\n        debugConfig.log('Loading AWS configuration from server...');\n        const response = await fetch('/api/aws-config');\n        if (!response.ok) {\n            throw new Error(`Failed to load AWS config: ${response.status} ${response.statusText}`);\n        }\n        const config = await response.json();\n        // Update the AWS config\n        awsConfig.region = config.region;\n        awsConfig.credentials.accessKeyId = config.credentials.accessKeyId;\n        awsConfig.credentials.secretAccessKey = config.credentials.secretAccessKey;\n        awsConfig.bucketName = config.bucketName;\n        debugConfig.log('AWS configuration loaded successfully');\n    } catch (error) {\n        debugConfig.error('Error loading AWS configuration:', error);\n        throw error;\n    }\n}\n// Compress PDF file\nasync function compressPdf(file, quality, dpi, progressCallback) {\n    if (true) {\n        throw new Error('PDF libraries not loaded');\n    }\n    // Convert quality from percentage (1-100) to decimal (0-1)\n    const imageQuality = quality / 100;\n    // Load the PDF using PDF.js\n    const arrayBuffer = await file.arrayBuffer();\n    const pdf = await pdfjsLib.getDocument({\n        data: arrayBuffer\n    }).promise;\n    const numPages = pdf.numPages;\n    // Create a new PDF with pdf-lib\n    const pdfDoc = await PDFLib.PDFDocument.create();\n    for(let i = 1; i <= numPages; i++){\n        // Update progress\n        progressCallback((i - 1) / numPages * 100);\n        // Get the page\n        const page = await pdf.getPage(i);\n        // Calculate scale based on DPI\n        // PDF.js default is 96 DPI\n        const scale = dpi / 96;\n        const viewport = page.getViewport({\n            scale\n        });\n        // Create a canvas to render the page\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        canvas.width = viewport.width;\n        canvas.height = viewport.height;\n        // Render the page to the canvas\n        await page.render({\n            canvasContext: context,\n            viewport\n        }).promise;\n        // Convert the canvas to a JPEG with compression\n        const jpegData = canvas.toDataURL('image/jpeg', imageQuality);\n        // Convert the data URL to a Uint8Array\n        const jpegImage = await fetchImageAsUint8Array(jpegData);\n        // Embed the JPEG into the new PDF\n        const image = await pdfDoc.embedJpg(jpegImage);\n        // Add a page with the same dimensions\n        const newPage = pdfDoc.addPage([\n            viewport.width,\n            viewport.height\n        ]);\n        // Draw the image on the page\n        newPage.drawImage(image, {\n            x: 0,\n            y: 0,\n            width: viewport.width,\n            height: viewport.height\n        });\n    }\n    // Update progress to 100%\n    progressCallback(100);\n    // Save the PDF\n    const pdfBytes = await pdfDoc.save();\n    // Create a new file\n    return new File([\n        pdfBytes\n    ], file.name, {\n        type: 'application/pdf'\n    });\n}\n// Helper function to convert data URL to Uint8Array\nasync function fetchImageAsUint8Array(dataUrl) {\n    // Remove the data URL prefix\n    const base64Data = dataUrl.split(',')[1];\n    // Decode the base64 string to a Uint8Array\n    const binaryString = atob(base64Data);\n    const bytes = new Uint8Array(binaryString.length);\n    for(let i = 0; i < binaryString.length; i++){\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n}\n// Add PDF to combined PDF document\nasync function addToCombinedPdf(pdfFile, targetPdfDoc) {\n    if (typeof PDFLib === 'undefined') {\n        throw new Error('PDFLib not loaded');\n    }\n    try {\n        debugConfig.log('Adding file to combined PDF:', pdfFile.name, 'Size:', formatFileSize(pdfFile.size));\n        // Make a fresh copy of the file to ensure the ArrayBuffer isn't shared or detached\n        debugConfig.log('Creating a fresh copy of the file using slice(0)');\n        const copiedFile = pdfFile.slice(0);\n        // Convert the file to an ArrayBuffer\n        const arrayBuffer = await copiedFile.arrayBuffer();\n        debugConfig.log('ArrayBuffer created successfully, byteLength:', arrayBuffer.byteLength);\n        // Load the PDF with PDF-Lib\n        debugConfig.log('Loading PDF from ArrayBuffer with PDFLib...');\n        const sourcePdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);\n        // Copy pages from source document to target document\n        debugConfig.log('Copying pages from source to target...');\n        const pageCount = sourcePdfDoc.getPageCount();\n        const copiedPages = await targetPdfDoc.copyPages(sourcePdfDoc, [\n            ...Array(pageCount).keys()\n        ]);\n        // Add each copied page to the target document\n        for (const page of copiedPages){\n            targetPdfDoc.addPage(page);\n        }\n        debugConfig.log('Successfully copied', copiedPages.length, 'pages');\n        return true;\n    } catch (error) {\n        debugConfig.error('Error adding to combined PDF:', error);\n        throw new Error('Failed to add to combined PDF: ' + error.message);\n    }\n}\n// Format file size for display\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = [\n        'Bytes',\n        'KB',\n        'MB',\n        'GB'\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n// Download file\nfunction downloadFile(file, prefix = 'compressed_') {\n    const url = URL.createObjectURL(file);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${prefix}${file.name}`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n}\n// Download multiple files with delay\nfunction downloadAllFiles(files) {\n    if (files.length === 0) return;\n    // For multiple files, we need to trigger downloads sequentially\n    // with a small delay to ensure browser handles them properly\n    files.forEach((file, index)=>{\n        setTimeout(()=>{\n            downloadFile(file);\n        }, index * 500); // 500ms delay between downloads\n    });\n}\n// Get Mistral API key from localStorage\nfunction getMistralApiKey() {\n    if (true) return null;\n    return localStorage.getItem('mistralApiKey');\n}\n// Process large PDF in chunks for OCR\nasync function processLargePdfInChunks(pdfFile) {\n    debugConfig.log('Processing large PDF in chunks:', pdfFile.name);\n    try {\n        // Load the PDF using PDF.js to get page count\n        const tempPdfBytes = await pdfFile.slice(0).arrayBuffer();\n        const pdf = await pdfjsLib.getDocument({\n            data: tempPdfBytes\n        }).promise;\n        const numPages = pdf.numPages;\n        debugConfig.log(`PDF has ${numPages} pages, will process in chunks`);\n        // Create chunks of pages - smaller chunks for very large PDFs\n        const pdfSizeInMB = pdfFile.size / (1024 * 1024);\n        // Adjust chunk size based on PDF size\n        let CHUNK_SIZE = 5; // default\n        if (pdfSizeInMB > 30) {\n            CHUNK_SIZE = 2; // Very large PDFs get tiny chunks\n        } else if (pdfSizeInMB > 20) {\n            CHUNK_SIZE = 3; // Larger PDFs get smaller chunks\n        } else if (pdfSizeInMB > 10) {\n            CHUNK_SIZE = 4; // Medium PDFs get medium chunks\n        }\n        debugConfig.log(`Using chunk size of ${CHUNK_SIZE} pages based on PDF size (${pdfSizeInMB.toFixed(2)} MB)`);\n        const chunks = [];\n        for(let i = 1; i <= numPages; i += CHUNK_SIZE){\n            const endPage = Math.min(i + CHUNK_SIZE - 1, numPages);\n            chunks.push({\n                startPage: i,\n                endPage: endPage\n            });\n        }\n        debugConfig.log(`Split PDF into ${chunks.length} chunks for processing`);\n        // Process each chunk and collect results\n        const allResults = [];\n        let failedChunks = 0;\n        for(let chunkIndex = 0; chunkIndex < chunks.length; chunkIndex++){\n            const chunk = chunks[chunkIndex];\n            debugConfig.log(`Processing chunk ${chunkIndex + 1}/${chunks.length} (pages ${chunk.startPage}-${chunk.endPage})`);\n            try {\n                // Create a new PDF with just the pages from this chunk\n                const chunkPdfDoc = await PDFLib.PDFDocument.create();\n                // Create a fresh copy of the file for each chunk\n                const sourcePdfBytes = await pdfFile.slice(0).arrayBuffer();\n                const sourcePdfDoc = await PDFLib.PDFDocument.load(sourcePdfBytes);\n                // Copy pages from source to chunk\n                const pageIndices = [];\n                for(let i = chunk.startPage - 1; i < chunk.endPage; i++){\n                    pageIndices.push(i);\n                }\n                const copiedPages = await chunkPdfDoc.copyPages(sourcePdfDoc, pageIndices);\n                copiedPages.forEach((page)=>chunkPdfDoc.addPage(page));\n                // Save the chunk PDF\n                const chunkPdfBytes = await chunkPdfDoc.save();\n                const chunkPdfFile = new File([\n                    chunkPdfBytes\n                ], `chunk_${chunkIndex + 1}_${pdfFile.name}`, {\n                    type: 'application/pdf'\n                });\n                // Process this chunk with OCR\n                debugConfig.log(`Sending chunk ${chunkIndex + 1} to OCR service (${formatFileSize(chunkPdfFile.size)})`);\n                const chunkResult = await analyzeCombinedPdfWithMistral(chunkPdfFile);\n                if (chunkResult) {\n                    allResults.push(chunkResult);\n                    debugConfig.log(`Successfully processed chunk ${chunkIndex + 1}`);\n                } else {\n                    debugConfig.warn(`Failed to process chunk ${chunkIndex + 1} - no results returned`);\n                    failedChunks++;\n                }\n            } catch (chunkError) {\n                debugConfig.error(`Error processing chunk ${chunkIndex + 1}:`, chunkError);\n                failedChunks++;\n                // Check if too many chunks are failing\n                if (failedChunks > 2 && failedChunks / (chunkIndex + 1) > 0.5) {\n                    debugConfig.error('Too many chunks failing, aborting chunked processing');\n                    throw new Error('Multiple chunk processing failures - OCR may not be working properly');\n                }\n            }\n            // Add a delay between chunks to avoid rate limiting\n            const delayTime = 2000 + Math.random() * 1000; // 2-3 seconds\n            debugConfig.log(`Waiting ${Math.round(delayTime / 1000)} seconds before processing next chunk...`);\n            await new Promise((resolve)=>setTimeout(resolve, delayTime));\n        }\n        // Combine all results - require at least one successful chunk\n        if (allResults.length === 0) {\n            throw new Error('Failed to process any chunks of the PDF');\n        }\n        // Merge metadata from all chunks\n        const combinedMetadata = {\n            pageCount: numPages,\n            totalWords: allResults.reduce((sum, result)=>sum + (result.totalWords || 0), 0),\n            language: allResults[0].language,\n            hasImages: allResults.some((result)=>result.hasImages),\n            extractedText: allResults.map((result)=>result.extractedText || '').join('\\n\\n'),\n            fullText: allResults.map((result)=>result.fullText || '').join('\\n\\n'),\n            images: []\n        };\n        // Combine all images from all chunks, updating page indices\n        allResults.forEach((result, chunkIndex)=>{\n            if (result.images && result.images.length > 0) {\n                const chunkStartPage = chunks[chunkIndex].startPage;\n                result.images.forEach((image)=>{\n                    // Update the page index to reflect the position in the full document\n                    const adjustedImage = {\n                        ...image\n                    };\n                    adjustedImage.pageIndex = chunkStartPage - 1 + image.pageIndex;\n                    combinedMetadata.images.push(adjustedImage);\n                });\n            }\n        });\n        debugConfig.log(`Successfully processed all chunks, combined ${combinedMetadata.images.length} images`);\n        return combinedMetadata;\n    } catch (error) {\n        debugConfig.error('Error processing large PDF in chunks:', error);\n        throw error;\n    }\n}\n// Analyze combined PDF with Mistral OCR API (placeholder - needs full implementation)\nasync function analyzeCombinedPdfWithMistral(pdfFile) {\n    // This is a simplified version - the full implementation would include\n    // S3 upload, Mistral API calls, etc.\n    debugConfig.log('OCR analysis would be implemented here for:', pdfFile.name);\n    // Return mock metadata for now\n    return {\n        pageCount: 1,\n        totalWords: 100,\n        language: 'en',\n        hasImages: false,\n        extractedText: 'Sample extracted text...',\n        fullText: 'Sample full text...',\n        images: []\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL3BkZlV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSwrREFBK0Q7QUFFL0QsMkJBQTJCO0FBQzNCLElBQUksS0FBZ0UsRUFBRSxFQUVyRTtBQUVELG9EQUFvRDtBQUNwRCxJQUFJRyxZQUFZO0lBQ2RDLFFBQVE7SUFDUkMsYUFBYTtRQUNYQyxhQUFhO1FBQ2JDLGlCQUFpQjtJQUNuQjtJQUNBQyxZQUFZO0FBQ2Q7QUFFQSxzQkFBc0I7QUFDZixNQUFNQyxjQUFjO0lBQ3pCQyxhQUFhO0lBQ2JDLEtBQUssU0FBU0MsT0FBTyxFQUFFLEdBQUdDLElBQUk7UUFDNUIsSUFBSSxJQUFJLENBQUNILFdBQVcsRUFBRTtZQUNwQkksUUFBUUgsR0FBRyxDQUFDQyxZQUFZQztRQUMxQjtJQUNGO0lBQ0FFLE1BQU0sU0FBU0gsT0FBTyxFQUFFLEdBQUdDLElBQUk7UUFDN0IsSUFBSSxJQUFJLENBQUNILFdBQVcsRUFBRTtZQUNwQkksUUFBUUMsSUFBSSxDQUFDSCxZQUFZQztRQUMzQixPQUFPO1lBQ0xDLFFBQVFDLElBQUksQ0FBQyxhQUFhSCxZQUFZQztRQUN4QztJQUNGO0lBQ0FHLE9BQU8sU0FBU0osT0FBTyxFQUFFLEdBQUdDLElBQUk7UUFDOUJDLFFBQVFFLEtBQUssQ0FBQ0osWUFBWUM7SUFDNUI7QUFDRixFQUFFO0FBRUYscUNBQXFDO0FBQzlCLGVBQWVJO0lBQ3BCLElBQUk7UUFDRlIsWUFBWUUsR0FBRyxDQUFDO1FBQ2hCLE1BQU1PLFdBQVcsTUFBTUMsTUFBTTtRQUU3QixJQUFJLENBQUNELFNBQVNFLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQywyQkFBMkIsRUFBRUgsU0FBU0ksTUFBTSxDQUFDLENBQUMsRUFBRUosU0FBU0ssVUFBVSxFQUFFO1FBQ3hGO1FBRUEsTUFBTUMsU0FBUyxNQUFNTixTQUFTTyxJQUFJO1FBRWxDLHdCQUF3QjtRQUN4QnRCLFVBQVVDLE1BQU0sR0FBR29CLE9BQU9wQixNQUFNO1FBQ2hDRCxVQUFVRSxXQUFXLENBQUNDLFdBQVcsR0FBR2tCLE9BQU9uQixXQUFXLENBQUNDLFdBQVc7UUFDbEVILFVBQVVFLFdBQVcsQ0FBQ0UsZUFBZSxHQUFHaUIsT0FBT25CLFdBQVcsQ0FBQ0UsZUFBZTtRQUMxRUosVUFBVUssVUFBVSxHQUFHZ0IsT0FBT2hCLFVBQVU7UUFFeENDLFlBQVlFLEdBQUcsQ0FBQztJQUNsQixFQUFFLE9BQU9LLE9BQU87UUFDZFAsWUFBWU8sS0FBSyxDQUFDLG9DQUFvQ0E7UUFDdEQsTUFBTUE7SUFDUjtBQUNGO0FBRUEsb0JBQW9CO0FBQ2IsZUFBZVUsWUFBWUMsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsZ0JBQWdCO0lBQ3BFLElBQUksSUFBaUcsRUFBRTtRQUNyRyxNQUFNLElBQUlULE1BQU07SUFDbEI7SUFFQSwyREFBMkQ7SUFDM0QsTUFBTVcsZUFBZUosVUFBVTtJQUUvQiw0QkFBNEI7SUFDNUIsTUFBTUssY0FBYyxNQUFNTixLQUFLTSxXQUFXO0lBQzFDLE1BQU1DLE1BQU0sTUFBTWxDLFNBQVNtQyxXQUFXLENBQUM7UUFBRUMsTUFBTUg7SUFBWSxHQUFHSSxPQUFPO0lBQ3JFLE1BQU1DLFdBQVdKLElBQUlJLFFBQVE7SUFFN0IsZ0NBQWdDO0lBQ2hDLE1BQU1DLFNBQVMsTUFBTVIsT0FBT1MsV0FBVyxDQUFDQyxNQUFNO0lBRTlDLElBQUssSUFBSUMsSUFBSSxHQUFHQSxLQUFLSixVQUFVSSxJQUFLO1FBQ2xDLGtCQUFrQjtRQUNsQlosaUJBQWlCLENBQUNZLElBQUksS0FBS0osV0FBVztRQUV0QyxlQUFlO1FBQ2YsTUFBTUssT0FBTyxNQUFNVCxJQUFJVSxPQUFPLENBQUNGO1FBRS9CLCtCQUErQjtRQUMvQiwyQkFBMkI7UUFDM0IsTUFBTUcsUUFBUWhCLE1BQU07UUFDcEIsTUFBTWlCLFdBQVdILEtBQUtJLFdBQVcsQ0FBQztZQUFFRjtRQUFNO1FBRTFDLHFDQUFxQztRQUNyQyxNQUFNRyxTQUFTQyxTQUFTQyxhQUFhLENBQUM7UUFDdEMsTUFBTUMsVUFBVUgsT0FBT0ksVUFBVSxDQUFDO1FBQ2xDSixPQUFPSyxLQUFLLEdBQUdQLFNBQVNPLEtBQUs7UUFDN0JMLE9BQU9NLE1BQU0sR0FBR1IsU0FBU1EsTUFBTTtRQUUvQixnQ0FBZ0M7UUFDaEMsTUFBTVgsS0FBS1ksTUFBTSxDQUFDO1lBQ2hCQyxlQUFlTDtZQUNmTDtRQUNGLEdBQUdULE9BQU87UUFFVixnREFBZ0Q7UUFDaEQsTUFBTW9CLFdBQVdULE9BQU9VLFNBQVMsQ0FBQyxjQUFjMUI7UUFFaEQsdUNBQXVDO1FBQ3ZDLE1BQU0yQixZQUFZLE1BQU1DLHVCQUF1Qkg7UUFFL0Msa0NBQWtDO1FBQ2xDLE1BQU1JLFFBQVEsTUFBTXRCLE9BQU91QixRQUFRLENBQUNIO1FBRXBDLHNDQUFzQztRQUN0QyxNQUFNSSxVQUFVeEIsT0FBT3lCLE9BQU8sQ0FBQztZQUFDbEIsU0FBU08sS0FBSztZQUFFUCxTQUFTUSxNQUFNO1NBQUM7UUFFaEUsNkJBQTZCO1FBQzdCUyxRQUFRRSxTQUFTLENBQUNKLE9BQU87WUFDdkJLLEdBQUc7WUFDSEMsR0FBRztZQUNIZCxPQUFPUCxTQUFTTyxLQUFLO1lBQ3JCQyxRQUFRUixTQUFTUSxNQUFNO1FBQ3pCO0lBQ0Y7SUFFQSwwQkFBMEI7SUFDMUJ4QixpQkFBaUI7SUFFakIsZUFBZTtJQUNmLE1BQU1zQyxXQUFXLE1BQU03QixPQUFPOEIsSUFBSTtJQUVsQyxvQkFBb0I7SUFDcEIsT0FBTyxJQUFJQyxLQUFLO1FBQUNGO0tBQVMsRUFBRXpDLEtBQUs0QyxJQUFJLEVBQUU7UUFBRUMsTUFBTTtJQUFrQjtBQUNuRTtBQUVBLG9EQUFvRDtBQUNwRCxlQUFlWix1QkFBdUJhLE9BQU87SUFDM0MsNkJBQTZCO0lBQzdCLE1BQU1DLGFBQWFELFFBQVFFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUV4QywyQ0FBMkM7SUFDM0MsTUFBTUMsZUFBZUMsS0FBS0g7SUFDMUIsTUFBTUksUUFBUSxJQUFJQyxXQUFXSCxhQUFhSSxNQUFNO0lBRWhELElBQUssSUFBSXRDLElBQUksR0FBR0EsSUFBSWtDLGFBQWFJLE1BQU0sRUFBRXRDLElBQUs7UUFDNUNvQyxLQUFLLENBQUNwQyxFQUFFLEdBQUdrQyxhQUFhSyxVQUFVLENBQUN2QztJQUNyQztJQUVBLE9BQU9vQztBQUNUO0FBRUEsbUNBQW1DO0FBQzVCLGVBQWVJLGlCQUFpQkMsT0FBTyxFQUFFQyxZQUFZO0lBQzFELElBQUksT0FBT3JELFdBQVcsYUFBYTtRQUNqQyxNQUFNLElBQUlWLE1BQU07SUFDbEI7SUFFQSxJQUFJO1FBQ0ZaLFlBQVlFLEdBQUcsQ0FBQyxnQ0FBZ0N3RSxRQUFRWixJQUFJLEVBQUUsU0FBU2MsZUFBZUYsUUFBUUcsSUFBSTtRQUVsRyxtRkFBbUY7UUFDbkY3RSxZQUFZRSxHQUFHLENBQUM7UUFDaEIsTUFBTTRFLGFBQWFKLFFBQVFLLEtBQUssQ0FBQztRQUVqQyxxQ0FBcUM7UUFDckMsTUFBTXZELGNBQWMsTUFBTXNELFdBQVd0RCxXQUFXO1FBQ2hEeEIsWUFBWUUsR0FBRyxDQUFDLGlEQUFpRHNCLFlBQVl3RCxVQUFVO1FBRXZGLDRCQUE0QjtRQUM1QmhGLFlBQVlFLEdBQUcsQ0FBQztRQUNoQixNQUFNK0UsZUFBZSxNQUFNM0QsT0FBT1MsV0FBVyxDQUFDbUQsSUFBSSxDQUFDMUQ7UUFFbkQscURBQXFEO1FBQ3JEeEIsWUFBWUUsR0FBRyxDQUFDO1FBQ2hCLE1BQU1pRixZQUFZRixhQUFhRyxZQUFZO1FBQzNDLE1BQU1DLGNBQWMsTUFBTVYsYUFBYVcsU0FBUyxDQUFDTCxjQUFjO2VBQUlNLE1BQU1KLFdBQVdLLElBQUk7U0FBRztRQUUzRiw4Q0FBOEM7UUFDOUMsS0FBSyxNQUFNdEQsUUFBUW1ELFlBQWE7WUFDOUJWLGFBQWFwQixPQUFPLENBQUNyQjtRQUN2QjtRQUVBbEMsWUFBWUUsR0FBRyxDQUFDLHVCQUF1Qm1GLFlBQVlkLE1BQU0sRUFBRTtRQUMzRCxPQUFPO0lBQ1QsRUFBRSxPQUFPaEUsT0FBTztRQUNkUCxZQUFZTyxLQUFLLENBQUMsaUNBQWlDQTtRQUNuRCxNQUFNLElBQUlLLE1BQU0sb0NBQW9DTCxNQUFNSixPQUFPO0lBQ25FO0FBQ0Y7QUFFQSwrQkFBK0I7QUFDeEIsU0FBU3lFLGVBQWVQLEtBQUs7SUFDbEMsSUFBSUEsVUFBVSxHQUFHLE9BQU87SUFFeEIsTUFBTW9CLElBQUk7SUFDVixNQUFNQyxRQUFRO1FBQUM7UUFBUztRQUFNO1FBQU07S0FBSztJQUN6QyxNQUFNekQsSUFBSTBELEtBQUtDLEtBQUssQ0FBQ0QsS0FBS3pGLEdBQUcsQ0FBQ21FLFNBQVNzQixLQUFLekYsR0FBRyxDQUFDdUY7SUFFaEQsT0FBT0ksV0FBVyxDQUFDeEIsUUFBUXNCLEtBQUtHLEdBQUcsQ0FBQ0wsR0FBR3hELEVBQUMsRUFBRzhELE9BQU8sQ0FBQyxNQUFNLE1BQU1MLEtBQUssQ0FBQ3pELEVBQUU7QUFDekU7QUFFQSxnQkFBZ0I7QUFDVCxTQUFTK0QsYUFBYTlFLElBQUksRUFBRStFLFNBQVMsYUFBYTtJQUN2RCxNQUFNQyxNQUFNQyxJQUFJQyxlQUFlLENBQUNsRjtJQUNoQyxNQUFNbUYsSUFBSTdELFNBQVNDLGFBQWEsQ0FBQztJQUNqQzRELEVBQUVDLElBQUksR0FBR0o7SUFDVEcsRUFBRUUsUUFBUSxHQUFHLEdBQUdOLFNBQVMvRSxLQUFLNEMsSUFBSSxFQUFFO0lBQ3BDdEIsU0FBU2dFLElBQUksQ0FBQ0MsV0FBVyxDQUFDSjtJQUMxQkEsRUFBRUssS0FBSztJQUNQbEUsU0FBU2dFLElBQUksQ0FBQ0csV0FBVyxDQUFDTjtJQUMxQkYsSUFBSVMsZUFBZSxDQUFDVjtBQUN0QjtBQUVBLHFDQUFxQztBQUM5QixTQUFTVyxpQkFBaUJDLEtBQUs7SUFDcEMsSUFBSUEsTUFBTXZDLE1BQU0sS0FBSyxHQUFHO0lBRXhCLGdFQUFnRTtJQUNoRSw2REFBNkQ7SUFDN0R1QyxNQUFNQyxPQUFPLENBQUMsQ0FBQzdGLE1BQU04RjtRQUNuQkMsV0FBVztZQUNUakIsYUFBYTlFO1FBQ2YsR0FBRzhGLFFBQVEsTUFBTSxnQ0FBZ0M7SUFDbkQ7QUFDRjtBQUVBLHdDQUF3QztBQUNqQyxTQUFTRTtJQUNkLElBQUksSUFBNkIsRUFBRSxPQUFPO0lBQzFDLE9BQU9DLGFBQWFDLE9BQU8sQ0FBQztBQUM5QjtBQUVBLHNDQUFzQztBQUMvQixlQUFlQyx3QkFBd0IzQyxPQUFPO0lBQ25EMUUsWUFBWUUsR0FBRyxDQUFDLG1DQUFtQ3dFLFFBQVFaLElBQUk7SUFFL0QsSUFBSTtRQUNGLDhDQUE4QztRQUM5QyxNQUFNd0QsZUFBZSxNQUFNNUMsUUFBUUssS0FBSyxDQUFDLEdBQUd2RCxXQUFXO1FBQ3ZELE1BQU1DLE1BQU0sTUFBTWxDLFNBQVNtQyxXQUFXLENBQUM7WUFBRUMsTUFBTTJGO1FBQWEsR0FBRzFGLE9BQU87UUFDdEUsTUFBTUMsV0FBV0osSUFBSUksUUFBUTtRQUU3QjdCLFlBQVlFLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRTJCLFNBQVMsOEJBQThCLENBQUM7UUFFbkUsOERBQThEO1FBQzlELE1BQU0wRixjQUFjN0MsUUFBUUcsSUFBSSxHQUFJLFFBQU8sSUFBRztRQUU5QyxzQ0FBc0M7UUFDdEMsSUFBSTJDLGFBQWEsR0FBRyxVQUFVO1FBQzlCLElBQUlELGNBQWMsSUFBSTtZQUNwQkMsYUFBYSxHQUFHLGtDQUFrQztRQUNwRCxPQUFPLElBQUlELGNBQWMsSUFBSTtZQUMzQkMsYUFBYSxHQUFHLGlDQUFpQztRQUNuRCxPQUFPLElBQUlELGNBQWMsSUFBSTtZQUMzQkMsYUFBYSxHQUFHLGdDQUFnQztRQUNsRDtRQUVBeEgsWUFBWUUsR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUVzSCxXQUFXLDBCQUEwQixFQUFFRCxZQUFZeEIsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBRTFHLE1BQU0wQixTQUFTLEVBQUU7UUFFakIsSUFBSyxJQUFJeEYsSUFBSSxHQUFHQSxLQUFLSixVQUFVSSxLQUFLdUYsV0FBWTtZQUM5QyxNQUFNRSxVQUFVL0IsS0FBS2dDLEdBQUcsQ0FBQzFGLElBQUl1RixhQUFhLEdBQUczRjtZQUM3QzRGLE9BQU9HLElBQUksQ0FBQztnQkFBRUMsV0FBVzVGO2dCQUFHeUYsU0FBU0E7WUFBUTtRQUMvQztRQUVBMUgsWUFBWUUsR0FBRyxDQUFDLENBQUMsZUFBZSxFQUFFdUgsT0FBT2xELE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQztRQUV2RSx5Q0FBeUM7UUFDekMsTUFBTXVELGFBQWEsRUFBRTtRQUNyQixJQUFJQyxlQUFlO1FBRW5CLElBQUssSUFBSUMsYUFBYSxHQUFHQSxhQUFhUCxPQUFPbEQsTUFBTSxFQUFFeUQsYUFBYztZQUNqRSxNQUFNQyxRQUFRUixNQUFNLENBQUNPLFdBQVc7WUFDaENoSSxZQUFZRSxHQUFHLENBQUMsQ0FBQyxpQkFBaUIsRUFBRThILGFBQWEsRUFBRSxDQUFDLEVBQUVQLE9BQU9sRCxNQUFNLENBQUMsUUFBUSxFQUFFMEQsTUFBTUosU0FBUyxDQUFDLENBQUMsRUFBRUksTUFBTVAsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUVqSCxJQUFJO2dCQUNGLHVEQUF1RDtnQkFDdkQsTUFBTVEsY0FBYyxNQUFNNUcsT0FBT1MsV0FBVyxDQUFDQyxNQUFNO2dCQUVuRCxpREFBaUQ7Z0JBQ2pELE1BQU1tRyxpQkFBaUIsTUFBTXpELFFBQVFLLEtBQUssQ0FBQyxHQUFHdkQsV0FBVztnQkFDekQsTUFBTXlELGVBQWUsTUFBTTNELE9BQU9TLFdBQVcsQ0FBQ21ELElBQUksQ0FBQ2lEO2dCQUVuRCxrQ0FBa0M7Z0JBQ2xDLE1BQU1DLGNBQWMsRUFBRTtnQkFDdEIsSUFBSyxJQUFJbkcsSUFBSWdHLE1BQU1KLFNBQVMsR0FBRyxHQUFHNUYsSUFBSWdHLE1BQU1QLE9BQU8sRUFBRXpGLElBQUs7b0JBQ3hEbUcsWUFBWVIsSUFBSSxDQUFDM0Y7Z0JBQ25CO2dCQUVBLE1BQU1vRCxjQUFjLE1BQU02QyxZQUFZNUMsU0FBUyxDQUFDTCxjQUFjbUQ7Z0JBQzlEL0MsWUFBWTBCLE9BQU8sQ0FBQzdFLENBQUFBLE9BQVFnRyxZQUFZM0UsT0FBTyxDQUFDckI7Z0JBRWhELHFCQUFxQjtnQkFDckIsTUFBTW1HLGdCQUFnQixNQUFNSCxZQUFZdEUsSUFBSTtnQkFDNUMsTUFBTTBFLGVBQWUsSUFBSXpFLEtBQUs7b0JBQUN3RTtpQkFBYyxFQUFFLENBQUMsTUFBTSxFQUFFTCxhQUFhLEVBQUUsQ0FBQyxFQUFFdEQsUUFBUVosSUFBSSxFQUFFLEVBQUU7b0JBQUVDLE1BQU07Z0JBQWtCO2dCQUVwSCw4QkFBOEI7Z0JBQzlCL0QsWUFBWUUsR0FBRyxDQUFDLENBQUMsY0FBYyxFQUFFOEgsYUFBYSxFQUFFLGlCQUFpQixFQUFFcEQsZUFBZTBELGFBQWF6RCxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUN2RyxNQUFNMEQsY0FBYyxNQUFNQyw4QkFBOEJGO2dCQUV4RCxJQUFJQyxhQUFhO29CQUNmVCxXQUFXRixJQUFJLENBQUNXO29CQUNoQnZJLFlBQVlFLEdBQUcsQ0FBQyxDQUFDLDZCQUE2QixFQUFFOEgsYUFBYSxHQUFHO2dCQUNsRSxPQUFPO29CQUNMaEksWUFBWU0sSUFBSSxDQUFDLENBQUMsd0JBQXdCLEVBQUUwSCxhQUFhLEVBQUUsc0JBQXNCLENBQUM7b0JBQ2xGRDtnQkFDRjtZQUNGLEVBQUUsT0FBT1UsWUFBWTtnQkFDbkJ6SSxZQUFZTyxLQUFLLENBQUMsQ0FBQyx1QkFBdUIsRUFBRXlILGFBQWEsRUFBRSxDQUFDLENBQUMsRUFBRVM7Z0JBQy9EVjtnQkFFQSx1Q0FBdUM7Z0JBQ3ZDLElBQUlBLGVBQWUsS0FBS0EsZUFBZ0JDLENBQUFBLGFBQWEsS0FBSyxLQUFLO29CQUM3RGhJLFlBQVlPLEtBQUssQ0FBQztvQkFDbEIsTUFBTSxJQUFJSyxNQUFNO2dCQUNsQjtZQUNGO1lBRUEsb0RBQW9EO1lBQ3BELE1BQU04SCxZQUFZLE9BQVEvQyxLQUFLZ0QsTUFBTSxLQUFLLE1BQU8sY0FBYztZQUMvRDNJLFlBQVlFLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRXlGLEtBQUtpRCxLQUFLLENBQUNGLFlBQVUsTUFBTSx3Q0FBd0MsQ0FBQztZQUMvRixNQUFNLElBQUlHLFFBQVFDLENBQUFBLFVBQVc3QixXQUFXNkIsU0FBU0o7UUFDbkQ7UUFFQSw4REFBOEQ7UUFDOUQsSUFBSVosV0FBV3ZELE1BQU0sS0FBSyxHQUFHO1lBQzNCLE1BQU0sSUFBSTNELE1BQU07UUFDbEI7UUFFQSxpQ0FBaUM7UUFDakMsTUFBTW1JLG1CQUFtQjtZQUN2QjVELFdBQVd0RDtZQUNYbUgsWUFBWWxCLFdBQVdtQixNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsU0FBV0QsTUFBT0MsQ0FBQUEsT0FBT0gsVUFBVSxJQUFJLElBQUk7WUFDL0VJLFVBQVV0QixVQUFVLENBQUMsRUFBRSxDQUFDc0IsUUFBUTtZQUNoQ0MsV0FBV3ZCLFdBQVd3QixJQUFJLENBQUNILENBQUFBLFNBQVVBLE9BQU9FLFNBQVM7WUFDckRFLGVBQWV6QixXQUFXMEIsR0FBRyxDQUFDTCxDQUFBQSxTQUFVQSxPQUFPSSxhQUFhLElBQUksSUFBSUUsSUFBSSxDQUFDO1lBQ3pFQyxVQUFVNUIsV0FBVzBCLEdBQUcsQ0FBQ0wsQ0FBQUEsU0FBVUEsT0FBT08sUUFBUSxJQUFJLElBQUlELElBQUksQ0FBQztZQUMvREUsUUFBUSxFQUFFO1FBQ1o7UUFFQSw0REFBNEQ7UUFDNUQ3QixXQUFXZixPQUFPLENBQUMsQ0FBQ29DLFFBQVFuQjtZQUMxQixJQUFJbUIsT0FBT1EsTUFBTSxJQUFJUixPQUFPUSxNQUFNLENBQUNwRixNQUFNLEdBQUcsR0FBRztnQkFDN0MsTUFBTXFGLGlCQUFpQm5DLE1BQU0sQ0FBQ08sV0FBVyxDQUFDSCxTQUFTO2dCQUVuRHNCLE9BQU9RLE1BQU0sQ0FBQzVDLE9BQU8sQ0FBQzNELENBQUFBO29CQUNwQixxRUFBcUU7b0JBQ3JFLE1BQU15RyxnQkFBZ0I7d0JBQUUsR0FBR3pHLEtBQUs7b0JBQUM7b0JBQ2pDeUcsY0FBY0MsU0FBUyxHQUFHLGlCQUFrQixJQUFLMUcsTUFBTTBHLFNBQVM7b0JBQ2hFZixpQkFBaUJZLE1BQU0sQ0FBQy9CLElBQUksQ0FBQ2lDO2dCQUMvQjtZQUNGO1FBQ0Y7UUFFQTdKLFlBQVlFLEdBQUcsQ0FBQyxDQUFDLDRDQUE0QyxFQUFFNkksaUJBQWlCWSxNQUFNLENBQUNwRixNQUFNLENBQUMsT0FBTyxDQUFDO1FBQ3RHLE9BQU93RTtJQUNULEVBQUUsT0FBT3hJLE9BQU87UUFDZFAsWUFBWU8sS0FBSyxDQUFDLHlDQUF5Q0E7UUFDM0QsTUFBTUE7SUFDUjtBQUNGO0FBRUEsc0ZBQXNGO0FBQy9FLGVBQWVpSSw4QkFBOEI5RCxPQUFPO0lBQ3pELHVFQUF1RTtJQUN2RSxxQ0FBcUM7SUFDckMxRSxZQUFZRSxHQUFHLENBQUMsK0NBQStDd0UsUUFBUVosSUFBSTtJQUUzRSwrQkFBK0I7SUFDL0IsT0FBTztRQUNMcUIsV0FBVztRQUNYNkQsWUFBWTtRQUNaSSxVQUFVO1FBQ1ZDLFdBQVc7UUFDWEUsZUFBZTtRQUNmRyxVQUFVO1FBQ1ZDLFFBQVEsRUFBRTtJQUNaO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmNoZXcvZGV2L2NvbXByZXNzL3V0aWxzL3BkZlV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHV0aWxzL3BkZlV0aWxzLmpzIC0gUERGIGNvbXByZXNzaW9uIGFuZCBwcm9jZXNzaW5nIHV0aWxpdGllc1xuXG4vLyBJbml0aWFsaXplIFBERi5qcyB3b3JrZXJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcGRmanNMaWIgIT09ICd1bmRlZmluZWQnKSB7XG4gIHBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gJ2h0dHBzOi8vdW5wa2cuY29tL3BkZmpzLWRpc3RAMy4xMS4xNzQvYnVpbGQvcGRmLndvcmtlci5taW4uanMnO1xufVxuXG4vLyBBV1MgQ29uZmlndXJhdGlvbiAtIFdpbGwgYmUgcG9wdWxhdGVkIGZyb20gc2VydmVyXG5sZXQgYXdzQ29uZmlnID0ge1xuICByZWdpb246ICcnLFxuICBjcmVkZW50aWFsczoge1xuICAgIGFjY2Vzc0tleUlkOiAnJyxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6ICcnXG4gIH0sXG4gIGJ1Y2tldE5hbWU6ICcnXG59O1xuXG4vLyBEZWJ1ZyBjb25maWd1cmF0aW9uXG5leHBvcnQgY29uc3QgZGVidWdDb25maWcgPSB7XG4gIGlzRGVidWdNb2RlOiBmYWxzZSxcbiAgbG9nOiBmdW5jdGlvbihtZXNzYWdlLCAuLi5hcmdzKSB7XG4gICAgaWYgKHRoaXMuaXNEZWJ1Z01vZGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfSxcbiAgd2FybjogZnVuY3Rpb24obWVzc2FnZSwgLi4uYXJncykge1xuICAgIGlmICh0aGlzLmlzRGVidWdNb2RlKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSwgLi4uYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignW1dBUk5JTkddJywgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgfVxuICB9LFxuICBlcnJvcjogZnVuY3Rpb24obWVzc2FnZSwgLi4uYXJncykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgLi4uYXJncyk7XG4gIH1cbn07XG5cbi8vIExvYWQgQVdTIGNvbmZpZ3VyYXRpb24gZnJvbSBzZXJ2ZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXdzQ29uZmlnKCkge1xuICB0cnkge1xuICAgIGRlYnVnQ29uZmlnLmxvZygnTG9hZGluZyBBV1MgY29uZmlndXJhdGlvbiBmcm9tIHNlcnZlci4uLicpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYXdzLWNvbmZpZycpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgQVdTIGNvbmZpZzogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29uZmlnID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSB0aGUgQVdTIGNvbmZpZ1xuICAgIGF3c0NvbmZpZy5yZWdpb24gPSBjb25maWcucmVnaW9uO1xuICAgIGF3c0NvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCA9IGNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZDtcbiAgICBhd3NDb25maWcuY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5ID0gY29uZmlnLmNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleTtcbiAgICBhd3NDb25maWcuYnVja2V0TmFtZSA9IGNvbmZpZy5idWNrZXROYW1lO1xuICAgIFxuICAgIGRlYnVnQ29uZmlnLmxvZygnQVdTIGNvbmZpZ3VyYXRpb24gbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGRlYnVnQ29uZmlnLmVycm9yKCdFcnJvciBsb2FkaW5nIEFXUyBjb25maWd1cmF0aW9uOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBDb21wcmVzcyBQREYgZmlsZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXByZXNzUGRmKGZpbGUsIHF1YWxpdHksIGRwaSwgcHJvZ3Jlc3NDYWxsYmFjaykge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHBkZmpzTGliID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgUERGTGliID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignUERGIGxpYnJhcmllcyBub3QgbG9hZGVkJyk7XG4gIH1cblxuICAvLyBDb252ZXJ0IHF1YWxpdHkgZnJvbSBwZXJjZW50YWdlICgxLTEwMCkgdG8gZGVjaW1hbCAoMC0xKVxuICBjb25zdCBpbWFnZVF1YWxpdHkgPSBxdWFsaXR5IC8gMTAwO1xuICBcbiAgLy8gTG9hZCB0aGUgUERGIHVzaW5nIFBERi5qc1xuICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgY29uc3QgcGRmID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhOiBhcnJheUJ1ZmZlciB9KS5wcm9taXNlO1xuICBjb25zdCBudW1QYWdlcyA9IHBkZi5udW1QYWdlcztcbiAgXG4gIC8vIENyZWF0ZSBhIG5ldyBQREYgd2l0aCBwZGYtbGliXG4gIGNvbnN0IHBkZkRvYyA9IGF3YWl0IFBERkxpYi5QREZEb2N1bWVudC5jcmVhdGUoKTtcbiAgXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bVBhZ2VzOyBpKyspIHtcbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgICBwcm9ncmVzc0NhbGxiYWNrKChpIC0gMSkgLyBudW1QYWdlcyAqIDEwMCk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBwYWdlXG4gICAgY29uc3QgcGFnZSA9IGF3YWl0IHBkZi5nZXRQYWdlKGkpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBzY2FsZSBiYXNlZCBvbiBEUElcbiAgICAvLyBQREYuanMgZGVmYXVsdCBpcyA5NiBEUElcbiAgICBjb25zdCBzY2FsZSA9IGRwaSAvIDk2O1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydCh7IHNjYWxlIH0pO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIGNhbnZhcyB0byByZW5kZXIgdGhlIHBhZ2VcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDtcbiAgICBcbiAgICAvLyBSZW5kZXIgdGhlIHBhZ2UgdG8gdGhlIGNhbnZhc1xuICAgIGF3YWl0IHBhZ2UucmVuZGVyKHtcbiAgICAgIGNhbnZhc0NvbnRleHQ6IGNvbnRleHQsXG4gICAgICB2aWV3cG9ydFxuICAgIH0pLnByb21pc2U7XG4gICAgXG4gICAgLy8gQ29udmVydCB0aGUgY2FudmFzIHRvIGEgSlBFRyB3aXRoIGNvbXByZXNzaW9uXG4gICAgY29uc3QganBlZ0RhdGEgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgaW1hZ2VRdWFsaXR5KTtcbiAgICBcbiAgICAvLyBDb252ZXJ0IHRoZSBkYXRhIFVSTCB0byBhIFVpbnQ4QXJyYXlcbiAgICBjb25zdCBqcGVnSW1hZ2UgPSBhd2FpdCBmZXRjaEltYWdlQXNVaW50OEFycmF5KGpwZWdEYXRhKTtcbiAgICBcbiAgICAvLyBFbWJlZCB0aGUgSlBFRyBpbnRvIHRoZSBuZXcgUERGXG4gICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBwZGZEb2MuZW1iZWRKcGcoanBlZ0ltYWdlKTtcbiAgICBcbiAgICAvLyBBZGQgYSBwYWdlIHdpdGggdGhlIHNhbWUgZGltZW5zaW9uc1xuICAgIGNvbnN0IG5ld1BhZ2UgPSBwZGZEb2MuYWRkUGFnZShbdmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodF0pO1xuICAgIFxuICAgIC8vIERyYXcgdGhlIGltYWdlIG9uIHRoZSBwYWdlXG4gICAgbmV3UGFnZS5kcmF3SW1hZ2UoaW1hZ2UsIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHRcbiAgICB9KTtcbiAgfVxuICBcbiAgLy8gVXBkYXRlIHByb2dyZXNzIHRvIDEwMCVcbiAgcHJvZ3Jlc3NDYWxsYmFjaygxMDApO1xuICBcbiAgLy8gU2F2ZSB0aGUgUERGXG4gIGNvbnN0IHBkZkJ5dGVzID0gYXdhaXQgcGRmRG9jLnNhdmUoKTtcbiAgXG4gIC8vIENyZWF0ZSBhIG5ldyBmaWxlXG4gIHJldHVybiBuZXcgRmlsZShbcGRmQnl0ZXNdLCBmaWxlLm5hbWUsIHsgdHlwZTogJ2FwcGxpY2F0aW9uL3BkZicgfSk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IGRhdGEgVVJMIHRvIFVpbnQ4QXJyYXlcbmFzeW5jIGZ1bmN0aW9uIGZldGNoSW1hZ2VBc1VpbnQ4QXJyYXkoZGF0YVVybCkge1xuICAvLyBSZW1vdmUgdGhlIGRhdGEgVVJMIHByZWZpeFxuICBjb25zdCBiYXNlNjREYXRhID0gZGF0YVVybC5zcGxpdCgnLCcpWzFdO1xuICBcbiAgLy8gRGVjb2RlIHRoZSBiYXNlNjQgc3RyaW5nIHRvIGEgVWludDhBcnJheVxuICBjb25zdCBiaW5hcnlTdHJpbmcgPSBhdG9iKGJhc2U2NERhdGEpO1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeVN0cmluZy5sZW5ndGgpO1xuICBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIFxuICByZXR1cm4gYnl0ZXM7XG59XG5cbi8vIEFkZCBQREYgdG8gY29tYmluZWQgUERGIGRvY3VtZW50XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkVG9Db21iaW5lZFBkZihwZGZGaWxlLCB0YXJnZXRQZGZEb2MpIHtcbiAgaWYgKHR5cGVvZiBQREZMaWIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQREZMaWIgbm90IGxvYWRlZCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBkZWJ1Z0NvbmZpZy5sb2coJ0FkZGluZyBmaWxlIHRvIGNvbWJpbmVkIFBERjonLCBwZGZGaWxlLm5hbWUsICdTaXplOicsIGZvcm1hdEZpbGVTaXplKHBkZkZpbGUuc2l6ZSkpO1xuICAgIFxuICAgIC8vIE1ha2UgYSBmcmVzaCBjb3B5IG9mIHRoZSBmaWxlIHRvIGVuc3VyZSB0aGUgQXJyYXlCdWZmZXIgaXNuJ3Qgc2hhcmVkIG9yIGRldGFjaGVkXG4gICAgZGVidWdDb25maWcubG9nKCdDcmVhdGluZyBhIGZyZXNoIGNvcHkgb2YgdGhlIGZpbGUgdXNpbmcgc2xpY2UoMCknKTtcbiAgICBjb25zdCBjb3BpZWRGaWxlID0gcGRmRmlsZS5zbGljZSgwKTtcbiAgICBcbiAgICAvLyBDb252ZXJ0IHRoZSBmaWxlIHRvIGFuIEFycmF5QnVmZmVyXG4gICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBjb3BpZWRGaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgZGVidWdDb25maWcubG9nKCdBcnJheUJ1ZmZlciBjcmVhdGVkIHN1Y2Nlc3NmdWxseSwgYnl0ZUxlbmd0aDonLCBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICBcbiAgICAvLyBMb2FkIHRoZSBQREYgd2l0aCBQREYtTGliXG4gICAgZGVidWdDb25maWcubG9nKCdMb2FkaW5nIFBERiBmcm9tIEFycmF5QnVmZmVyIHdpdGggUERGTGliLi4uJyk7XG4gICAgY29uc3Qgc291cmNlUGRmRG9jID0gYXdhaXQgUERGTGliLlBERkRvY3VtZW50LmxvYWQoYXJyYXlCdWZmZXIpO1xuICAgIFxuICAgIC8vIENvcHkgcGFnZXMgZnJvbSBzb3VyY2UgZG9jdW1lbnQgdG8gdGFyZ2V0IGRvY3VtZW50XG4gICAgZGVidWdDb25maWcubG9nKCdDb3B5aW5nIHBhZ2VzIGZyb20gc291cmNlIHRvIHRhcmdldC4uLicpO1xuICAgIGNvbnN0IHBhZ2VDb3VudCA9IHNvdXJjZVBkZkRvYy5nZXRQYWdlQ291bnQoKTtcbiAgICBjb25zdCBjb3BpZWRQYWdlcyA9IGF3YWl0IHRhcmdldFBkZkRvYy5jb3B5UGFnZXMoc291cmNlUGRmRG9jLCBbLi4uQXJyYXkocGFnZUNvdW50KS5rZXlzKCldKTtcbiAgICBcbiAgICAvLyBBZGQgZWFjaCBjb3BpZWQgcGFnZSB0byB0aGUgdGFyZ2V0IGRvY3VtZW50XG4gICAgZm9yIChjb25zdCBwYWdlIG9mIGNvcGllZFBhZ2VzKSB7XG4gICAgICB0YXJnZXRQZGZEb2MuYWRkUGFnZShwYWdlKTtcbiAgICB9XG4gICAgXG4gICAgZGVidWdDb25maWcubG9nKCdTdWNjZXNzZnVsbHkgY29waWVkJywgY29waWVkUGFnZXMubGVuZ3RoLCAncGFnZXMnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBkZWJ1Z0NvbmZpZy5lcnJvcignRXJyb3IgYWRkaW5nIHRvIGNvbWJpbmVkIFBERjonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYWRkIHRvIGNvbWJpbmVkIFBERjogJyArIGVycm9yLm1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIEZvcm1hdCBmaWxlIHNpemUgZm9yIGRpc3BsYXlcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRGaWxlU2l6ZShieXRlcykge1xuICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gIFxuICBjb25zdCBrID0gMTAyNDtcbiAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcbiAgXG4gIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xufVxuXG4vLyBEb3dubG9hZCBmaWxlXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRGaWxlKGZpbGUsIHByZWZpeCA9ICdjb21wcmVzc2VkXycpIHtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgYS5ocmVmID0gdXJsO1xuICBhLmRvd25sb2FkID0gYCR7cHJlZml4fSR7ZmlsZS5uYW1lfWA7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufVxuXG4vLyBEb3dubG9hZCBtdWx0aXBsZSBmaWxlcyB3aXRoIGRlbGF5XG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRBbGxGaWxlcyhmaWxlcykge1xuICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIFxuICAvLyBGb3IgbXVsdGlwbGUgZmlsZXMsIHdlIG5lZWQgdG8gdHJpZ2dlciBkb3dubG9hZHMgc2VxdWVudGlhbGx5XG4gIC8vIHdpdGggYSBzbWFsbCBkZWxheSB0byBlbnN1cmUgYnJvd3NlciBoYW5kbGVzIHRoZW0gcHJvcGVybHlcbiAgZmlsZXMuZm9yRWFjaCgoZmlsZSwgaW5kZXgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvd25sb2FkRmlsZShmaWxlKTtcbiAgICB9LCBpbmRleCAqIDUwMCk7IC8vIDUwMG1zIGRlbGF5IGJldHdlZW4gZG93bmxvYWRzXG4gIH0pO1xufVxuXG4vLyBHZXQgTWlzdHJhbCBBUEkga2V5IGZyb20gbG9jYWxTdG9yYWdlXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlzdHJhbEFwaUtleSgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaXN0cmFsQXBpS2V5Jyk7XG59XG5cbi8vIFByb2Nlc3MgbGFyZ2UgUERGIGluIGNodW5rcyBmb3IgT0NSXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0xhcmdlUGRmSW5DaHVua3MocGRmRmlsZSkge1xuICBkZWJ1Z0NvbmZpZy5sb2coJ1Byb2Nlc3NpbmcgbGFyZ2UgUERGIGluIGNodW5rczonLCBwZGZGaWxlLm5hbWUpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBMb2FkIHRoZSBQREYgdXNpbmcgUERGLmpzIHRvIGdldCBwYWdlIGNvdW50XG4gICAgY29uc3QgdGVtcFBkZkJ5dGVzID0gYXdhaXQgcGRmRmlsZS5zbGljZSgwKS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IHBkZiA9IGF3YWl0IHBkZmpzTGliLmdldERvY3VtZW50KHsgZGF0YTogdGVtcFBkZkJ5dGVzIH0pLnByb21pc2U7XG4gICAgY29uc3QgbnVtUGFnZXMgPSBwZGYubnVtUGFnZXM7XG4gICAgXG4gICAgZGVidWdDb25maWcubG9nKGBQREYgaGFzICR7bnVtUGFnZXN9IHBhZ2VzLCB3aWxsIHByb2Nlc3MgaW4gY2h1bmtzYCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGNodW5rcyBvZiBwYWdlcyAtIHNtYWxsZXIgY2h1bmtzIGZvciB2ZXJ5IGxhcmdlIFBERnNcbiAgICBjb25zdCBwZGZTaXplSW5NQiA9IHBkZkZpbGUuc2l6ZSAvICgxMDI0ICogMTAyNCk7XG4gICAgXG4gICAgLy8gQWRqdXN0IGNodW5rIHNpemUgYmFzZWQgb24gUERGIHNpemVcbiAgICBsZXQgQ0hVTktfU0laRSA9IDU7IC8vIGRlZmF1bHRcbiAgICBpZiAocGRmU2l6ZUluTUIgPiAzMCkge1xuICAgICAgQ0hVTktfU0laRSA9IDI7IC8vIFZlcnkgbGFyZ2UgUERGcyBnZXQgdGlueSBjaHVua3NcbiAgICB9IGVsc2UgaWYgKHBkZlNpemVJbk1CID4gMjApIHtcbiAgICAgIENIVU5LX1NJWkUgPSAzOyAvLyBMYXJnZXIgUERGcyBnZXQgc21hbGxlciBjaHVua3NcbiAgICB9IGVsc2UgaWYgKHBkZlNpemVJbk1CID4gMTApIHtcbiAgICAgIENIVU5LX1NJWkUgPSA0OyAvLyBNZWRpdW0gUERGcyBnZXQgbWVkaXVtIGNodW5rc1xuICAgIH1cbiAgICBcbiAgICBkZWJ1Z0NvbmZpZy5sb2coYFVzaW5nIGNodW5rIHNpemUgb2YgJHtDSFVOS19TSVpFfSBwYWdlcyBiYXNlZCBvbiBQREYgc2l6ZSAoJHtwZGZTaXplSW5NQi50b0ZpeGVkKDIpfSBNQilgKTtcbiAgICBcbiAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBudW1QYWdlczsgaSArPSBDSFVOS19TSVpFKSB7XG4gICAgICBjb25zdCBlbmRQYWdlID0gTWF0aC5taW4oaSArIENIVU5LX1NJWkUgLSAxLCBudW1QYWdlcyk7XG4gICAgICBjaHVua3MucHVzaCh7IHN0YXJ0UGFnZTogaSwgZW5kUGFnZTogZW5kUGFnZSB9KTtcbiAgICB9XG4gICAgXG4gICAgZGVidWdDb25maWcubG9nKGBTcGxpdCBQREYgaW50byAke2NodW5rcy5sZW5ndGh9IGNodW5rcyBmb3IgcHJvY2Vzc2luZ2ApO1xuICAgIFxuICAgIC8vIFByb2Nlc3MgZWFjaCBjaHVuayBhbmQgY29sbGVjdCByZXN1bHRzXG4gICAgY29uc3QgYWxsUmVzdWx0cyA9IFtdO1xuICAgIGxldCBmYWlsZWRDaHVua3MgPSAwO1xuICAgIFxuICAgIGZvciAobGV0IGNodW5rSW5kZXggPSAwOyBjaHVua0luZGV4IDwgY2h1bmtzLmxlbmd0aDsgY2h1bmtJbmRleCsrKSB7XG4gICAgICBjb25zdCBjaHVuayA9IGNodW5rc1tjaHVua0luZGV4XTtcbiAgICAgIGRlYnVnQ29uZmlnLmxvZyhgUHJvY2Vzc2luZyBjaHVuayAke2NodW5rSW5kZXggKyAxfS8ke2NodW5rcy5sZW5ndGh9IChwYWdlcyAke2NodW5rLnN0YXJ0UGFnZX0tJHtjaHVuay5lbmRQYWdlfSlgKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IFBERiB3aXRoIGp1c3QgdGhlIHBhZ2VzIGZyb20gdGhpcyBjaHVua1xuICAgICAgICBjb25zdCBjaHVua1BkZkRvYyA9IGF3YWl0IFBERkxpYi5QREZEb2N1bWVudC5jcmVhdGUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIGZyZXNoIGNvcHkgb2YgdGhlIGZpbGUgZm9yIGVhY2ggY2h1bmtcbiAgICAgICAgY29uc3Qgc291cmNlUGRmQnl0ZXMgPSBhd2FpdCBwZGZGaWxlLnNsaWNlKDApLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZVBkZkRvYyA9IGF3YWl0IFBERkxpYi5QREZEb2N1bWVudC5sb2FkKHNvdXJjZVBkZkJ5dGVzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvcHkgcGFnZXMgZnJvbSBzb3VyY2UgdG8gY2h1bmtcbiAgICAgICAgY29uc3QgcGFnZUluZGljZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNodW5rLnN0YXJ0UGFnZSAtIDE7IGkgPCBjaHVuay5lbmRQYWdlOyBpKyspIHtcbiAgICAgICAgICBwYWdlSW5kaWNlcy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjb3BpZWRQYWdlcyA9IGF3YWl0IGNodW5rUGRmRG9jLmNvcHlQYWdlcyhzb3VyY2VQZGZEb2MsIHBhZ2VJbmRpY2VzKTtcbiAgICAgICAgY29waWVkUGFnZXMuZm9yRWFjaChwYWdlID0+IGNodW5rUGRmRG9jLmFkZFBhZ2UocGFnZSkpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2F2ZSB0aGUgY2h1bmsgUERGXG4gICAgICAgIGNvbnN0IGNodW5rUGRmQnl0ZXMgPSBhd2FpdCBjaHVua1BkZkRvYy5zYXZlKCk7XG4gICAgICAgIGNvbnN0IGNodW5rUGRmRmlsZSA9IG5ldyBGaWxlKFtjaHVua1BkZkJ5dGVzXSwgYGNodW5rXyR7Y2h1bmtJbmRleCArIDF9XyR7cGRmRmlsZS5uYW1lfWAsIHsgdHlwZTogJ2FwcGxpY2F0aW9uL3BkZicgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBQcm9jZXNzIHRoaXMgY2h1bmsgd2l0aCBPQ1JcbiAgICAgICAgZGVidWdDb25maWcubG9nKGBTZW5kaW5nIGNodW5rICR7Y2h1bmtJbmRleCArIDF9IHRvIE9DUiBzZXJ2aWNlICgke2Zvcm1hdEZpbGVTaXplKGNodW5rUGRmRmlsZS5zaXplKX0pYCk7XG4gICAgICAgIGNvbnN0IGNodW5rUmVzdWx0ID0gYXdhaXQgYW5hbHl6ZUNvbWJpbmVkUGRmV2l0aE1pc3RyYWwoY2h1bmtQZGZGaWxlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjaHVua1Jlc3VsdCkge1xuICAgICAgICAgIGFsbFJlc3VsdHMucHVzaChjaHVua1Jlc3VsdCk7XG4gICAgICAgICAgZGVidWdDb25maWcubG9nKGBTdWNjZXNzZnVsbHkgcHJvY2Vzc2VkIGNodW5rICR7Y2h1bmtJbmRleCArIDF9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVidWdDb25maWcud2FybihgRmFpbGVkIHRvIHByb2Nlc3MgY2h1bmsgJHtjaHVua0luZGV4ICsgMX0gLSBubyByZXN1bHRzIHJldHVybmVkYCk7XG4gICAgICAgICAgZmFpbGVkQ2h1bmtzKys7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGNodW5rRXJyb3IpIHtcbiAgICAgICAgZGVidWdDb25maWcuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgY2h1bmsgJHtjaHVua0luZGV4ICsgMX06YCwgY2h1bmtFcnJvcik7XG4gICAgICAgIGZhaWxlZENodW5rcysrO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdG9vIG1hbnkgY2h1bmtzIGFyZSBmYWlsaW5nXG4gICAgICAgIGlmIChmYWlsZWRDaHVua3MgPiAyICYmIGZhaWxlZENodW5rcyAvIChjaHVua0luZGV4ICsgMSkgPiAwLjUpIHtcbiAgICAgICAgICBkZWJ1Z0NvbmZpZy5lcnJvcignVG9vIG1hbnkgY2h1bmtzIGZhaWxpbmcsIGFib3J0aW5nIGNodW5rZWQgcHJvY2Vzc2luZycpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgY2h1bmsgcHJvY2Vzc2luZyBmYWlsdXJlcyAtIE9DUiBtYXkgbm90IGJlIHdvcmtpbmcgcHJvcGVybHknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgYSBkZWxheSBiZXR3ZWVuIGNodW5rcyB0byBhdm9pZCByYXRlIGxpbWl0aW5nXG4gICAgICBjb25zdCBkZWxheVRpbWUgPSAyMDAwICsgKE1hdGgucmFuZG9tKCkgKiAxMDAwKTsgLy8gMi0zIHNlY29uZHNcbiAgICAgIGRlYnVnQ29uZmlnLmxvZyhgV2FpdGluZyAke01hdGgucm91bmQoZGVsYXlUaW1lLzEwMDApfSBzZWNvbmRzIGJlZm9yZSBwcm9jZXNzaW5nIG5leHQgY2h1bmsuLi5gKTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheVRpbWUpKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ29tYmluZSBhbGwgcmVzdWx0cyAtIHJlcXVpcmUgYXQgbGVhc3Qgb25lIHN1Y2Nlc3NmdWwgY2h1bmtcbiAgICBpZiAoYWxsUmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHByb2Nlc3MgYW55IGNodW5rcyBvZiB0aGUgUERGJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIE1lcmdlIG1ldGFkYXRhIGZyb20gYWxsIGNodW5rc1xuICAgIGNvbnN0IGNvbWJpbmVkTWV0YWRhdGEgPSB7XG4gICAgICBwYWdlQ291bnQ6IG51bVBhZ2VzLFxuICAgICAgdG90YWxXb3JkczogYWxsUmVzdWx0cy5yZWR1Y2UoKHN1bSwgcmVzdWx0KSA9PiBzdW0gKyAocmVzdWx0LnRvdGFsV29yZHMgfHwgMCksIDApLFxuICAgICAgbGFuZ3VhZ2U6IGFsbFJlc3VsdHNbMF0ubGFuZ3VhZ2UsIC8vIFVzZSB0aGUgbGFuZ3VhZ2UgZnJvbSB0aGUgZmlyc3QgY2h1bmtcbiAgICAgIGhhc0ltYWdlczogYWxsUmVzdWx0cy5zb21lKHJlc3VsdCA9PiByZXN1bHQuaGFzSW1hZ2VzKSxcbiAgICAgIGV4dHJhY3RlZFRleHQ6IGFsbFJlc3VsdHMubWFwKHJlc3VsdCA9PiByZXN1bHQuZXh0cmFjdGVkVGV4dCB8fCAnJykuam9pbignXFxuXFxuJyksXG4gICAgICBmdWxsVGV4dDogYWxsUmVzdWx0cy5tYXAocmVzdWx0ID0+IHJlc3VsdC5mdWxsVGV4dCB8fCAnJykuam9pbignXFxuXFxuJyksXG4gICAgICBpbWFnZXM6IFtdXG4gICAgfTtcbiAgICBcbiAgICAvLyBDb21iaW5lIGFsbCBpbWFnZXMgZnJvbSBhbGwgY2h1bmtzLCB1cGRhdGluZyBwYWdlIGluZGljZXNcbiAgICBhbGxSZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgY2h1bmtJbmRleCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5pbWFnZXMgJiYgcmVzdWx0LmltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGNodW5rU3RhcnRQYWdlID0gY2h1bmtzW2NodW5rSW5kZXhdLnN0YXJ0UGFnZTtcbiAgICAgICAgXG4gICAgICAgIHJlc3VsdC5pbWFnZXMuZm9yRWFjaChpbWFnZSA9PiB7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBwYWdlIGluZGV4IHRvIHJlZmxlY3QgdGhlIHBvc2l0aW9uIGluIHRoZSBmdWxsIGRvY3VtZW50XG4gICAgICAgICAgY29uc3QgYWRqdXN0ZWRJbWFnZSA9IHsgLi4uaW1hZ2UgfTtcbiAgICAgICAgICBhZGp1c3RlZEltYWdlLnBhZ2VJbmRleCA9IChjaHVua1N0YXJ0UGFnZSAtIDEpICsgaW1hZ2UucGFnZUluZGV4O1xuICAgICAgICAgIGNvbWJpbmVkTWV0YWRhdGEuaW1hZ2VzLnB1c2goYWRqdXN0ZWRJbWFnZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGRlYnVnQ29uZmlnLmxvZyhgU3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCBhbGwgY2h1bmtzLCBjb21iaW5lZCAke2NvbWJpbmVkTWV0YWRhdGEuaW1hZ2VzLmxlbmd0aH0gaW1hZ2VzYCk7XG4gICAgcmV0dXJuIGNvbWJpbmVkTWV0YWRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZGVidWdDb25maWcuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgbGFyZ2UgUERGIGluIGNodW5rczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gQW5hbHl6ZSBjb21iaW5lZCBQREYgd2l0aCBNaXN0cmFsIE9DUiBBUEkgKHBsYWNlaG9sZGVyIC0gbmVlZHMgZnVsbCBpbXBsZW1lbnRhdGlvbilcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplQ29tYmluZWRQZGZXaXRoTWlzdHJhbChwZGZGaWxlKSB7XG4gIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHZlcnNpb24gLSB0aGUgZnVsbCBpbXBsZW1lbnRhdGlvbiB3b3VsZCBpbmNsdWRlXG4gIC8vIFMzIHVwbG9hZCwgTWlzdHJhbCBBUEkgY2FsbHMsIGV0Yy5cbiAgZGVidWdDb25maWcubG9nKCdPQ1IgYW5hbHlzaXMgd291bGQgYmUgaW1wbGVtZW50ZWQgaGVyZSBmb3I6JywgcGRmRmlsZS5uYW1lKTtcbiAgXG4gIC8vIFJldHVybiBtb2NrIG1ldGFkYXRhIGZvciBub3dcbiAgcmV0dXJuIHtcbiAgICBwYWdlQ291bnQ6IDEsXG4gICAgdG90YWxXb3JkczogMTAwLFxuICAgIGxhbmd1YWdlOiAnZW4nLFxuICAgIGhhc0ltYWdlczogZmFsc2UsXG4gICAgZXh0cmFjdGVkVGV4dDogJ1NhbXBsZSBleHRyYWN0ZWQgdGV4dC4uLicsXG4gICAgZnVsbFRleHQ6ICdTYW1wbGUgZnVsbCB0ZXh0Li4uJyxcbiAgICBpbWFnZXM6IFtdXG4gIH07XG59Il0sIm5hbWVzIjpbInBkZmpzTGliIiwiR2xvYmFsV29ya2VyT3B0aW9ucyIsIndvcmtlclNyYyIsImF3c0NvbmZpZyIsInJlZ2lvbiIsImNyZWRlbnRpYWxzIiwiYWNjZXNzS2V5SWQiLCJzZWNyZXRBY2Nlc3NLZXkiLCJidWNrZXROYW1lIiwiZGVidWdDb25maWciLCJpc0RlYnVnTW9kZSIsImxvZyIsIm1lc3NhZ2UiLCJhcmdzIiwiY29uc29sZSIsIndhcm4iLCJlcnJvciIsImxvYWRBd3NDb25maWciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJjb25maWciLCJqc29uIiwiY29tcHJlc3NQZGYiLCJmaWxlIiwicXVhbGl0eSIsImRwaSIsInByb2dyZXNzQ2FsbGJhY2siLCJQREZMaWIiLCJpbWFnZVF1YWxpdHkiLCJhcnJheUJ1ZmZlciIsInBkZiIsImdldERvY3VtZW50IiwiZGF0YSIsInByb21pc2UiLCJudW1QYWdlcyIsInBkZkRvYyIsIlBERkRvY3VtZW50IiwiY3JlYXRlIiwiaSIsInBhZ2UiLCJnZXRQYWdlIiwic2NhbGUiLCJ2aWV3cG9ydCIsImdldFZpZXdwb3J0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsInJlbmRlciIsImNhbnZhc0NvbnRleHQiLCJqcGVnRGF0YSIsInRvRGF0YVVSTCIsImpwZWdJbWFnZSIsImZldGNoSW1hZ2VBc1VpbnQ4QXJyYXkiLCJpbWFnZSIsImVtYmVkSnBnIiwibmV3UGFnZSIsImFkZFBhZ2UiLCJkcmF3SW1hZ2UiLCJ4IiwieSIsInBkZkJ5dGVzIiwic2F2ZSIsIkZpbGUiLCJuYW1lIiwidHlwZSIsImRhdGFVcmwiLCJiYXNlNjREYXRhIiwic3BsaXQiLCJiaW5hcnlTdHJpbmciLCJhdG9iIiwiYnl0ZXMiLCJVaW50OEFycmF5IiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsImFkZFRvQ29tYmluZWRQZGYiLCJwZGZGaWxlIiwidGFyZ2V0UGRmRG9jIiwiZm9ybWF0RmlsZVNpemUiLCJzaXplIiwiY29waWVkRmlsZSIsInNsaWNlIiwiYnl0ZUxlbmd0aCIsInNvdXJjZVBkZkRvYyIsImxvYWQiLCJwYWdlQ291bnQiLCJnZXRQYWdlQ291bnQiLCJjb3BpZWRQYWdlcyIsImNvcHlQYWdlcyIsIkFycmF5Iiwia2V5cyIsImsiLCJzaXplcyIsIk1hdGgiLCJmbG9vciIsInBhcnNlRmxvYXQiLCJwb3ciLCJ0b0ZpeGVkIiwiZG93bmxvYWRGaWxlIiwicHJlZml4IiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYSIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJkb3dubG9hZEFsbEZpbGVzIiwiZmlsZXMiLCJmb3JFYWNoIiwiaW5kZXgiLCJzZXRUaW1lb3V0IiwiZ2V0TWlzdHJhbEFwaUtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwcm9jZXNzTGFyZ2VQZGZJbkNodW5rcyIsInRlbXBQZGZCeXRlcyIsInBkZlNpemVJbk1CIiwiQ0hVTktfU0laRSIsImNodW5rcyIsImVuZFBhZ2UiLCJtaW4iLCJwdXNoIiwic3RhcnRQYWdlIiwiYWxsUmVzdWx0cyIsImZhaWxlZENodW5rcyIsImNodW5rSW5kZXgiLCJjaHVuayIsImNodW5rUGRmRG9jIiwic291cmNlUGRmQnl0ZXMiLCJwYWdlSW5kaWNlcyIsImNodW5rUGRmQnl0ZXMiLCJjaHVua1BkZkZpbGUiLCJjaHVua1Jlc3VsdCIsImFuYWx5emVDb21iaW5lZFBkZldpdGhNaXN0cmFsIiwiY2h1bmtFcnJvciIsImRlbGF5VGltZSIsInJhbmRvbSIsInJvdW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb21iaW5lZE1ldGFkYXRhIiwidG90YWxXb3JkcyIsInJlZHVjZSIsInN1bSIsInJlc3VsdCIsImxhbmd1YWdlIiwiaGFzSW1hZ2VzIiwic29tZSIsImV4dHJhY3RlZFRleHQiLCJtYXAiLCJqb2luIiwiZnVsbFRleHQiLCJpbWFnZXMiLCJjaHVua1N0YXJ0UGFnZSIsImFkanVzdGVkSW1hZ2UiLCJwYWdlSW5kZXgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/pdfUtils.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/textUtils.js":
/*!****************************!*\
  !*** ./utils/textUtils.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMPRESSION_METHODS: () => (/* binding */ COMPRESSION_METHODS),\n/* harmony export */   TEXT_FORMATS: () => (/* binding */ TEXT_FORMATS),\n/* harmony export */   compressText: () => (/* binding */ compressText),\n/* harmony export */   compressTextFiles: () => (/* binding */ compressTextFiles),\n/* harmony export */   getTextMetadata: () => (/* binding */ getTextMetadata)\n/* harmony export */ });\n/* harmony import */ var _pdfUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pdfUtils */ \"(pages-dir-node)/./utils/pdfUtils.js\");\n// Text file compression and optimization utilities\n\n// Dynamic import for pako (client-side only)\nlet pako = null;\nif (false) {}\nconst TEXT_FORMATS = {\n    PLAIN: 'txt',\n    MARKDOWN: 'md',\n    JSON: 'json',\n    XML: 'xml',\n    CSV: 'csv',\n    RTF: 'rtf'\n};\nconst COMPRESSION_METHODS = {\n    GZIP: 'gzip',\n    MINIFY: 'minify',\n    OPTIMIZE: 'optimize'\n};\n// Compress text file using various methods\nasync function compressText(file, options = {}) {\n    const { method = COMPRESSION_METHODS.OPTIMIZE, removeComments = true, removeExtraWhitespace = true, removeEmptyLines = true, optimizeJson = true, progressCallback = ()=>{} } = options;\n    try {\n        progressCallback(10);\n        // Read file content\n        const content = await readFileAsText(file);\n        progressCallback(30);\n        let compressedContent = content;\n        // Apply compression based on file type and method\n        const fileType = detectTextFileType(file);\n        progressCallback(50);\n        switch(method){\n            case COMPRESSION_METHODS.MINIFY:\n                compressedContent = await minifyText(content, fileType, {\n                    removeComments,\n                    removeExtraWhitespace,\n                    removeEmptyLines\n                });\n                break;\n            case COMPRESSION_METHODS.OPTIMIZE:\n                compressedContent = await optimizeText(content, fileType, {\n                    removeComments,\n                    removeExtraWhitespace,\n                    removeEmptyLines,\n                    optimizeJson\n                });\n                break;\n            case COMPRESSION_METHODS.GZIP:\n                if (pako) {\n                    try {\n                        // Use pako for GZIP compression\n                        const uint8Array = new TextEncoder().encode(content);\n                        const compressed = pako.gzip(uint8Array);\n                        // Create a new file with .gz extension\n                        const blob = new Blob([\n                            compressed\n                        ], {\n                            type: 'application/gzip'\n                        });\n                        const gzFileName = file.name + '.gz';\n                        const compressedFile = new File([\n                            blob\n                        ], gzFileName, {\n                            type: 'application/gzip'\n                        });\n                        progressCallback(100);\n                        return compressedFile;\n                    } catch (error) {\n                        _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.warn('GZIP compression failed, falling back to optimization:', error);\n                        compressedContent = await optimizeText(content, fileType, options);\n                    }\n                } else {\n                    _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.warn('Pako not available, falling back to optimization');\n                    compressedContent = await optimizeText(content, fileType, options);\n                }\n                break;\n        }\n        progressCallback(80);\n        // Create compressed file\n        const blob = new Blob([\n            compressedContent\n        ], {\n            type: file.type\n        });\n        const compressedFile = new File([\n            blob\n        ], file.name, {\n            type: file.type\n        });\n        progressCallback(100);\n        return compressedFile;\n    } catch (error) {\n        _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.error('Error compressing text file:', error);\n        throw error;\n    }\n}\n// Minify text content\nasync function minifyText(content, fileType, options) {\n    let minified = content;\n    switch(fileType){\n        case TEXT_FORMATS.JSON:\n            minified = minifyJson(content);\n            break;\n        case TEXT_FORMATS.XML:\n            minified = minifyXml(content, options);\n            break;\n        case TEXT_FORMATS.CSV:\n            minified = minifyCsv(content, options);\n            break;\n        default:\n            minified = minifyPlainText(content, options);\n            break;\n    }\n    return minified;\n}\n// Optimize text content\nasync function optimizeText(content, fileType, options) {\n    let optimized = content;\n    // Apply common optimizations\n    if (options.removeExtraWhitespace) {\n        optimized = optimized.replace(/[ \\t]+/g, ' '); // Multiple spaces/tabs to single space\n        optimized = optimized.replace(/[ \\t]+$/gm, ''); // Trailing whitespace\n    }\n    if (options.removeEmptyLines) {\n        optimized = optimized.replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n'); // Multiple empty lines to double\n    }\n    // File-type specific optimizations\n    switch(fileType){\n        case TEXT_FORMATS.JSON:\n            if (options.optimizeJson) {\n                optimized = optimizeJson(optimized);\n            }\n            break;\n        case TEXT_FORMATS.XML:\n            optimized = optimizeXml(optimized, options);\n            break;\n        case TEXT_FORMATS.MARKDOWN:\n            optimized = optimizeMarkdown(optimized, options);\n            break;\n    }\n    return optimized;\n}\n// JSON-specific functions\nfunction minifyJson(content) {\n    try {\n        const parsed = JSON.parse(content);\n        return JSON.stringify(parsed);\n    } catch (error) {\n        _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.warn('Invalid JSON, returning original content');\n        return content;\n    }\n}\nfunction optimizeJson(content) {\n    try {\n        const parsed = JSON.parse(content);\n        // Pretty print with 2 spaces (good balance between readability and size)\n        return JSON.stringify(parsed, null, 2);\n    } catch (error) {\n        _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.warn('Invalid JSON, returning original content');\n        return content;\n    }\n}\n// XML-specific functions\nfunction minifyXml(content, options) {\n    let minified = content;\n    // Remove comments\n    if (options.removeComments) {\n        minified = minified.replace(/<!--[\\s\\S]*?-->/g, '');\n    }\n    // Remove extra whitespace between tags\n    minified = minified.replace(/>\\s+</g, '><');\n    // Remove leading/trailing whitespace\n    minified = minified.trim();\n    return minified;\n}\nfunction optimizeXml(content, options) {\n    let optimized = content;\n    // Remove comments if requested\n    if (options.removeComments) {\n        optimized = optimized.replace(/<!--[\\s\\S]*?-->/g, '');\n    }\n    // Normalize whitespace between tags\n    optimized = optimized.replace(/>\\s+</g, '>\\n<');\n    return optimized;\n}\n// CSV-specific functions\nfunction minifyCsv(content, options) {\n    const lines = content.split('\\n');\n    // Remove empty lines\n    const filteredLines = options.removeEmptyLines ? lines.filter((line)=>line.trim() !== '') : lines;\n    // Remove extra spaces around commas\n    const cleanedLines = filteredLines.map((line)=>line.replace(/\\s*,\\s*/g, ',').trim());\n    return cleanedLines.join('\\n');\n}\n// Markdown-specific functions\nfunction optimizeMarkdown(content, options) {\n    let optimized = content;\n    // Remove comments (HTML comments in markdown)\n    if (options.removeComments) {\n        optimized = optimized.replace(/<!--[\\s\\S]*?-->/g, '');\n    }\n    // Normalize heading spacing\n    optimized = optimized.replace(/^(#{1,6})\\s*(.+)$/gm, '$1 $2');\n    // Normalize list spacing\n    optimized = optimized.replace(/^(\\s*[*+-])\\s+/gm, '$1 ');\n    return optimized;\n}\n// Plain text optimization\nfunction minifyPlainText(content, options) {\n    let minified = content;\n    if (options.removeExtraWhitespace) {\n        minified = minified.replace(/[ \\t]+/g, ' ');\n        minified = minified.replace(/[ \\t]+$/gm, '');\n    }\n    if (options.removeEmptyLines) {\n        minified = minified.replace(/\\n\\s*\\n\\s*\\n/g, '\\n\\n');\n    }\n    return minified.trim();\n}\n// Batch compress text files\nasync function compressTextFiles(files, options = {}, progressCallback = ()=>{}) {\n    const results = [];\n    const totalFiles = files.length;\n    for(let i = 0; i < totalFiles; i++){\n        const file = files[i];\n        try {\n            const fileProgressCallback = (progress)=>{\n                const overallProgress = (i / totalFiles + progress / 100 / totalFiles) * 100;\n                progressCallback(overallProgress, i, file.name);\n            };\n            const compressedFile = await compressText(file, {\n                ...options,\n                progressCallback: fileProgressCallback\n            });\n            results.push({\n                original: file,\n                compressed: compressedFile,\n                reduction: calculateReduction(file.size, compressedFile.size),\n                success: true\n            });\n        } catch (error) {\n            _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.error(`Failed to compress ${file.name}:`, error);\n            results.push({\n                original: file,\n                compressed: null,\n                error: error.message,\n                success: false\n            });\n        }\n    }\n    return results;\n}\n// Helper functions\nfunction detectTextFileType(file) {\n    const extension = file.name.split('.').pop().toLowerCase();\n    switch(extension){\n        case 'json':\n            return TEXT_FORMATS.JSON;\n        case 'xml':\n            return TEXT_FORMATS.XML;\n        case 'csv':\n            return TEXT_FORMATS.CSV;\n        case 'md':\n        case 'markdown':\n            return TEXT_FORMATS.MARKDOWN;\n        case 'rtf':\n            return TEXT_FORMATS.RTF;\n        default:\n            return TEXT_FORMATS.PLAIN;\n    }\n}\nfunction readFileAsText(file) {\n    return new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            resolve(e.target.result);\n        };\n        reader.onerror = ()=>{\n            reject(new Error('Failed to read file'));\n        };\n        reader.readAsText(file);\n    });\n}\nfunction calculateReduction(originalSize, compressedSize) {\n    return ((originalSize - compressedSize) / originalSize * 100).toFixed(2);\n}\n// Get text file metadata\nasync function getTextMetadata(file) {\n    try {\n        const content = await readFileAsText(file);\n        const lines = content.split('\\n');\n        const words = content.split(/\\s+/).filter((word)=>word.length > 0);\n        const characters = content.length;\n        const charactersNoSpaces = content.replace(/\\s/g, '').length;\n        return {\n            filename: file.name,\n            size: (0,_pdfUtils__WEBPACK_IMPORTED_MODULE_0__.formatFileSize)(file.size),\n            type: detectTextFileType(file),\n            lines: lines.length,\n            words: words.length,\n            characters: characters,\n            charactersNoSpaces: charactersNoSpaces,\n            averageWordsPerLine: (words.length / lines.length).toFixed(2),\n            encoding: 'UTF-8' // Assumption for web files\n        };\n    } catch (error) {\n        _pdfUtils__WEBPACK_IMPORTED_MODULE_0__.debugConfig.error('Error getting text metadata:', error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUM7WUFDM0RRLFVBQVUsUUFBUSwyQkFBMkI7UUFDL0M7SUFDRixFQUFFLE9BQU9oRSxPQUFPO1FBQ2Q1QyxrREFBV0EsQ0FBQzRDLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQ2xELE1BQU1BO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2JyaWFuY2hldy9kZXYvY29tcHJlc3MvdXRpbHMvdGV4dFV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRleHQgZmlsZSBjb21wcmVzc2lvbiBhbmQgb3B0aW1pemF0aW9uIHV0aWxpdGllc1xuXG5pbXBvcnQgeyBkZWJ1Z0NvbmZpZywgZm9ybWF0RmlsZVNpemUgfSBmcm9tICcuL3BkZlV0aWxzJztcblxuLy8gRHluYW1pYyBpbXBvcnQgZm9yIHBha28gKGNsaWVudC1zaWRlIG9ubHkpXG5sZXQgcGFrbyA9IG51bGw7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgaW1wb3J0KCdwYWtvJykudGhlbihtb2R1bGUgPT4ge1xuICAgIHBha28gPSBtb2R1bGU7XG4gIH0pO1xufVxuXG5leHBvcnQgY29uc3QgVEVYVF9GT1JNQVRTID0ge1xuICBQTEFJTjogJ3R4dCcsXG4gIE1BUktET1dOOiAnbWQnLFxuICBKU09OOiAnanNvbicsXG4gIFhNTDogJ3htbCcsXG4gIENTVjogJ2NzdicsXG4gIFJURjogJ3J0Zidcbn07XG5cbmV4cG9ydCBjb25zdCBDT01QUkVTU0lPTl9NRVRIT0RTID0ge1xuICBHWklQOiAnZ3ppcCcsXG4gIE1JTklGWTogJ21pbmlmeScsXG4gIE9QVElNSVpFOiAnb3B0aW1pemUnXG59O1xuXG4vLyBDb21wcmVzcyB0ZXh0IGZpbGUgdXNpbmcgdmFyaW91cyBtZXRob2RzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29tcHJlc3NUZXh0KGZpbGUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbWV0aG9kID0gQ09NUFJFU1NJT05fTUVUSE9EUy5PUFRJTUlaRSxcbiAgICByZW1vdmVDb21tZW50cyA9IHRydWUsXG4gICAgcmVtb3ZlRXh0cmFXaGl0ZXNwYWNlID0gdHJ1ZSxcbiAgICByZW1vdmVFbXB0eUxpbmVzID0gdHJ1ZSxcbiAgICBvcHRpbWl6ZUpzb24gPSB0cnVlLFxuICAgIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7fVxuICB9ID0gb3B0aW9ucztcblxuICB0cnkge1xuICAgIHByb2dyZXNzQ2FsbGJhY2soMTApO1xuICAgIFxuICAgIC8vIFJlYWQgZmlsZSBjb250ZW50XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHJlYWRGaWxlQXNUZXh0KGZpbGUpO1xuICAgIFxuICAgIHByb2dyZXNzQ2FsbGJhY2soMzApO1xuICAgIFxuICAgIGxldCBjb21wcmVzc2VkQ29udGVudCA9IGNvbnRlbnQ7XG4gICAgXG4gICAgLy8gQXBwbHkgY29tcHJlc3Npb24gYmFzZWQgb24gZmlsZSB0eXBlIGFuZCBtZXRob2RcbiAgICBjb25zdCBmaWxlVHlwZSA9IGRldGVjdFRleHRGaWxlVHlwZShmaWxlKTtcbiAgICBcbiAgICBwcm9ncmVzc0NhbGxiYWNrKDUwKTtcbiAgICBcbiAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgY2FzZSBDT01QUkVTU0lPTl9NRVRIT0RTLk1JTklGWTpcbiAgICAgICAgY29tcHJlc3NlZENvbnRlbnQgPSBhd2FpdCBtaW5pZnlUZXh0KGNvbnRlbnQsIGZpbGVUeXBlLCB7XG4gICAgICAgICAgcmVtb3ZlQ29tbWVudHMsXG4gICAgICAgICAgcmVtb3ZlRXh0cmFXaGl0ZXNwYWNlLFxuICAgICAgICAgIHJlbW92ZUVtcHR5TGluZXNcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgQ09NUFJFU1NJT05fTUVUSE9EUy5PUFRJTUlaRTpcbiAgICAgICAgY29tcHJlc3NlZENvbnRlbnQgPSBhd2FpdCBvcHRpbWl6ZVRleHQoY29udGVudCwgZmlsZVR5cGUsIHtcbiAgICAgICAgICByZW1vdmVDb21tZW50cyxcbiAgICAgICAgICByZW1vdmVFeHRyYVdoaXRlc3BhY2UsXG4gICAgICAgICAgcmVtb3ZlRW1wdHlMaW5lcyxcbiAgICAgICAgICBvcHRpbWl6ZUpzb25cbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgQ09NUFJFU1NJT05fTUVUSE9EUy5HWklQOlxuICAgICAgICBpZiAocGFrbykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBVc2UgcGFrbyBmb3IgR1pJUCBjb21wcmVzc2lvblxuICAgICAgICAgICAgY29uc3QgdWludDhBcnJheSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSBwYWtvLmd6aXAodWludDhBcnJheSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBmaWxlIHdpdGggLmd6IGV4dGVuc2lvblxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjb21wcmVzc2VkXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vZ3ppcCcgfSk7XG4gICAgICAgICAgICBjb25zdCBnekZpbGVOYW1lID0gZmlsZS5uYW1lICsgJy5neic7XG4gICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZ3pGaWxlTmFtZSwgeyB0eXBlOiAnYXBwbGljYXRpb24vZ3ppcCcgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2soMTAwKTtcbiAgICAgICAgICAgIHJldHVybiBjb21wcmVzc2VkRmlsZTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZGVidWdDb25maWcud2FybignR1pJUCBjb21wcmVzc2lvbiBmYWlsZWQsIGZhbGxpbmcgYmFjayB0byBvcHRpbWl6YXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgY29tcHJlc3NlZENvbnRlbnQgPSBhd2FpdCBvcHRpbWl6ZVRleHQoY29udGVudCwgZmlsZVR5cGUsIG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWJ1Z0NvbmZpZy53YXJuKCdQYWtvIG5vdCBhdmFpbGFibGUsIGZhbGxpbmcgYmFjayB0byBvcHRpbWl6YXRpb24nKTtcbiAgICAgICAgICBjb21wcmVzc2VkQ29udGVudCA9IGF3YWl0IG9wdGltaXplVGV4dChjb250ZW50LCBmaWxlVHlwZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIFxuICAgIHByb2dyZXNzQ2FsbGJhY2soODApO1xuICAgIFxuICAgIC8vIENyZWF0ZSBjb21wcmVzc2VkIGZpbGVcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvbXByZXNzZWRDb250ZW50XSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwgeyB0eXBlOiBmaWxlLnR5cGUgfSk7XG4gICAgXG4gICAgcHJvZ3Jlc3NDYWxsYmFjaygxMDApO1xuICAgIFxuICAgIHJldHVybiBjb21wcmVzc2VkRmlsZTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBkZWJ1Z0NvbmZpZy5lcnJvcignRXJyb3IgY29tcHJlc3NpbmcgdGV4dCBmaWxlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBNaW5pZnkgdGV4dCBjb250ZW50XG5hc3luYyBmdW5jdGlvbiBtaW5pZnlUZXh0KGNvbnRlbnQsIGZpbGVUeXBlLCBvcHRpb25zKSB7XG4gIGxldCBtaW5pZmllZCA9IGNvbnRlbnQ7XG4gIFxuICBzd2l0Y2ggKGZpbGVUeXBlKSB7XG4gICAgY2FzZSBURVhUX0ZPUk1BVFMuSlNPTjpcbiAgICAgIG1pbmlmaWVkID0gbWluaWZ5SnNvbihjb250ZW50KTtcbiAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgY2FzZSBURVhUX0ZPUk1BVFMuWE1MOlxuICAgICAgbWluaWZpZWQgPSBtaW5pZnlYbWwoY29udGVudCwgb3B0aW9ucyk7XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGNhc2UgVEVYVF9GT1JNQVRTLkNTVjpcbiAgICAgIG1pbmlmaWVkID0gbWluaWZ5Q3N2KGNvbnRlbnQsIG9wdGlvbnMpO1xuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICBkZWZhdWx0OlxuICAgICAgbWluaWZpZWQgPSBtaW5pZnlQbGFpblRleHQoY29udGVudCwgb3B0aW9ucyk7XG4gICAgICBicmVhaztcbiAgfVxuICBcbiAgcmV0dXJuIG1pbmlmaWVkO1xufVxuXG4vLyBPcHRpbWl6ZSB0ZXh0IGNvbnRlbnRcbmFzeW5jIGZ1bmN0aW9uIG9wdGltaXplVGV4dChjb250ZW50LCBmaWxlVHlwZSwgb3B0aW9ucykge1xuICBsZXQgb3B0aW1pemVkID0gY29udGVudDtcbiAgXG4gIC8vIEFwcGx5IGNvbW1vbiBvcHRpbWl6YXRpb25zXG4gIGlmIChvcHRpb25zLnJlbW92ZUV4dHJhV2hpdGVzcGFjZSkge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZC5yZXBsYWNlKC9bIFxcdF0rL2csICcgJyk7IC8vIE11bHRpcGxlIHNwYWNlcy90YWJzIHRvIHNpbmdsZSBzcGFjZVxuICAgIG9wdGltaXplZCA9IG9wdGltaXplZC5yZXBsYWNlKC9bIFxcdF0rJC9nbSwgJycpOyAvLyBUcmFpbGluZyB3aGl0ZXNwYWNlXG4gIH1cbiAgXG4gIGlmIChvcHRpb25zLnJlbW92ZUVtcHR5TGluZXMpIHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQucmVwbGFjZSgvXFxuXFxzKlxcblxccypcXG4vZywgJ1xcblxcbicpOyAvLyBNdWx0aXBsZSBlbXB0eSBsaW5lcyB0byBkb3VibGVcbiAgfVxuICBcbiAgLy8gRmlsZS10eXBlIHNwZWNpZmljIG9wdGltaXphdGlvbnNcbiAgc3dpdGNoIChmaWxlVHlwZSkge1xuICAgIGNhc2UgVEVYVF9GT1JNQVRTLkpTT046XG4gICAgICBpZiAob3B0aW9ucy5vcHRpbWl6ZUpzb24pIHtcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVKc29uKG9wdGltaXplZCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGNhc2UgVEVYVF9GT1JNQVRTLlhNTDpcbiAgICAgIG9wdGltaXplZCA9IG9wdGltaXplWG1sKG9wdGltaXplZCwgb3B0aW9ucyk7XG4gICAgICBicmVhaztcbiAgICAgIFxuICAgIGNhc2UgVEVYVF9GT1JNQVRTLk1BUktET1dOOlxuICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVNYXJrZG93bihvcHRpbWl6ZWQsIG9wdGlvbnMpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgXG4gIHJldHVybiBvcHRpbWl6ZWQ7XG59XG5cbi8vIEpTT04tc3BlY2lmaWMgZnVuY3Rpb25zXG5mdW5jdGlvbiBtaW5pZnlKc29uKGNvbnRlbnQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJzZWQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGRlYnVnQ29uZmlnLndhcm4oJ0ludmFsaWQgSlNPTiwgcmV0dXJuaW5nIG9yaWdpbmFsIGNvbnRlbnQnKTtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcHRpbWl6ZUpzb24oY29udGVudCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgLy8gUHJldHR5IHByaW50IHdpdGggMiBzcGFjZXMgKGdvb2QgYmFsYW5jZSBiZXR3ZWVuIHJlYWRhYmlsaXR5IGFuZCBzaXplKVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwYXJzZWQsIG51bGwsIDIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGRlYnVnQ29uZmlnLndhcm4oJ0ludmFsaWQgSlNPTiwgcmV0dXJuaW5nIG9yaWdpbmFsIGNvbnRlbnQnKTtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxufVxuXG4vLyBYTUwtc3BlY2lmaWMgZnVuY3Rpb25zXG5mdW5jdGlvbiBtaW5pZnlYbWwoY29udGVudCwgb3B0aW9ucykge1xuICBsZXQgbWluaWZpZWQgPSBjb250ZW50O1xuICBcbiAgLy8gUmVtb3ZlIGNvbW1lbnRzXG4gIGlmIChvcHRpb25zLnJlbW92ZUNvbW1lbnRzKSB7XG4gICAgbWluaWZpZWQgPSBtaW5pZmllZC5yZXBsYWNlKC88IS0tW1xcc1xcU10qPy0tPi9nLCAnJyk7XG4gIH1cbiAgXG4gIC8vIFJlbW92ZSBleHRyYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGFnc1xuICBtaW5pZmllZCA9IG1pbmlmaWVkLnJlcGxhY2UoLz5cXHMrPC9nLCAnPjwnKTtcbiAgXG4gIC8vIFJlbW92ZSBsZWFkaW5nL3RyYWlsaW5nIHdoaXRlc3BhY2VcbiAgbWluaWZpZWQgPSBtaW5pZmllZC50cmltKCk7XG4gIFxuICByZXR1cm4gbWluaWZpZWQ7XG59XG5cbmZ1bmN0aW9uIG9wdGltaXplWG1sKGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgbGV0IG9wdGltaXplZCA9IGNvbnRlbnQ7XG4gIFxuICAvLyBSZW1vdmUgY29tbWVudHMgaWYgcmVxdWVzdGVkXG4gIGlmIChvcHRpb25zLnJlbW92ZUNvbW1lbnRzKSB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkLnJlcGxhY2UoLzwhLS1bXFxzXFxTXSo/LS0+L2csICcnKTtcbiAgfVxuICBcbiAgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2UgYmV0d2VlbiB0YWdzXG4gIG9wdGltaXplZCA9IG9wdGltaXplZC5yZXBsYWNlKC8+XFxzKzwvZywgJz5cXG48Jyk7XG4gIFxuICByZXR1cm4gb3B0aW1pemVkO1xufVxuXG4vLyBDU1Ytc3BlY2lmaWMgZnVuY3Rpb25zXG5mdW5jdGlvbiBtaW5pZnlDc3YoY29udGVudCwgb3B0aW9ucykge1xuICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICBcbiAgLy8gUmVtb3ZlIGVtcHR5IGxpbmVzXG4gIGNvbnN0IGZpbHRlcmVkTGluZXMgPSBvcHRpb25zLnJlbW92ZUVtcHR5TGluZXMgXG4gICAgPyBsaW5lcy5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSAhPT0gJycpXG4gICAgOiBsaW5lcztcbiAgXG4gIC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYXJvdW5kIGNvbW1hc1xuICBjb25zdCBjbGVhbmVkTGluZXMgPSBmaWx0ZXJlZExpbmVzLm1hcChsaW5lID0+IFxuICAgIGxpbmUucmVwbGFjZSgvXFxzKixcXHMqL2csICcsJykudHJpbSgpXG4gICk7XG4gIFxuICByZXR1cm4gY2xlYW5lZExpbmVzLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBNYXJrZG93bi1zcGVjaWZpYyBmdW5jdGlvbnNcbmZ1bmN0aW9uIG9wdGltaXplTWFya2Rvd24oY29udGVudCwgb3B0aW9ucykge1xuICBsZXQgb3B0aW1pemVkID0gY29udGVudDtcbiAgXG4gIC8vIFJlbW92ZSBjb21tZW50cyAoSFRNTCBjb21tZW50cyBpbiBtYXJrZG93bilcbiAgaWYgKG9wdGlvbnMucmVtb3ZlQ29tbWVudHMpIHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQucmVwbGFjZSgvPCEtLVtcXHNcXFNdKj8tLT4vZywgJycpO1xuICB9XG4gIFxuICAvLyBOb3JtYWxpemUgaGVhZGluZyBzcGFjaW5nXG4gIG9wdGltaXplZCA9IG9wdGltaXplZC5yZXBsYWNlKC9eKCN7MSw2fSlcXHMqKC4rKSQvZ20sICckMSAkMicpO1xuICBcbiAgLy8gTm9ybWFsaXplIGxpc3Qgc3BhY2luZ1xuICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQucmVwbGFjZSgvXihcXHMqWyorLV0pXFxzKy9nbSwgJyQxICcpO1xuICBcbiAgcmV0dXJuIG9wdGltaXplZDtcbn1cblxuLy8gUGxhaW4gdGV4dCBvcHRpbWl6YXRpb25cbmZ1bmN0aW9uIG1pbmlmeVBsYWluVGV4dChjb250ZW50LCBvcHRpb25zKSB7XG4gIGxldCBtaW5pZmllZCA9IGNvbnRlbnQ7XG4gIFxuICBpZiAob3B0aW9ucy5yZW1vdmVFeHRyYVdoaXRlc3BhY2UpIHtcbiAgICBtaW5pZmllZCA9IG1pbmlmaWVkLnJlcGxhY2UoL1sgXFx0XSsvZywgJyAnKTtcbiAgICBtaW5pZmllZCA9IG1pbmlmaWVkLnJlcGxhY2UoL1sgXFx0XSskL2dtLCAnJyk7XG4gIH1cbiAgXG4gIGlmIChvcHRpb25zLnJlbW92ZUVtcHR5TGluZXMpIHtcbiAgICBtaW5pZmllZCA9IG1pbmlmaWVkLnJlcGxhY2UoL1xcblxccypcXG5cXHMqXFxuL2csICdcXG5cXG4nKTtcbiAgfVxuICBcbiAgcmV0dXJuIG1pbmlmaWVkLnRyaW0oKTtcbn1cblxuLy8gQmF0Y2ggY29tcHJlc3MgdGV4dCBmaWxlc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXByZXNzVGV4dEZpbGVzKGZpbGVzLCBvcHRpb25zID0ge30sIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7fSkge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGNvbnN0IHRvdGFsRmlsZXMgPSBmaWxlcy5sZW5ndGg7XG4gIFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsRmlsZXM7IGkrKykge1xuICAgIGNvbnN0IGZpbGUgPSBmaWxlc1tpXTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZVByb2dyZXNzQ2FsbGJhY2sgPSAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgY29uc3Qgb3ZlcmFsbFByb2dyZXNzID0gKChpIC8gdG90YWxGaWxlcykgKyAocHJvZ3Jlc3MgLyAxMDApIC8gdG90YWxGaWxlcykgKiAxMDA7XG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2sob3ZlcmFsbFByb2dyZXNzLCBpLCBmaWxlLm5hbWUpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBhd2FpdCBjb21wcmVzc1RleHQoZmlsZSwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBwcm9ncmVzc0NhbGxiYWNrOiBmaWxlUHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIG9yaWdpbmFsOiBmaWxlLFxuICAgICAgICBjb21wcmVzc2VkOiBjb21wcmVzc2VkRmlsZSxcbiAgICAgICAgcmVkdWN0aW9uOiBjYWxjdWxhdGVSZWR1Y3Rpb24oZmlsZS5zaXplLCBjb21wcmVzc2VkRmlsZS5zaXplKSxcbiAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZGVidWdDb25maWcuZXJyb3IoYEZhaWxlZCB0byBjb21wcmVzcyAke2ZpbGUubmFtZX06YCwgZXJyb3IpO1xuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgb3JpZ2luYWw6IGZpbGUsXG4gICAgICAgIGNvbXByZXNzZWQ6IG51bGwsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uc1xuZnVuY3Rpb24gZGV0ZWN0VGV4dEZpbGVUeXBlKGZpbGUpIHtcbiAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcbiAgXG4gIHN3aXRjaCAoZXh0ZW5zaW9uKSB7XG4gICAgY2FzZSAnanNvbic6IHJldHVybiBURVhUX0ZPUk1BVFMuSlNPTjtcbiAgICBjYXNlICd4bWwnOiByZXR1cm4gVEVYVF9GT1JNQVRTLlhNTDtcbiAgICBjYXNlICdjc3YnOiByZXR1cm4gVEVYVF9GT1JNQVRTLkNTVjtcbiAgICBjYXNlICdtZCc6IGNhc2UgJ21hcmtkb3duJzogcmV0dXJuIFRFWFRfRk9STUFUUy5NQVJLRE9XTjtcbiAgICBjYXNlICdydGYnOiByZXR1cm4gVEVYVF9GT1JNQVRTLlJURjtcbiAgICBkZWZhdWx0OiByZXR1cm4gVEVYVF9GT1JNQVRTLlBMQUlOO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRGaWxlQXNUZXh0KGZpbGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIFxuICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpO1xuICAgIH07XG4gICAgXG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCBmaWxlJykpO1xuICAgIH07XG4gICAgXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVSZWR1Y3Rpb24ob3JpZ2luYWxTaXplLCBjb21wcmVzc2VkU2l6ZSkge1xuICByZXR1cm4gKChvcmlnaW5hbFNpemUgLSBjb21wcmVzc2VkU2l6ZSkgLyBvcmlnaW5hbFNpemUgKiAxMDApLnRvRml4ZWQoMik7XG59XG5cbi8vIEdldCB0ZXh0IGZpbGUgbWV0YWRhdGFcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUZXh0TWV0YWRhdGEoZmlsZSkge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCByZWFkRmlsZUFzVGV4dChmaWxlKTtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IHdvcmRzID0gY29udGVudC5zcGxpdCgvXFxzKy8pLmZpbHRlcih3b3JkID0+IHdvcmQubGVuZ3RoID4gMCk7XG4gICAgY29uc3QgY2hhcmFjdGVycyA9IGNvbnRlbnQubGVuZ3RoO1xuICAgIGNvbnN0IGNoYXJhY3RlcnNOb1NwYWNlcyA9IGNvbnRlbnQucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbGVuYW1lOiBmaWxlLm5hbWUsXG4gICAgICBzaXplOiBmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpLFxuICAgICAgdHlwZTogZGV0ZWN0VGV4dEZpbGVUeXBlKGZpbGUpLFxuICAgICAgbGluZXM6IGxpbmVzLmxlbmd0aCxcbiAgICAgIHdvcmRzOiB3b3Jkcy5sZW5ndGgsXG4gICAgICBjaGFyYWN0ZXJzOiBjaGFyYWN0ZXJzLFxuICAgICAgY2hhcmFjdGVyc05vU3BhY2VzOiBjaGFyYWN0ZXJzTm9TcGFjZXMsXG4gICAgICBhdmVyYWdlV29yZHNQZXJMaW5lOiAod29yZHMubGVuZ3RoIC8gbGluZXMubGVuZ3RoKS50b0ZpeGVkKDIpLFxuICAgICAgZW5jb2Rpbmc6ICdVVEYtOCcgLy8gQXNzdW1wdGlvbiBmb3Igd2ViIGZpbGVzXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBkZWJ1Z0NvbmZpZy5lcnJvcignRXJyb3IgZ2V0dGluZyB0ZXh0IG1ldGFkYXRhOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufSJdLCJuYW1lcyI6WyJkZWJ1Z0NvbmZpZyIsImZvcm1hdEZpbGVTaXplIiwicGFrbyIsInRoZW4iLCJtb2R1bGUiLCJURVhUX0ZPUk1BVFMiLCJQTEFJTiIsIk1BUktET1dOIiwiSlNPTiIsIlhNTCIsIkNTViIsIlJURiIsIkNPTVBSRVNTSU9OX01FVEhPRFMiLCJHWklQIiwiTUlOSUZZIiwiT1BUSU1JWkUiLCJjb21wcmVzc1RleHQiLCJmaWxlIiwib3B0aW9ucyIsIm1ldGhvZCIsInJlbW92ZUNvbW1lbnRzIiwicmVtb3ZlRXh0cmFXaGl0ZXNwYWNlIiwicmVtb3ZlRW1wdHlMaW5lcyIsIm9wdGltaXplSnNvbiIsInByb2dyZXNzQ2FsbGJhY2siLCJjb250ZW50IiwicmVhZEZpbGVBc1RleHQiLCJjb21wcmVzc2VkQ29udGVudCIsImZpbGVUeXBlIiwiZGV0ZWN0VGV4dEZpbGVUeXBlIiwibWluaWZ5VGV4dCIsIm9wdGltaXplVGV4dCIsInVpbnQ4QXJyYXkiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImNvbXByZXNzZWQiLCJnemlwIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwiZ3pGaWxlTmFtZSIsIm5hbWUiLCJjb21wcmVzc2VkRmlsZSIsIkZpbGUiLCJlcnJvciIsIndhcm4iLCJtaW5pZmllZCIsIm1pbmlmeUpzb24iLCJtaW5pZnlYbWwiLCJtaW5pZnlDc3YiLCJtaW5pZnlQbGFpblRleHQiLCJvcHRpbWl6ZWQiLCJyZXBsYWNlIiwib3B0aW1pemVYbWwiLCJvcHRpbWl6ZU1hcmtkb3duIiwicGFyc2VkIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ0cmltIiwibGluZXMiLCJzcGxpdCIsImZpbHRlcmVkTGluZXMiLCJmaWx0ZXIiLCJsaW5lIiwiY2xlYW5lZExpbmVzIiwibWFwIiwiam9pbiIsImNvbXByZXNzVGV4dEZpbGVzIiwiZmlsZXMiLCJyZXN1bHRzIiwidG90YWxGaWxlcyIsImxlbmd0aCIsImkiLCJmaWxlUHJvZ3Jlc3NDYWxsYmFjayIsInByb2dyZXNzIiwib3ZlcmFsbFByb2dyZXNzIiwicHVzaCIsIm9yaWdpbmFsIiwicmVkdWN0aW9uIiwiY2FsY3VsYXRlUmVkdWN0aW9uIiwic2l6ZSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXh0ZW5zaW9uIiwicG9wIiwidG9Mb3dlckNhc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJlIiwidGFyZ2V0IiwicmVzdWx0Iiwib25lcnJvciIsIkVycm9yIiwicmVhZEFzVGV4dCIsIm9yaWdpbmFsU2l6ZSIsImNvbXByZXNzZWRTaXplIiwidG9GaXhlZCIsImdldFRleHRNZXRhZGF0YSIsIndvcmRzIiwid29yZCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTm9TcGFjZXMiLCJmaWxlbmFtZSIsImF2ZXJhZ2VXb3Jkc1BlckxpbmUiLCJlbmNvZGluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/textUtils.js\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();